[{"path":"https://data-wise.github.io/medfit/CLAUDE.html","id":null,"dir":"","previous_headings":"","what":"CLAUDE.md for medfit Package","title":"CLAUDE.md for medfit Package","text":"file provides guidance Claude Code (claude.ai/code) working code repository.","code":""},{"path":"https://data-wise.github.io/medfit/CLAUDE.html","id":"about-this-package","dir":"","previous_headings":"","what":"About This Package","title":"CLAUDE.md for medfit Package","text":"medfit foundation package providing unified infrastructure fitting mediation models, extracting path coefficients, performing bootstrap inference. eliminates redundancy across mediation analysis ecosystem (probmed, RMediation, medrobust) providing shared S7-based classes methods.","code":""},{"path":"https://data-wise.github.io/medfit/CLAUDE.html","id":"core-mission","dir":"","previous_headings":"About This Package","what":"Core Mission","title":"CLAUDE.md for medfit Package","text":"Provide clean, efficient, type-safe infrastructure mediation model handling can shared across multiple effect size computation packages, reducing code duplication ensuring consistency.","code":""},{"path":"https://data-wise.github.io/medfit/CLAUDE.html","id":"package-ecosystem-context","dir":"","previous_headings":"About This Package","what":"Package Ecosystem Context","title":"CLAUDE.md for medfit Package","text":"medfit foundation : Uses medfit : model fitting, extraction, bootstrap Adds: P_med computation, visualization Uses medfit : model extraction, bootstrap utilities Adds: Distribution Product, MBCO tests, MC methods Uses medfit : optional naive estimates, bootstrap Adds: Bounds computation, falsification tests Key Principle: medfit provides infrastructure, effect sizes. dependent package focuses unique methodological contribution.","code":""},{"path":"https://data-wise.github.io/medfit/CLAUDE.html","id":"key-references","dir":"","previous_headings":"About This Package","what":"Key References","title":"CLAUDE.md for medfit Package","text":"Tofighi, D. (2025). medfit: Infrastructure mediation analysis R. (preparation) Related: probmed, RMediation, medrobust package documentation","code":""},{"path":"https://data-wise.github.io/medfit/CLAUDE.html","id":"common-development-commands","dir":"","previous_headings":"","what":"Common Development Commands","title":"CLAUDE.md for medfit Package","text":"Preferred Tools: Use devtools usethis packages R package development tasks. provide convenient wrappers best practices package development workflows.","code":""},{"path":"https://data-wise.github.io/medfit/CLAUDE.html","id":"package-building-and-checking","dir":"","previous_headings":"Common Development Commands","what":"Package Building and Checking","title":"CLAUDE.md for medfit Package","text":"","code":"# Install package dependencies remotes::install_deps(dependencies = TRUE)  # Check package (standard R CMD check) rcmdcheck::rcmdcheck(args = \"--no-manual\", error_on = \"error\")  # Build package devtools::build()  # Install and reload during development devtools::load_all()"},{"path":"https://data-wise.github.io/medfit/CLAUDE.html","id":"documentation","dir":"","previous_headings":"Common Development Commands","what":"Documentation","title":"CLAUDE.md for medfit Package","text":"pkgdown Website Building: package uses pkgdown generate website package documentation. Configuration _pkgdown.yml. Workflow: 1. Update _pkgdown.yml adding new exported functions classes - Add new classes ‚ÄúS7 Classes‚Äù section reference: - Add new functions appropriate sections - Example: adding SerialMediationData, must add reference index Build check site: Common issues: ‚ÄúTopic missing index‚Äù: Add topic _pkgdown.yml reference section ‚ÄúURL ok‚Äù: Ensure DESCRIPTION correct URL field Non-ASCII characters: Replace ASCII equivalents (-> instead ‚Üí, * instead √ó) pkgdown Configuration Essentials: - Reference index must list exported topics - Group related functions/classes together better organization - Use starts_with() patterns methods (print, summary, etc.) - Website builds docs/ directory Quarto Vignettes pkgdown Workflow: ensure Quarto vignettes pass workflow checks render correctly GitHub: Initial Setup: automatically: Creates gh-pages branch hosting Generates .github/workflows/pkgdown.yaml Updates DESCRIPTION _pkgdown.yml site URL Declare Dependencies: List vignette dependencies DESCRIPTION Suggests website-dependencies, use Config/Needs/website field: ensures CI installs without cluttering package dependencies Quarto Support: pkgdown automatically detects renders Quarto vignettes Vignettes appear articles/ section website special configuration needed basic Quarto files Computationally Expensive Vignettes: vignette code slow requires credentials, use Articles instead: Articles rendered pkgdown included R CMD check Prevents timeouts failures CI servers Use : heavy simulations, API examples requiring keys, large data processing Common Workflow Failures: Missing system libraries: Ensure system dependencies available CI runner Malformed markdown: Use consistent header levels (#, ##) NEWS.md Branch permissions: Workflow needs write access gh-pages branch Missing dependencies: Check packages used vignettes DESCRIPTION Workflow Checklist: Run usethis::use_pkgdown_github_pages() initial setup Add vignette dependencies DESCRIPTION Suggests Config/Needs/website Convert heavy vignettes Articles usethis::use_article() Test locally pkgdown::build_site() pushing Verify GitHub Actions permission deploy gh-pages","code":"# Generate documentation from roxygen2 comments devtools::document()  # Build vignettes devtools::build_vignettes()  # Build pkgdown site pkgdown::build_site() pkgdown::build_site() # Initialize pkgdown with GitHub Pages support usethis::use_pkgdown_github_pages() Config/Needs/website: ggplot2, dplyr, tidyr usethis::use_article(\"article-name\")"},{"path":"https://data-wise.github.io/medfit/CLAUDE.html","id":"testing","dir":"","previous_headings":"Common Development Commands","what":"Testing","title":"CLAUDE.md for medfit Package","text":"","code":"# Run all tests devtools::test()  # Run specific test file testthat::test_file(\"tests/testthat/test-classes.R\")  # Check coverage covr::package_coverage()"},{"path":[]},{"path":"https://data-wise.github.io/medfit/CLAUDE.html","id":"r-version-and-style","dir":"","previous_headings":"Coding Standards","what":"R Version and Style","title":"CLAUDE.md for medfit Package","text":"Minimum R version: 4.1.0 (native pipe |> support) OOP Framework: S7 (modern object system) Style: tidyverse style guide native pipe Roxygen2: Use roxygen2 documentation (>= 7.3.0) Clarity priority: Code must readable maintainable","code":""},{"path":"https://data-wise.github.io/medfit/CLAUDE.html","id":"naming-conventions","dir":"","previous_headings":"Coding Standards","what":"Naming Conventions","title":"CLAUDE.md for medfit Package","text":"package uses snake_case consistently: Functions: - Main exports: fit_mediation(), extract_mediation(), bootstrap_mediation() - Internal functions prefix dot: .fit_mediation_glm(), .bootstrap_parametric() Arguments: - formula_y, formula_m model specifications - treatment, mediator, outcome variable names - engine modeling engine: ‚Äúglm‚Äù, ‚Äúlmer‚Äù, ‚Äúbrms‚Äù - method inference method: ‚Äúparametric‚Äù, ‚Äúnonparametric‚Äù, ‚Äúplugin‚Äù - n_boot number bootstrap samples - ci_level confidence level (default: 0.95) S7 Classes: - CamelCase: MediationData, BootstrapResult - Properties use snake_case: @a_path, @boot_estimates","code":""},{"path":"https://data-wise.github.io/medfit/CLAUDE.html","id":"code-organization","dir":"","previous_headings":"Coding Standards","what":"Code Organization","title":"CLAUDE.md for medfit Package","text":"","code":"R/ ‚îú‚îÄ‚îÄ aaa-imports.R           # Package imports and setup ‚îú‚îÄ‚îÄ medfit-package.R        # Package documentation ‚îú‚îÄ‚îÄ classes.R               # S7 class definitions ‚îú‚îÄ‚îÄ generics.R              # S7 generic functions ‚îú‚îÄ‚îÄ fit-glm.R              # GLM engine implementation ‚îú‚îÄ‚îÄ extract-lm.R           # lm/glm extraction ‚îú‚îÄ‚îÄ extract-lavaan.R       # lavaan extraction ‚îú‚îÄ‚îÄ extract-openmx.R       # OpenMx extraction (if included) ‚îú‚îÄ‚îÄ bootstrap.R            # Bootstrap infrastructure ‚îú‚îÄ‚îÄ utils.R                # Utility functions ‚îî‚îÄ‚îÄ zzz.R                  # .onLoad() for dynamic dispatch"},{"path":[]},{"path":"https://data-wise.github.io/medfit/CLAUDE.html","id":"s7-object-system","dir":"","previous_headings":"Code Architecture","what":"S7 Object System","title":"CLAUDE.md for medfit Package","text":"package uses S7 type-safe, modern object-oriented programming. Key S7 Classes: Properties: a_path, b_path, c_prime, estimates, vcov, data, etc. Validator ensures internal consistency product--two indirect effects (* b) Properties: a_path, d_path (vector), b_path, c_prime, mediators (vector), etc. Supports product--three (* d * b) product--k Flexible d_path: scalar 2 mediators, vector 3+ Extensible chains length Properties: estimate, ci_lower, ci_upper, boot_estimates, method Validator checks consistency Used packages inference S7 Generics: Methods: lm, glm, lavaan, (future: lmerMod, brmsfit) Returns: MediationData object Dispatcher engine-specific functions Returns: MediationData object Methods: parametric, nonparametric, plugin Returns: BootstrapResult object S7 Documentation Patterns: documenting S7 classes methods roxygen2: S7 Class Constructors: Use explicit @param tags properties S7 Methods: Use @noRd prevent namespace export issues Important: use @export S7 methods (causes namespace errors) use @name tag (causes duplicate .Rd files) Use @noRd document internally without generating .Rd files S7 methods work via automatic dispatch, namespace exports S7 Generics: document generic parameters, method-specific ones Testing S7 Methods: Method dispatch may work installed package context S7 Method Registration .onLoad(): use S7::methods_register() : S7::methods_register() .onLoad() tries register methods classes defined S7 methods defined package build time, load time S7 method dispatch works automatically S7::S4_register() calls Always call S7::S4_register(ClassName) immediately class definition S7 S3 Class Integration: working S3 classes S7 packages, follow guide: Mandatory Package Setup: Call S7::methods_register() .onLoad() Required dynamic method registration Especially important methods generics packages Note: medfit, causes errors package load classes aren‚Äôt defined yet approach: rely S7::S4_register() immediately class definitions Formalizing S3 Classes: Use new_S3_class() wrap S3 classes Built-S3 wrappers: S7 provides class_data.frame, class_Date, class_factor, etc. Inheriting S3 Classes: Requires custom constructor Calling Parent S3 Methods: Use S7_data(), super() Migrating S3 Packages S7: Incremental approach Add S7::methods_register() .onLoad() Wrap existing S3 classes new_S3_class() Gradually replace informal S3 formal new_class() definitions Existing S3 code continues work S7 objects retain S3 class attribute S7 S4 Class Integration: S7 S3 fully compatible, S7 S4 specific interoperability features limitations: Registration S4_register(): CRITICAL S4 compatibility required: S7 classes created runtime, visible S4 default Without registration, S4 dispatch won‚Äôt recognize class medfit: call S7::S4_register() immediately class definition Bidirectional Method Dispatch: S7 supports multiple combinations Inheritance Limitations - ‚ÄúFirewall‚Äù: CRITICAL RESTRICTION: S7 extend S4 classes matters: S7 inherit S4 (opposite direction may work) Major barrier Bioconductor ecosystem (S4-based) subclass core S4 structures like SummarizedExperiment Must use composition instead inheritance Workaround: Use composition Properties Slots: Equivalent concepts S7 properties ‚âà S4 slots (added dynamics) Can use S4 class property type S4 class unions auto-convert new_union() Union handling differs: S4 dispatch time, S7 registration time Migration Strategy - Bottom-Approach: S7 inherit S4, migration requires careful planning: Step--step process: Identify S4 classes bottom hierarchy (children) Re-implement using new_class() Convert S4 slots ‚Üí S7 properties Convert S4 validity methods ‚Üí S7 validator functions Call S4_register() backward compatibility Move hierarchy, replacing parents children converted Example:","code":"#' MediationData S7 Class #' #' @description #' S7 class containing standardized mediation model structure #' #' @param a_path Numeric scalar: effect of treatment on mediator #' @param b_path Numeric scalar: effect of mediator on outcome #' # ... document ALL properties explicitly #' #' @return A MediationData S7 object #' @export MediationData <- S7::new_class(...) #' Print Method for MediationData #' #' @param x A MediationData object #' @param ... Additional arguments (ignored) #' @noRd S7::method(print, MediationData) <- function(x, ...) { ... } #' Extract Mediation Structure #' #' @param object Fitted model object #' @param ... Additional arguments passed to methods. Common arguments include: #'   - `treatment`: Character string (document in prose, not as @param) #'   - `mediator`: Character string (document in prose, not as @param) #' @export extract_mediation <- S7::new_generic(\"extract_mediation\", dispatch_args = \"object\") test_that(\"MediationData print method works\", {   skip_if_not(interactive(), \"S7 method dispatch issue in non-interactive mode\")   # ... test code }) # INCORRECT - causes load-time errors .onLoad <- function(libname, pkgname) {   S7::methods_register()  # DON'T DO THIS }  # CORRECT - rely on S4 registration .onLoad <- function(libname, pkgname) {   # S7 methods work automatically after S7::S4_register() in class definitions   # No additional registration needed } # Register method for S3 class method(my_generic, new_S3_class(\"data.frame\")) <- function(x) {...}  # Use in property definitions MyClass <- new_class(\"MyClass\",   properties = list(     data = new_S3_class(\"data.frame\")   ) )  # Use in unions my_union <- new_union(class_numeric, new_S3_class(\"Date\")) # When inheriting from S3 via parent argument MyS7Class <- new_class(\"MyS7Class\",   parent = new_S3_class(\"integer\",     constructor = function(.data, ...) {       # .data must be first argument       # Add S3 class attributes     }   ) ) # INCORRECT - S3 generics don't understand super() method(print, MyClass) <- function(x) {   super(x, print)  # FAILS }  # CORRECT - Extract underlying S3 object method(print, MyClass) <- function(x) {   print(S7_data(x))  # Dispatches to S3 print method } # Define S7 class Foo <- new_class(\"Foo\", package = \"mypackage\")  # REQUIRED: Register with S4 system S4_register(Foo)  # Now can use with S4 generics method(S4_generic, Foo) <- function(x) \"Hello\" # S7 method on S4 generic (requires S4_register) method(S4_generic, S7_class) <- function(x) {...}  # S4 class on S7 generic method(S7_generic, S4_class) <- function(x) {...}  # Mixed signatures work method(my_generic, list(S7_class, S4_class)) <- function(x, y) {...} # INVALID - Will fail MyClass <- new_class(\"MyClass\", parent = SomeS4Class) # Instead of inheriting, wrap MyClass <- new_class(\"MyClass\",   properties = list(     s4_object = S4_class  # Contain, don't extend   ) ) # Old S4 class setClass(\"Foo\", slots = list(x = \"numeric\")) setValidity(\"Foo\", function(object) {   if (length(object@x) == 0) \"x must have length > 0\" })  # New S7 equivalent Foo <- new_class(\"Foo\",   properties = list(     x = class_numeric   ),   validator = function(self) {     if (length(self@x) == 0) {       \"x must have length > 0\"     }   } ) S4_register(Foo)  # Maintain S4 compatibility"},{"path":"https://data-wise.github.io/medfit/CLAUDE.html","id":"core-function-hierarchy","dir":"","previous_headings":"Code Architecture","what":"Core Function Hierarchy","title":"CLAUDE.md for medfit Package","text":"User-Facing Functions: convenient users Internally uses engine-specific functions Currently supports GLM engine Generic methods different model types Standardizes across packages Returns MediationData Three methods: parametric, nonparametric, plugin Parallel processing support Returns BootstrapResult Internal Functions: .fit_mediation_glm(): GLM engine implementation .bootstrap_parametric(): Parametric bootstrap .bootstrap_nonparametric(): Nonparametric bootstrap .bootstrap_plugin(): Plugin estimator Utility functions validation, formatting, etc.","code":""},{"path":"https://data-wise.github.io/medfit/CLAUDE.html","id":"key-dependencies","dir":"","previous_headings":"Code Architecture","what":"Key Dependencies","title":"CLAUDE.md for medfit Package","text":"Required: - S7: Modern object system - stats: GLM fitting, statistical functions - methods: S4 compatibility Suggested: - MASS: mvrnorm() parametric bootstrap - lavaan: SEM model extraction - OpenMx: SEM model extraction - lme4: Mixed models (future)","code":""},{"path":"https://data-wise.github.io/medfit/CLAUDE.html","id":"explicit-namespacing","dir":"","previous_headings":"Code Architecture","what":"Explicit Namespacing","title":"CLAUDE.md for medfit Package","text":"CRITICAL: non-base functions MUST use explicit namespacing:","code":"# CORRECT stats::glm(formula, data = data) MASS::mvrnorm(n, mu, Sigma) lavaan::sem(model, data = data)  # INCORRECT glm(formula, data = data) mvrnorm(n, mu, Sigma) sem(model, data = data)"},{"path":[]},{"path":"https://data-wise.github.io/medfit/CLAUDE.html","id":"s7-class-design","dir":"","previous_headings":"Important Implementation Details","what":"S7 Class Design","title":"CLAUDE.md for medfit Package","text":"MediationData (Simple Mediation): - Contains information simple mediation model (X -> M -> Y) - Path coefficients (, b, c‚Äô) - Full parameter vector covariance matrix - Residual variances (Gaussian models) - Variable names metadata - Data sample size SerialMediationData (Serial Mediation): - Contains information serial mediation (X -> M1 -> M2 -> ‚Ä¶ -> Y) - Path coefficients: a_path (scalar), d_path (vector), b_path (scalar), c_prime (scalar) - Flexible design: d_path scalar 2 mediators, vector 3+ - Vector properties: mediators (names), sigma_mediators (residual SDs) - List property: mediator_predictors (predictors mediator model) - Full parameter vector covariance matrix (like MediationData) Design principle: Complete information downstream packages","code":""},{"path":"https://data-wise.github.io/medfit/CLAUDE.html","id":"extensible-architecture-for-multiple-mediator-types","dir":"","previous_headings":"Important Implementation Details","what":"Extensible Architecture for Multiple Mediator Types","title":"CLAUDE.md for medfit Package","text":"package uses modular class design allows clean extension different mediation structures: Current Classes: - MediationData: Simple mediation (product--two: * b) - SerialMediationData: Serial mediation (product--three beyond: * d * b, * d21 * d32 * b, etc.) Design Principles: 1. Separate classes separate structures: mediation type gets class, optimized use case 2. Consistent interface: classes share common properties (estimates, vcov, metadata) 3. hard limits: Serial mediation supports chains length (2, 3, k mediators) 4. Extensible validators: class comprehensive validation tailored structure Future Extension Path: parallel mediation (X -> M1 -> Y, X -> M2 -> Y simultaneously): complex mediation (combinations serial parallel): - use graph representation nested structure - Keep simple: start separate classes, add complexity needed design? - Clean separation: class handles one mediation type well - -engineering: Don‚Äôt add complexity hypothetical future needs - Easy extend: Adding new classes doesn‚Äôt break existing ones - Type safety: S7 validators ensure class used correctly","code":"ParallelMediationData <- S7::new_class(   properties = list(     a_paths = numeric,      # Vector: c(a1, a2, ...)     b_paths = numeric,      # Vector: c(b1, b2, ...)     c_prime = numeric,      # Scalar: X -> Y direct effect     mediators = character,  # Vector: c(\"M1\", \"M2\", ...)     # ... common properties (estimates, vcov, etc.)   ) ) # Indirect effect = sum(a_paths * b_paths)"},{"path":"https://data-wise.github.io/medfit/CLAUDE.html","id":"model-extraction-pattern","dir":"","previous_headings":"Important Implementation Details","what":"Model Extraction Pattern","title":"CLAUDE.md for medfit Package","text":"extract_mediation() methods follow pattern: Validate inputs (check variable names exist) Extract parameters (, b, c‚Äô paths) Extract covariance matrix (inference) Extract residual variances (Gaussian) Get data (available) Create MediationData object Return","code":""},{"path":"https://data-wise.github.io/medfit/CLAUDE.html","id":"bootstrap-implementation","dir":"","previous_headings":"Important Implementation Details","what":"Bootstrap Implementation","title":"CLAUDE.md for medfit Package","text":"Three methods different trade-offs: Samples N(Œ∏ÃÇ, Œ£ÃÇ) Fast, requires normality Default applications Resamples data, refits models Robust, computationally intensive Use normality questionable Point estimate , CI Fastest, quick checks Parallel processing: - Uses parallel::mclapply() (Unix) similar - Auto-detects cores specified - Set seed reproducibility","code":""},{"path":"https://data-wise.github.io/medfit/CLAUDE.html","id":"dynamic-s7s4-dispatch","dir":"","previous_headings":"Important Implementation Details","what":"Dynamic S7/S4 Dispatch","title":"CLAUDE.md for medfit Package","text":"S4 classes suggested packages (lavaan, OpenMx): allows methods work without hard dependencies.","code":"# In R/zzz.R .onLoad <- function(libname, pkgname) {   # Register lavaan method if available   if (requireNamespace(\"lavaan\", quietly = TRUE)) {     lavaan_class <- S7::as_class(methods::getClass(\"lavaan\", where = \"lavaan\"))     S7::method(extract_mediation, lavaan_class) <- extract_mediation_lavaan   }    # Register OpenMx method if available   if (requireNamespace(\"OpenMx\", quietly = TRUE)) {     # Similar pattern   } }"},{"path":[]},{"path":"https://data-wise.github.io/medfit/CLAUDE.html","id":"unit-tests-should-cover","dir":"","previous_headings":"Testing Strategy","what":"Unit Tests Should Cover","title":"CLAUDE.md for medfit Package","text":"Property type checking Validators catch invalid inputs Edge cases (empty, NA, wrong dimensions) lm/glm extraction accuracy lavaan extraction consistency Identical results manual extraction Proper handling different model types GLM engine produces valid MediationData Formula parsing correct Family specifications work Error handling convergence failures Parametric bootstrap reproducible seed Nonparametric bootstrap reproducible seed Plugin method fast accurate CI coverage simulations (~95% 95% CI) Parallel sequential give results (seed) Small sample sizes (n < 50) Non-convergent models Singular covariance matrices Missing data Zero effects","code":""},{"path":"https://data-wise.github.io/medfit/CLAUDE.html","id":"test-organization","dir":"","previous_headings":"Testing Strategy","what":"Test Organization","title":"CLAUDE.md for medfit Package","text":"","code":"tests/testthat/ ‚îú‚îÄ‚îÄ helper-test-data.R      # Test data generators ‚îú‚îÄ‚îÄ test-classes.R          # S7 class validation ‚îú‚îÄ‚îÄ test-extract-lm.R       # lm/glm extraction ‚îú‚îÄ‚îÄ test-extract-lavaan.R   # lavaan extraction ‚îú‚îÄ‚îÄ test-fit-glm.R          # GLM fitting ‚îú‚îÄ‚îÄ test-bootstrap.R        # Bootstrap methods ‚îî‚îÄ‚îÄ test-utils.R            # Utility functions"},{"path":"https://data-wise.github.io/medfit/CLAUDE.html","id":"coverage-expectations","dir":"","previous_headings":"Testing Strategy","what":"Coverage Expectations","title":"CLAUDE.md for medfit Package","text":"Target: >90% overall coverage S7 class definitions Core extraction functions Bootstrap methods","code":""},{"path":[]},{"path":"https://data-wise.github.io/medfit/CLAUDE.html","id":"probmed-integration","dir":"","previous_headings":"Integration with Dependent Packages","what":"probmed Integration","title":"CLAUDE.md for medfit Package","text":"probmed : - Import medfit - Replace extraction code medfit::extract_mediation() - Replace bootstrap code medfit::bootstrap_mediation() - Keep formula interface wrapper around medfit - Add P_med-specific computation Backward compatibility critical: probmed users see changes","code":""},{"path":"https://data-wise.github.io/medfit/CLAUDE.html","id":"rmediation-integration","dir":"","previous_headings":"Integration with Dependent Packages","what":"RMediation Integration","title":"CLAUDE.md for medfit Package","text":"RMediation : - Import medfit - Replace extraction code medfit::extract_mediation() - Optionally use bootstrap utilities - Keep unique methods (DOP, MBCO, MC)","code":""},{"path":"https://data-wise.github.io/medfit/CLAUDE.html","id":"medrobust-integration","dir":"","previous_headings":"Integration with Dependent Packages","what":"medrobust Integration","title":"CLAUDE.md for medfit Package","text":"medrobust : - Suggest medfit (optional) - Optionally use naive estimates - Keep unique methods (bounds, falsification)","code":""},{"path":"https://data-wise.github.io/medfit/CLAUDE.html","id":"coordination","dir":"","previous_headings":"Integration with Dependent Packages","what":"Coordination","title":"CLAUDE.md for medfit Package","text":"making changes affect: - S7 class structure ‚Üí Coordinate packages - Extraction API ‚Üí Coordinate probmed RMediation - Bootstrap API ‚Üí Coordinate packages Versioning: - Use semantic versioning - Breaking changes ‚Üí major version bump - New features ‚Üí minor version bump - Bug fixes ‚Üí patch version bump","code":""},{"path":"https://data-wise.github.io/medfit/CLAUDE.html","id":"development-roadmap","dir":"","previous_headings":"","what":"Development Roadmap","title":"CLAUDE.md for medfit Package","text":"See planning/medfit-roadmap.md detailed implementation plan.","code":""},{"path":"https://data-wise.github.io/medfit/CLAUDE.html","id":"current-phase-mvp-development","dir":"","previous_headings":"Development Roadmap","what":"Current Phase: MVP Development","title":"CLAUDE.md for medfit Package","text":"Package skeleton S7 classes implemented Extraction methods (lm/glm, lavaan) Fitting API (GLM engine) Bootstrap infrastructure Comprehensive tests Documentation vignettes","code":""},{"path":"https://data-wise.github.io/medfit/CLAUDE.html","id":"future-enhancements","dir":"","previous_headings":"Development Roadmap","what":"Future Enhancements","title":"CLAUDE.md for medfit Package","text":"lmer engine (mixed models) brms engine (Bayesian) Additional extraction methods Performance optimizations Extended documentation","code":""},{"path":[]},{"path":"https://data-wise.github.io/medfit/CLAUDE.html","id":"key-assumptions-for-inference","dir":"","previous_headings":"Statistical Assumptions","what":"Key Assumptions for Inference","title":"CLAUDE.md for medfit Package","text":"Mediator model correctly specified Outcome model correctly specified Appropriate family/link functions (Œ∏ÃÇ) ~ N(Œ∏, Œ£) Generally holds large n (CLT) Check Q-Q plots Standard causal mediation assumptions testable, requires subject-matter knowledge Note: medfit computes statistics; causal interpretation user‚Äôs responsibility","code":""},{"path":"https://data-wise.github.io/medfit/CLAUDE.html","id":"diagnostics","dir":"","previous_headings":"Statistical Assumptions","what":"Diagnostics","title":"CLAUDE.md for medfit Package","text":"Users : - Check bootstrap distributions (histograms, Q-Q plots) - Verify model convergence - Assess residual plots - Consider sensitivity analyses","code":""},{"path":"https://data-wise.github.io/medfit/CLAUDE.html","id":"common-pitfalls-to-avoid","dir":"","previous_headings":"","what":"Common Pitfalls to Avoid","title":"CLAUDE.md for medfit Package","text":"Don‚Äôt mix variable names: Ensure treatment/mediator names match model Don‚Äôt ignore convergence warnings: Check converged property Don‚Äôt use plugin inference: Always bootstrap CIs Don‚Äôt skip input validation: Use validators rigorously Don‚Äôt break backward compatibility: Coordinate dependent packages","code":""},{"path":[]},{"path":"https://data-wise.github.io/medfit/CLAUDE.html","id":"indirect-effect","dir":"","previous_headings":"Key Mathematical Formulas","what":"Indirect Effect","title":"CLAUDE.md for medfit Package","text":"simple mediation (X ‚Üí M ‚Üí Y): : - = effect X M - b = effect M Y (controlling X)","code":"Indirect effect = a √ó b"},{"path":"https://data-wise.github.io/medfit/CLAUDE.html","id":"parametric-bootstrap","dir":"","previous_headings":"Key Mathematical Formulas","what":"Parametric Bootstrap","title":"CLAUDE.md for medfit Package","text":"Sample : Compute statistic Œ∏*, extract quantiles CI.","code":"Œ∏* ~ N(Œ∏ÃÇ, Œ£ÃÇ)"},{"path":"https://data-wise.github.io/medfit/CLAUDE.html","id":"nonparametric-bootstrap","dir":"","previous_headings":"Key Mathematical Formulas","what":"Nonparametric Bootstrap","title":"CLAUDE.md for medfit Package","text":"Resample data: D* ~ D (replacement) Refit models D* Extract Œ∏* Compute statistic Repeat, extract quantiles CI","code":""},{"path":[]},{"path":"https://data-wise.github.io/medfit/CLAUDE.html","id":"package-ecosystem-documentation","dir":"","previous_headings":"Additional Resources","what":"Package Ecosystem Documentation","title":"CLAUDE.md for medfit Package","text":"probmed: probmed/CLAUDE.md, probmed/planning/ RMediation: rmediation/CLAUDE.md medrobust: medrobust/CLAUDE.md Ecosystem strategy: probmed/planning/three-package-ecosystem-strategy.md","code":""},{"path":"https://data-wise.github.io/medfit/CLAUDE.html","id":"key-planning-documents","dir":"","previous_headings":"Additional Resources","what":"Key Planning Documents","title":"CLAUDE.md for medfit Package","text":"Located planning/: - medfit-roadmap.md: Detailed implementation plan - ECOSYSTEM.md: Connection dependent packages","code":""},{"path":"https://data-wise.github.io/medfit/CLAUDE.html","id":"related-packages","dir":"","previous_headings":"Additional Resources","what":"Related Packages","title":"CLAUDE.md for medfit Package","text":"probmed: https://github.com/data-wise/probmed RMediation: https://github.com/data-wise/rmediation medrobust: https://github.com/data-wise/medrobust","code":""},{"path":[]},{"path":"https://data-wise.github.io/medfit/CLAUDE.html","id":"lavaan-dispatch-issues","dir":"","previous_headings":"Troubleshooting","what":"lavaan Dispatch Issues","title":"CLAUDE.md for medfit Package","text":"extract_mediation() doesn‚Äôt work lavaan objects: - Check lavaan installed - Verify .onLoad() registering method - Test methods(extract_mediation) see registered methods","code":""},{"path":"https://data-wise.github.io/medfit/CLAUDE.html","id":"bootstrap-reproducibility","dir":"","previous_headings":"Troubleshooting","what":"Bootstrap Reproducibility","title":"CLAUDE.md for medfit Package","text":"bootstrap results reproducible: - Ensure seed set calling - Check parallel=FALSE seed set parallel call - Verify n_boot ","code":""},{"path":"https://data-wise.github.io/medfit/CLAUDE.html","id":"performance-issues","dir":"","previous_headings":"Troubleshooting","what":"Performance Issues","title":"CLAUDE.md for medfit Package","text":"bootstrap slow: - Use parallel=TRUE - Consider parametric instead nonparametric - Reduce n_boot testing (use 1000+ production) Last Updated: 2025-12-02 Maintained : medfit development team","code":""},{"path":"https://data-wise.github.io/medfit/START-HERE.html","id":null,"dir":"","previous_headings":"","what":"START HERE: medfit Package","title":"START HERE: medfit Package","text":"Created: 2025-12-02 Status: Package skeleton ready, implementation starting","code":""},{"path":"https://data-wise.github.io/medfit/START-HERE.html","id":"id_-what-is-medfit","dir":"","previous_headings":"","what":"üéØ What is medfit?","title":"START HERE: medfit Package","text":"medfit foundation package mediation analysis ecosystem. provides shared infrastructure (S7 classes, model fitting, extraction, bootstrap) eliminates redundancy across three packages: probmed - P_med (probabilistic effect size) RMediation - Confidence intervals (DOP, MBCO) medrobust - Sensitivity analysis","code":""},{"path":"https://data-wise.github.io/medfit/START-HERE.html","id":"id_-package-location","dir":"","previous_headings":"","what":"üìÅ Package Location","title":"START HERE: medfit Package","text":"","code":"packages/ ‚îú‚îÄ‚îÄ medfit/           ‚Üê YOU ARE HERE (new foundation package) ‚îú‚îÄ‚îÄ probmed/          ‚Üê Will use medfit (phase 2 complete) ‚îú‚îÄ‚îÄ rmediation/       ‚Üê Will use medfit (RMediation on CRAN) ‚îî‚îÄ‚îÄ medrobust/        ‚Üê May use medfit (in development)"},{"path":[]},{"path":"https://data-wise.github.io/medfit/START-HERE.html","id":"in-this-package-medfit","dir":"","previous_headings":"üìã Key Documents","what":"In This Package (medfit/)","title":"START HERE: medfit Package","text":"CLAUDE.md ‚≠ê Start AI assistance Package architecture Coding standards Ecosystem context README.md - Package overview quick start planning/medfit-roadmap.md - Implementation plan (7 phases, 4-6 weeks) planning/ECOSYSTEM.md - Connections packages","code":""},{"path":"https://data-wise.github.io/medfit/START-HERE.html","id":"in-parent-ecosystem-probmedplanning","dir":"","previous_headings":"üìã Key Documents","what":"In Parent Ecosystem (probmed/planning/)","title":"START HERE: medfit Package","text":"DECISIONS.md - key decisions including: medfit name choice Package ecosystem strategy Model engine decisions ROADMAP.md - Overall ecosystem status timeline three-package-ecosystem-strategy.md - Detailed strategic analysis","code":""},{"path":"https://data-wise.github.io/medfit/START-HERE.html","id":"id_-implementation-roadmap-summary","dir":"","previous_headings":"","what":"üöÄ Implementation Roadmap (Summary)","title":"START HERE: medfit Package","text":"Total: 4-6 weeks MVP","code":""},{"path":[]},{"path":"https://data-wise.github.io/medfit/START-HERE.html","id":"id_-package-skeleton","dir":"","previous_headings":"üîß What‚Äôs Already Set Up","what":"‚úÖ Package Skeleton","title":"START HERE: medfit Package","text":"DESCRIPTION dependencies LICENSE (GPL-3) README.md overview CLAUDE.md full documentation NEWS.md changelog .Rbuildignore, .gitignore","code":""},{"path":"https://data-wise.github.io/medfit/START-HERE.html","id":"id_-directory-structure","dir":"","previous_headings":"üîß What‚Äôs Already Set Up","what":"‚úÖ Directory Structure","title":"START HERE: medfit Package","text":"","code":"medfit/ ‚îú‚îÄ‚îÄ CLAUDE.md              ‚Üê AI assistance guide ‚îú‚îÄ‚îÄ DESCRIPTION            ‚Üê Package metadata ‚îú‚îÄ‚îÄ LICENSE                ‚Üê GPL-3 ‚îú‚îÄ‚îÄ README.md              ‚Üê User guide ‚îú‚îÄ‚îÄ NEWS.md                ‚Üê Changelog ‚îú‚îÄ‚îÄ NAMESPACE              ‚Üê Auto-generated ‚îú‚îÄ‚îÄ R/                     ‚Üê Source code ‚îÇ   ‚îú‚îÄ‚îÄ aaa-imports.R          (imports setup) ‚îÇ   ‚îú‚îÄ‚îÄ medfit-package.R       (package docs) ‚îÇ   ‚îú‚îÄ‚îÄ classes.R              (placeholder) ‚îÇ   ‚îú‚îÄ‚îÄ generics.R             (placeholder) ‚îÇ   ‚îú‚îÄ‚îÄ utils.R                (placeholder) ‚îÇ   ‚îî‚îÄ‚îÄ zzz.R                  (placeholder) ‚îú‚îÄ‚îÄ tests/ ‚îÇ   ‚îî‚îÄ‚îÄ testthat/          ‚Üê Test files go here ‚îú‚îÄ‚îÄ man/                   ‚Üê Auto-generated docs ‚îú‚îÄ‚îÄ vignettes/             ‚Üê User guides ‚îú‚îÄ‚îÄ planning/              ‚Üê Implementation plans ‚îÇ   ‚îú‚îÄ‚îÄ medfit-roadmap.md      (7-phase plan) ‚îÇ   ‚îú‚îÄ‚îÄ ECOSYSTEM.md           (connections) ‚îÇ   ‚îî‚îÄ‚îÄ README.md              (planning guide) ‚îî‚îÄ‚îÄ .github/workflows/     ‚Üê CI/CD (to be added)"},{"path":"https://data-wise.github.io/medfit/START-HERE.html","id":"id_-planning-documents","dir":"","previous_headings":"üîß What‚Äôs Already Set Up","what":"‚úÖ Planning Documents","title":"START HERE: medfit Package","text":"Detailed roadmap (7 phases) Ecosystem connections documented Links parent ecosystem decisions","code":""},{"path":[]},{"path":"https://data-wise.github.io/medfit/START-HERE.html","id":"immediate-starting-now","dir":"","previous_headings":"üé¨ Next Steps","what":"Immediate (Starting Now)","title":"START HERE: medfit Package","text":"Read planning/medfit-roadmap.md Read planning/ECOSYSTEM.md Check ../probmed/planning/DECISIONS.md Initialize: git init Add remote: git remote add origin https://github.com/data-wise/medfit.git Initial commit Push GitHub Implement MediationData class R/classes.R Implement BootstrapResult class R/classes.R Add print/summary methods Write tests","code":""},{"path":"https://data-wise.github.io/medfit/START-HERE.html","id":"this-week-phase-1-2","dir":"","previous_headings":"üé¨ Next Steps","what":"This Week (Phase 1-2)","title":"START HERE: medfit Package","text":"Git repository set GitHub Actions CI/CD configured S7 classes implemented Basic tests passing R CMD check clean","code":""},{"path":"https://data-wise.github.io/medfit/START-HERE.html","id":"next-week-phase-3-4","dir":"","previous_headings":"üé¨ Next Steps","what":"Next Week (Phase 3-4)","title":"START HERE: medfit Package","text":"Extraction methods implemented Fitting API implemented Tests comprehensive","code":""},{"path":[]},{"path":"https://data-wise.github.io/medfit/START-HERE.html","id":"probmed-will-import-medfit","dir":"","previous_headings":"üîó Ecosystem Connections","what":"probmed (Will Import medfit)","title":"START HERE: medfit Package","text":"Location: ../probmed/ Current status: Phase 2 complete (lavaan + mediation integration) change: - Replace probmed::extract_mediation() medfit::extract_mediation() - Replace bootstrap code medfit::bootstrap_mediation() - Keep P_med computation (unique probmed) Migration: Planned Week 6-7 medfit MVP","code":""},{"path":"https://data-wise.github.io/medfit/START-HERE.html","id":"rmediation-will-import-medfit","dir":"","previous_headings":"üîó Ecosystem Connections","what":"RMediation (Will Import medfit)","title":"START HERE: medfit Package","text":"Location: ../rmediation/ Current status: Stable v1.4.0 CRAN change: - Replace extraction code medfit::extract_mediation() - Optionally use medfit::bootstrap_mediation() - Keep unique methods (DOP, MBCO, MC) Migration: Planned Week 8-9 probmed","code":""},{"path":"https://data-wise.github.io/medfit/START-HERE.html","id":"medrobust-may-suggest-medfit","dir":"","previous_headings":"üîó Ecosystem Connections","what":"medrobust (May Suggest medfit)","title":"START HERE: medfit Package","text":"Location: ../medrobust/ Current status: v0.1.0.9000 development May change: - Optionally use medfit naive estimates - Optionally use bootstrap utilities Migration: Optional, Week 10","code":""},{"path":"https://data-wise.github.io/medfit/START-HERE.html","id":"id_-key-design-decisions-already-made","dir":"","previous_headings":"","what":"üí° Key Design Decisions (Already Made)","title":"START HERE: medfit Package","text":"../probmed/planning/DECISIONS.md: Package name: medfit ‚úÖ Three-package ecosystem: Foundation + 3 dependents ‚úÖ S7 everywhere: Type-safe OOP ‚úÖ R >= 4.1.0: Native pipe support ‚úÖ GLM first: Incremental engine support ‚úÖ >90% test coverage: Quality standard ‚úÖ","code":""},{"path":[]},{"path":"https://data-wise.github.io/medfit/START-HERE.html","id":"documentation","dir":"","previous_headings":"üìû Getting Help","what":"Documentation","title":"START HERE: medfit Package","text":"package: Read CLAUDE.md Ecosystem: Read ../probmed/planning/DECISIONS.md Implementation: Read planning/medfit-roadmap.md","code":""},{"path":"https://data-wise.github.io/medfit/START-HERE.html","id":"questions","dir":"","previous_headings":"üìû Getting Help","what":"Questions?","title":"START HERE: medfit Package","text":"Strategic: Review ../probmed/planning/three-package-ecosystem-strategy.md Technical: Review planning/medfit-roadmap.md Connections: Review planning/ECOSYSTEM.md","code":""},{"path":"https://data-wise.github.io/medfit/START-HERE.html","id":"id_-checklist-for-new-session","dir":"","previous_headings":"","what":"‚úÖ Checklist for New Session","title":"START HERE: medfit Package","text":"starting new session medfit: Read file (START-.md) Check current phase planning/medfit-roadmap.md Review planning/ECOSYSTEM.md package connections Check ../probmed/planning/ROADMAP.md ecosystem status Review recent decisions ../probmed/planning/DECISIONS.md","code":""},{"path":"https://data-wise.github.io/medfit/START-HERE.html","id":"id_-quick-reference","dir":"","previous_headings":"","what":"üéì Quick Reference","title":"START HERE: medfit Package","text":"Status: üì¶ Package skeleton complete, ready Phase 2 (S7 classes) Next session: Start directory (packages/medfit/), review CLAUDE.md, begin S7 class implementation Remember: foundation package - focus clean, efficient infrastructure. Effect size computation stays dependent packages. Created: 2025-12-02 Last Updated: 2025-12-02","code":""},{"path":"https://data-wise.github.io/medfit/articles/bootstrap.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Bootstrap Inference","text":"Bootstrap inference provides confidence intervals indirect effects without assuming normality. medfit implements three bootstrap methods: Parametric bootstrap: Sample parameter distribution (fast, assumes normality) Nonparametric bootstrap: Resample data refit models (robust, slower) Plugin estimator: Point estimate (fastest, CI) methods return BootstrapResult object consistent structure.","code":""},{"path":"https://data-wise.github.io/medfit/articles/bootstrap.html","id":"why-bootstrap-for-mediation","dir":"Articles","previous_headings":"","what":"Why Bootstrap for Mediation?","title":"Bootstrap Inference","text":"sampling distribution indirect effects (√ó b) typically: Non-normal: Even b normal, product Skewed: Often right-skewed Complex: closed-form distribution general case Bootstrap methods: - Don‚Äôt assume normality - Provide accurate coverage (closer nominal 95%) - Handle complex indirect effects (serial mediation, moderated mediation)","code":""},{"path":"https://data-wise.github.io/medfit/articles/bootstrap.html","id":"parametric-bootstrap","dir":"Articles","previous_headings":"","what":"Parametric Bootstrap","title":"Bootstrap Inference","text":"Samples estimated parameter distribution: Extract parameter estimates: Œ∏ÃÇ = (√¢, bÃÇ, ‚Ä¶) Extract covariance matrix: Œ£ÃÇ Sample Œ∏*_i ~ N(Œ∏ÃÇ, Œ£ÃÇ) Compute indirect effect: IE*_i = *_i √ó b*_i Compute percentile CI bootstrap distribution Fast: model refitting required Appropriate : Parameters approximately normal (large n) Inappropriate : Small samples, non-normal parameters fast (refitting) Reproducible seed Works extracted models (need original data) Assumes multivariate normality parameters May underestimate uncertainty small samples","code":"# Assume we have extracted mediation structure med <- extract_mediation(model_m, model_y, treatment = \"X\", mediator = \"M\")  # Parametric bootstrap boot_result <- bootstrap_mediation(   med,   method = \"parametric\",   n_boot = 1000,   ci_level = 0.95,   seed = 123 )  print(boot_result) summary(boot_result)"},{"path":"https://data-wise.github.io/medfit/articles/bootstrap.html","id":"how-it-works","dir":"Articles","previous_headings":"","what":"How It Works","title":"Bootstrap Inference","text":"Extract parameter estimates: Œ∏ÃÇ = (√¢, bÃÇ, ‚Ä¶) Extract covariance matrix: Œ£ÃÇ Sample Œ∏*_i ~ N(Œ∏ÃÇ, Œ£ÃÇ) Compute indirect effect: IE*_i = *_i √ó b*_i Compute percentile CI bootstrap distribution","code":""},{"path":"https://data-wise.github.io/medfit/articles/bootstrap.html","id":"when-to-use","dir":"Articles","previous_headings":"","what":"When to Use","title":"Bootstrap Inference","text":"Fast: model refitting required Appropriate : Parameters approximately normal (large n) Inappropriate : Small samples, non-normal parameters","code":""},{"path":"https://data-wise.github.io/medfit/articles/bootstrap.html","id":"advantages","dir":"Articles","previous_headings":"","what":"Advantages","title":"Bootstrap Inference","text":"fast (refitting) Reproducible seed Works extracted models (need original data)","code":""},{"path":"https://data-wise.github.io/medfit/articles/bootstrap.html","id":"disadvantages","dir":"Articles","previous_headings":"","what":"Disadvantages","title":"Bootstrap Inference","text":"Assumes multivariate normality parameters May underestimate uncertainty small samples","code":""},{"path":"https://data-wise.github.io/medfit/articles/bootstrap.html","id":"nonparametric-bootstrap","dir":"Articles","previous_headings":"","what":"Nonparametric Bootstrap","title":"Bootstrap Inference","text":"Resamples data refits models: Resample data replacement: D*_i Refit mediator model D*_i Refit outcome model D*_i Extract paths: *_i, b*_i Compute indirect effect: IE*_i = *_i √ó b*_i Compute percentile CI bootstrap distribution Robust: Makes parametric assumptions Appropriate : Small samples, non-normal data, GLMs Gold standard: widely accepted method distributional assumptions Robust outliers Captures full sampling variability Computationally intensive (refits models B times) Requires original data Can slow complex models Speed parallel processing:","code":"# Nonparametric bootstrap (requires original data) boot_result <- bootstrap_mediation(   med,   method = \"nonparametric\",   n_boot = 1000,   ci_level = 0.95,   seed = 123,   parallel = TRUE,  # Use parallel processing   n_cores = 4 )  print(boot_result) # Detect available cores n_cores <- parallel::detectCores() - 1  # Run in parallel boot_result <- bootstrap_mediation(   med,   method = \"nonparametric\",   n_boot = 5000,   parallel = TRUE,   n_cores = n_cores )"},{"path":"https://data-wise.github.io/medfit/articles/bootstrap.html","id":"how-it-works-1","dir":"Articles","previous_headings":"","what":"How It Works","title":"Bootstrap Inference","text":"Resample data replacement: D*_i Refit mediator model D*_i Refit outcome model D*_i Extract paths: *_i, b*_i Compute indirect effect: IE*_i = *_i √ó b*_i Compute percentile CI bootstrap distribution","code":""},{"path":"https://data-wise.github.io/medfit/articles/bootstrap.html","id":"when-to-use-1","dir":"Articles","previous_headings":"","what":"When to Use","title":"Bootstrap Inference","text":"Robust: Makes parametric assumptions Appropriate : Small samples, non-normal data, GLMs Gold standard: widely accepted method","code":""},{"path":"https://data-wise.github.io/medfit/articles/bootstrap.html","id":"advantages-1","dir":"Articles","previous_headings":"","what":"Advantages","title":"Bootstrap Inference","text":"distributional assumptions Robust outliers Captures full sampling variability","code":""},{"path":"https://data-wise.github.io/medfit/articles/bootstrap.html","id":"disadvantages-1","dir":"Articles","previous_headings":"","what":"Disadvantages","title":"Bootstrap Inference","text":"Computationally intensive (refits models B times) Requires original data Can slow complex models","code":""},{"path":"https://data-wise.github.io/medfit/articles/bootstrap.html","id":"parallel-processing","dir":"Articles","previous_headings":"","what":"Parallel Processing","title":"Bootstrap Inference","text":"Speed parallel processing:","code":"# Detect available cores n_cores <- parallel::detectCores() - 1  # Run in parallel boot_result <- bootstrap_mediation(   med,   method = \"nonparametric\",   n_boot = 5000,   parallel = TRUE,   n_cores = n_cores )"},{"path":"https://data-wise.github.io/medfit/articles/bootstrap.html","id":"plugin-estimator","dir":"Articles","previous_headings":"","what":"Plugin Estimator","title":"Bootstrap Inference","text":"Point estimate , confidence interval: Quick checks Point estimates simulation studies CI needed Simply computes √¢ √ó bÃÇ fitted model. resampling.","code":"# Plugin estimator (fastest) plugin_result <- bootstrap_mediation(   med,   method = \"plugin\",   n_boot = 0  # Not used for plugin )  print(plugin_result)"},{"path":"https://data-wise.github.io/medfit/articles/bootstrap.html","id":"when-to-use-2","dir":"Articles","previous_headings":"","what":"When to Use","title":"Bootstrap Inference","text":"Quick checks Point estimates simulation studies CI needed","code":""},{"path":"https://data-wise.github.io/medfit/articles/bootstrap.html","id":"how-it-works-2","dir":"Articles","previous_headings":"","what":"How It Works","title":"Bootstrap Inference","text":"Simply computes √¢ √ó bÃÇ fitted model. resampling.","code":""},{"path":"https://data-wise.github.io/medfit/articles/bootstrap.html","id":"interpreting-results","dir":"Articles","previous_headings":"","what":"Interpreting Results","title":"Bootstrap Inference","text":"bootstrap distribution shows sampling variability: percentile bootstrap CI computed : Lower bound: 2.5th percentile (95% CI) Upper bound: 97.5th percentile (95% CI) confidence interval excludes zero, indirect effect statistically significant:","code":"# Access bootstrap estimates boot_estimates <- boot_result@boot_estimates  # Histogram hist(boot_estimates,      breaks = 50,      main = \"Bootstrap Distribution of Indirect Effect\",      xlab = \"Indirect Effect (a * b)\")  # Add percentile CI abline(v = boot_result@ci_lower, col = \"red\", lwd = 2) abline(v = boot_result@ci_upper, col = \"red\", lwd = 2) abline(v = boot_result@estimate, col = \"blue\", lwd = 2)  # Check for normality qqnorm(boot_estimates) qqline(boot_estimates) # 95% CI c(boot_result@ci_lower, boot_result@ci_upper)  # Change confidence level boot_90 <- bootstrap_mediation(med, method = \"parametric\",                                 n_boot = 1000, ci_level = 0.90) c(boot_90@ci_lower, boot_90@ci_upper)  # Narrower # Check if CI excludes zero if (boot_result@ci_lower > 0 || boot_result@ci_upper < 0) {   print(\"Indirect effect is statistically significant\") } else {   print(\"Indirect effect is not statistically significant\") }"},{"path":"https://data-wise.github.io/medfit/articles/bootstrap.html","id":"bootstrap-distribution","dir":"Articles","previous_headings":"","what":"Bootstrap Distribution","title":"Bootstrap Inference","text":"bootstrap distribution shows sampling variability:","code":"# Access bootstrap estimates boot_estimates <- boot_result@boot_estimates  # Histogram hist(boot_estimates,      breaks = 50,      main = \"Bootstrap Distribution of Indirect Effect\",      xlab = \"Indirect Effect (a * b)\")  # Add percentile CI abline(v = boot_result@ci_lower, col = \"red\", lwd = 2) abline(v = boot_result@ci_upper, col = \"red\", lwd = 2) abline(v = boot_result@estimate, col = \"blue\", lwd = 2)  # Check for normality qqnorm(boot_estimates) qqline(boot_estimates)"},{"path":"https://data-wise.github.io/medfit/articles/bootstrap.html","id":"confidence-interval","dir":"Articles","previous_headings":"","what":"Confidence Interval","title":"Bootstrap Inference","text":"percentile bootstrap CI computed : Lower bound: 2.5th percentile (95% CI) Upper bound: 97.5th percentile (95% CI)","code":"# 95% CI c(boot_result@ci_lower, boot_result@ci_upper)  # Change confidence level boot_90 <- bootstrap_mediation(med, method = \"parametric\",                                 n_boot = 1000, ci_level = 0.90) c(boot_90@ci_lower, boot_90@ci_upper)  # Narrower"},{"path":"https://data-wise.github.io/medfit/articles/bootstrap.html","id":"statistical-significance","dir":"Articles","previous_headings":"","what":"Statistical Significance","title":"Bootstrap Inference","text":"confidence interval excludes zero, indirect effect statistically significant:","code":"# Check if CI excludes zero if (boot_result@ci_lower > 0 || boot_result@ci_upper < 0) {   print(\"Indirect effect is statistically significant\") } else {   print(\"Indirect effect is not statistically significant\") }"},{"path":"https://data-wise.github.io/medfit/articles/bootstrap.html","id":"serial-mediation-bootstrap","dir":"Articles","previous_headings":"","what":"Serial Mediation Bootstrap","title":"Bootstrap Inference","text":"Works serial mediation:","code":"# Serial mediation (X -> M1 -> M2 -> Y) serial_med <- extract_mediation(   fit_serial,   treatment = \"X\",   mediators = c(\"M1\", \"M2\"),   outcome = \"Y\" )  # Bootstrap the serial indirect effect (a * d * b) boot_serial <- bootstrap_mediation(   serial_med,   method = \"parametric\",   n_boot = 1000,   ci_level = 0.95 )  # Serial indirect effect print(boot_serial)  # Point estimate serial_med@a_path * serial_med@d_path * serial_med@b_path"},{"path":"https://data-wise.github.io/medfit/articles/bootstrap.html","id":"reproducibility","dir":"Articles","previous_headings":"","what":"Reproducibility","title":"Bootstrap Inference","text":"Set seed reproducible results:","code":"# Same seed = same results boot1 <- bootstrap_mediation(med, method = \"parametric\",                               n_boot = 1000, seed = 123) boot2 <- bootstrap_mediation(med, method = \"parametric\",                               n_boot = 1000, seed = 123)  # Identical results all.equal(boot1@boot_estimates, boot2@boot_estimates)  # TRUE  # Different seed = different results boot3 <- bootstrap_mediation(med, method = \"parametric\",                               n_boot = 1000, seed = 456) all.equal(boot1@boot_estimates, boot3@boot_estimates)  # FALSE"},{"path":"https://data-wise.github.io/medfit/articles/bootstrap.html","id":"how-many-bootstrap-samples","dir":"Articles","previous_headings":"","what":"How Many Bootstrap Samples?","title":"Bootstrap Inference","text":"General guidelines: Exploratory: 1000 samples (fast) Publication: 5000+ samples (stable CI) High stakes: 10,000+ samples (stable) Check stability varying n_boot: CIs similar, n_boot sufficient.","code":"# Compare different n_boot boot_1k <- bootstrap_mediation(med, method = \"parametric\", n_boot = 1000, seed = 123) boot_5k <- bootstrap_mediation(med, method = \"parametric\", n_boot = 5000, seed = 123) boot_10k <- bootstrap_mediation(med, method = \"parametric\", n_boot = 10000, seed = 123)  # Compare CIs rbind(   \"1K\" = c(boot_1k@ci_lower, boot_1k@ci_upper),   \"5K\" = c(boot_5k@ci_lower, boot_5k@ci_upper),   \"10K\" = c(boot_10k@ci_lower, boot_10k@ci_upper) )"},{"path":"https://data-wise.github.io/medfit/articles/bootstrap.html","id":"alternative-ci-methods","dir":"Articles","previous_headings":"","what":"Alternative CI Methods","title":"Bootstrap Inference","text":"medfit currently uses percentile bootstrap (simplest, common). Future versions may add: BCa (bias-corrected accelerated): Adjusts bias skewness Studentized bootstrap: Better coverage cases Bayesian bootstrap: Posterior intervals","code":""},{"path":"https://data-wise.github.io/medfit/articles/bootstrap.html","id":"comparison-with-delta-method","dir":"Articles","previous_headings":"","what":"Comparison with Delta Method","title":"Bootstrap Inference","text":"delta method provides asymptotic SE indirect effects: Bootstrap generally preferred : - Doesn‚Äôt assume normality indirect effect - Handles skewness correctly - Provides better coverage","code":"# Delta method SE a <- med@a_path b <- med@b_path var_a <- vcov(model_m)[\"X\", \"X\"] var_b <- vcov(model_y)[\"M\", \"M\"] cov_ab <- 0  # Assumed independent  se_delta <- sqrt(b^2 * var_a + a^2 * var_b)  # Delta method 95% CI (assumes normality) ci_delta <- med@a_path * med@b_path + c(-1.96, 1.96) * se_delta  # Compare with bootstrap ci_boot <- c(boot_result@ci_lower, boot_result@ci_upper)  rbind(delta = ci_delta, bootstrap = ci_boot)"},{"path":"https://data-wise.github.io/medfit/articles/bootstrap.html","id":"best-practices","dir":"Articles","previous_headings":"","what":"Best Practices","title":"Bootstrap Inference","text":"Choose method appropriately: Parametric: Large samples, normal data Nonparametric: Small samples, non-normal data, GLMs Plugin: Quick checks Set seed: Always set seed reproducibility Use enough bootstraps: least 1000, preferably 5000+ Check convergence: Ensure models converged bootstrap samples Visualize distribution: Plot histogram Q-Q plot Use parallel processing: nonparametric large B","code":""},{"path":"https://data-wise.github.io/medfit/articles/bootstrap.html","id":"next-steps","dir":"Articles","previous_headings":"","what":"Next Steps","title":"Bootstrap Inference","text":"See introduction S7 class details Learn model extraction Check reference documentation bootstrap_mediation()","code":""},{"path":"https://data-wise.github.io/medfit/articles/bootstrap.html","id":"development-status","dir":"Articles","previous_headings":"","what":"Development Status","title":"Bootstrap Inference","text":"Currently implemented: - ‚úÖ S7 class BootstrapResult - üìã Parametric bootstrap (planned) - üìã Nonparametric bootstrap (planned) - üìã Parallel processing support (planned) See NEWS.md updates.","code":""},{"path":"https://data-wise.github.io/medfit/articles/extraction.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Model Extraction","text":"extract_mediation() function provides standardized interface extracting mediation structures fitted models. works : lm/glm models (base R) lavaan SEM models (planned) OpenMx models (planned) lmer mixed models (future) extraction methods return MediationData SerialMediationData object, ensuring consistency across modeling frameworks.","code":""},{"path":"https://data-wise.github.io/medfit/articles/extraction.html","id":"extraction-pattern","dir":"Articles","previous_headings":"","what":"Extraction Pattern","title":"Model Extraction","text":"extraction methods follow pattern: Validate inputs (check variable names exist) Extract path coefficients (, b, c‚Äô paths) Extract covariance matrix (inference) Extract residual variances (Gaussian) Retrieve data (available) Create MediationData object Return standardized structure","code":""},{"path":"https://data-wise.github.io/medfit/articles/extraction.html","id":"extracting-from-lmglm-models","dir":"Articles","previous_headings":"","what":"Extracting from lm/glm Models","title":"Model Extraction","text":"simple mediation (X -> M -> Y), fit two models: extraction captures: Path coefficients: a_path: Coefficient X mediator model (X -> M) b_path: Coefficient M outcome model (M -> Y, controlling X) c_prime: Coefficient X outcome model (direct effect) Full parameter vector: coefficients models Covariance matrix: computing standard errors functions parameters Residual variances: sigma_m^2 sigma_y^2 Gaussian models Data metadata: Sample size, variable names, convergence status Works GLM family: Include covariates models:","code":"# Generate example data set.seed(123) n <- 200 X <- rnorm(n) M <- 0.5 * X + rnorm(n, sd = 0.8) Y <- 0.3 * M + 0.2 * X + rnorm(n, sd = 0.8) data <- data.frame(X = X, M = M, Y = Y)  # Fit mediation models model_m <- lm(M ~ X, data = data) model_y <- lm(Y ~ X + M, data = data)  # Extract mediation structure med <- extract_mediation(   model_m,           # Mediator model   model_y,           # Outcome model   treatment = \"X\",   mediator = \"M\" )  # View results print(med) summary(med)  # Indirect effect med@a_path * med@b_path # Binary outcome Y_binary <- rbinom(n, 1, prob = plogis(0.3 * M + 0.2 * X)) data$Y_binary <- Y_binary  model_m <- lm(M ~ X, data = data) model_y <- glm(Y_binary ~ X + M, data = data, family = binomial())  med <- extract_mediation(   model_m,   model_y,   treatment = \"X\",   mediator = \"M\" )  # Note: b_path and c_prime are on logit scale print(med) # Add covariates data$Z1 <- rnorm(n) data$Z2 <- rnorm(n)  model_m <- lm(M ~ X + Z1 + Z2, data = data) model_y <- lm(Y ~ X + M + Z1 + Z2, data = data)  med <- extract_mediation(   model_m,   model_y,   treatment = \"X\",   mediator = \"M\" )  # Path coefficients adjust for Z1 and Z2 print(med)"},{"path":"https://data-wise.github.io/medfit/articles/extraction.html","id":"simple-mediation","dir":"Articles","previous_headings":"","what":"Simple Mediation","title":"Model Extraction","text":"simple mediation (X -> M -> Y), fit two models:","code":"# Generate example data set.seed(123) n <- 200 X <- rnorm(n) M <- 0.5 * X + rnorm(n, sd = 0.8) Y <- 0.3 * M + 0.2 * X + rnorm(n, sd = 0.8) data <- data.frame(X = X, M = M, Y = Y)  # Fit mediation models model_m <- lm(M ~ X, data = data) model_y <- lm(Y ~ X + M, data = data)  # Extract mediation structure med <- extract_mediation(   model_m,           # Mediator model   model_y,           # Outcome model   treatment = \"X\",   mediator = \"M\" )  # View results print(med) summary(med)  # Indirect effect med@a_path * med@b_path"},{"path":"https://data-wise.github.io/medfit/articles/extraction.html","id":"what-gets-extracted","dir":"Articles","previous_headings":"","what":"What Gets Extracted?","title":"Model Extraction","text":"extraction captures: Path coefficients: a_path: Coefficient X mediator model (X -> M) b_path: Coefficient M outcome model (M -> Y, controlling X) c_prime: Coefficient X outcome model (direct effect) Full parameter vector: coefficients models Covariance matrix: computing standard errors functions parameters Residual variances: sigma_m^2 sigma_y^2 Gaussian models Data metadata: Sample size, variable names, convergence status","code":""},{"path":"https://data-wise.github.io/medfit/articles/extraction.html","id":"glm-with-non-normal-outcomes","dir":"Articles","previous_headings":"","what":"GLM with Non-Normal Outcomes","title":"Model Extraction","text":"Works GLM family:","code":"# Binary outcome Y_binary <- rbinom(n, 1, prob = plogis(0.3 * M + 0.2 * X)) data$Y_binary <- Y_binary  model_m <- lm(M ~ X, data = data) model_y <- glm(Y_binary ~ X + M, data = data, family = binomial())  med <- extract_mediation(   model_m,   model_y,   treatment = \"X\",   mediator = \"M\" )  # Note: b_path and c_prime are on logit scale print(med)"},{"path":"https://data-wise.github.io/medfit/articles/extraction.html","id":"controlling-for-covariates","dir":"Articles","previous_headings":"","what":"Controlling for Covariates","title":"Model Extraction","text":"Include covariates models:","code":"# Add covariates data$Z1 <- rnorm(n) data$Z2 <- rnorm(n)  model_m <- lm(M ~ X + Z1 + Z2, data = data) model_y <- lm(Y ~ X + M + Z1 + Z2, data = data)  med <- extract_mediation(   model_m,   model_y,   treatment = \"X\",   mediator = \"M\" )  # Path coefficients adjust for Z1 and Z2 print(med)"},{"path":"https://data-wise.github.io/medfit/articles/extraction.html","id":"extracting-from-lavaan-models","dir":"Articles","previous_headings":"","what":"Extracting from lavaan Models","title":"Model Extraction","text":"serial mediation (X -> M1 -> M2 -> Y):","code":"library(lavaan)  # Define SEM model model_syntax <- \"   # Mediator model   M ~ a * X    # Outcome model   Y ~ b * M + c_prime * X    # Indirect effect   indirect := a * b    # Total effect   total := c_prime + a * b \"  # Fit model fit <- sem(model_syntax, data = data)  # Extract mediation structure med <- extract_mediation(   fit,   treatment = \"X\",   mediator = \"M\",   outcome = \"Y\" )  print(med) # Generate serial mediation data M1 <- 0.4 * X + rnorm(n, sd = 0.8) M2 <- 0.5 * M1 + 0.2 * X + rnorm(n, sd = 0.8) Y_serial <- 0.3 * M2 + 0.1 * M1 + 0.2 * X + rnorm(n, sd = 0.8) data_serial <- data.frame(X = X, M1 = M1, M2 = M2, Y = Y_serial)  # Define serial mediation model serial_syntax <- \"   # First mediator   M1 ~ a * X    # Second mediator   M2 ~ d * M1 + X    # Outcome   Y ~ b * M2 + M1 + c_prime * X    # Serial indirect effect (product-of-three)   serial_indirect := a * d * b \"  fit_serial <- sem(serial_syntax, data = data_serial)  # Extract as SerialMediationData med_serial <- extract_mediation(   fit_serial,   treatment = \"X\",   mediators = c(\"M1\", \"M2\"),   outcome = \"Y\" )  print(med_serial)  # Serial indirect effect med_serial@a_path * med_serial@d_path * med_serial@b_path"},{"path":"https://data-wise.github.io/medfit/articles/extraction.html","id":"simple-mediation-in-sem","dir":"Articles","previous_headings":"","what":"Simple Mediation in SEM","title":"Model Extraction","text":"","code":"library(lavaan)  # Define SEM model model_syntax <- \"   # Mediator model   M ~ a * X    # Outcome model   Y ~ b * M + c_prime * X    # Indirect effect   indirect := a * b    # Total effect   total := c_prime + a * b \"  # Fit model fit <- sem(model_syntax, data = data)  # Extract mediation structure med <- extract_mediation(   fit,   treatment = \"X\",   mediator = \"M\",   outcome = \"Y\" )  print(med)"},{"path":"https://data-wise.github.io/medfit/articles/extraction.html","id":"serial-mediation-in-sem","dir":"Articles","previous_headings":"","what":"Serial Mediation in SEM","title":"Model Extraction","text":"serial mediation (X -> M1 -> M2 -> Y):","code":"# Generate serial mediation data M1 <- 0.4 * X + rnorm(n, sd = 0.8) M2 <- 0.5 * M1 + 0.2 * X + rnorm(n, sd = 0.8) Y_serial <- 0.3 * M2 + 0.1 * M1 + 0.2 * X + rnorm(n, sd = 0.8) data_serial <- data.frame(X = X, M1 = M1, M2 = M2, Y = Y_serial)  # Define serial mediation model serial_syntax <- \"   # First mediator   M1 ~ a * X    # Second mediator   M2 ~ d * M1 + X    # Outcome   Y ~ b * M2 + M1 + c_prime * X    # Serial indirect effect (product-of-three)   serial_indirect := a * d * b \"  fit_serial <- sem(serial_syntax, data = data_serial)  # Extract as SerialMediationData med_serial <- extract_mediation(   fit_serial,   treatment = \"X\",   mediators = c(\"M1\", \"M2\"),   outcome = \"Y\" )  print(med_serial)  # Serial indirect effect med_serial@a_path * med_serial@d_path * med_serial@b_path"},{"path":"https://data-wise.github.io/medfit/articles/extraction.html","id":"compatibility-with-rmediation","dir":"Articles","previous_headings":"","what":"Compatibility with RMediation","title":"Model Extraction","text":"extraction design compatible RMediation‚Äôs lavaan extractor:","code":"# RMediation extracts parameters for Distribution of Product method # medfit extracts the same structure but as S7 classes  # Both packages can work with the same fitted models # medfit provides infrastructure, RMediation adds DOP/MBCO methods"},{"path":"https://data-wise.github.io/medfit/articles/extraction.html","id":"error-handling","dir":"Articles","previous_headings":"","what":"Error Handling","title":"Model Extraction","text":"extraction validates inputs:","code":"# Variable not in model extract_mediation(   model_m,   model_y,   treatment = \"NonExistent\",   mediator = \"M\" ) # Error: Treatment variable 'NonExistent' not found in model  # Mediator not in outcome model model_y_wrong <- lm(Y ~ X, data = data)  # Missing M extract_mediation(   model_m,   model_y_wrong,   treatment = \"X\",   mediator = \"M\" ) # Error: Mediator variable 'M' not found in outcome model"},{"path":"https://data-wise.github.io/medfit/articles/extraction.html","id":"advanced-topics","dir":"Articles","previous_headings":"","what":"Advanced Topics","title":"Model Extraction","text":"estimates property contains parameters models: Use covariance matrix computing standard errors:","code":"med <- extract_mediation(model_m, model_y, treatment = \"X\", mediator = \"M\")  # All parameters (intercepts + coefficients) med@estimates  # Access by name med@estimates[\"a\"]  # a_path med@estimates[\"b\"]  # b_path # Covariance matrix of all parameters vcov_mat <- med@vcov  # For delta method SE of indirect effect (a*b): # Var(a*b) ‚âà b^2 * Var(a) + a^2 * Var(b) + 2*a*b*Cov(a,b)  a <- med@a_path b <- med@b_path var_a <- vcov_mat[\"a\", \"a\"] var_b <- vcov_mat[\"b\", \"b\"] cov_ab <- vcov_mat[\"a\", \"b\"]  var_indirect <- b^2 * var_a + a^2 * var_b + 2 * a * b * cov_ab se_indirect <- sqrt(var_indirect)  se_indirect"},{"path":"https://data-wise.github.io/medfit/articles/extraction.html","id":"extracting-full-parameter-vector","dir":"Articles","previous_headings":"","what":"Extracting Full Parameter Vector","title":"Model Extraction","text":"estimates property contains parameters models:","code":"med <- extract_mediation(model_m, model_y, treatment = \"X\", mediator = \"M\")  # All parameters (intercepts + coefficients) med@estimates  # Access by name med@estimates[\"a\"]  # a_path med@estimates[\"b\"]  # b_path"},{"path":"https://data-wise.github.io/medfit/articles/extraction.html","id":"covariance-matrix-for-delta-method","dir":"Articles","previous_headings":"","what":"Covariance Matrix for Delta Method","title":"Model Extraction","text":"Use covariance matrix computing standard errors:","code":"# Covariance matrix of all parameters vcov_mat <- med@vcov  # For delta method SE of indirect effect (a*b): # Var(a*b) ‚âà b^2 * Var(a) + a^2 * Var(b) + 2*a*b*Cov(a,b)  a <- med@a_path b <- med@b_path var_a <- vcov_mat[\"a\", \"a\"] var_b <- vcov_mat[\"b\", \"b\"] cov_ab <- vcov_mat[\"a\", \"b\"]  var_indirect <- b^2 * var_a + a^2 * var_b + 2 * a * b * cov_ab se_indirect <- sqrt(var_indirect)  se_indirect"},{"path":"https://data-wise.github.io/medfit/articles/extraction.html","id":"design-for-extensibility","dir":"Articles","previous_headings":"","what":"Design for Extensibility","title":"Model Extraction","text":"extraction system designed accommodate future extensions: New model types: Add methods lmer, brms, etc. Complex mediation: Multiple mediators, moderated mediation Multiple treatments: Comparative mediation analysis Latent variables: SEM measurement models methods return S7 class structure, ensuring consistency.","code":""},{"path":"https://data-wise.github.io/medfit/articles/extraction.html","id":"next-steps","dir":"Articles","previous_headings":"","what":"Next Steps","title":"Model Extraction","text":"Learn bootstrap inference extracted models See introduction S7 class details Check reference documentation extract_mediation() methods","code":""},{"path":"https://data-wise.github.io/medfit/articles/extraction.html","id":"development-status","dir":"Articles","previous_headings":"","what":"Development Status","title":"Model Extraction","text":"Currently implemented: - ‚úÖ S7 class definitions (MediationData, SerialMediationData) - üöß lm/glm extraction (development) - üìã lavaan extraction (planned) - üìã OpenMx extraction (planned) See NEWS.md updates.","code":""},{"path":"https://data-wise.github.io/medfit/articles/getting-started.html","id":"what-is-medfit","dir":"Articles","previous_headings":"","what":"What is medfit?","title":"Getting Started with medfit","text":"medfit provides unified infrastructure mediation analysis R. offers: S7-based classes standardized mediation data structures Generic functions model fitting, extraction, inference Foundation specialized mediation packages (probmed, RMediation, medrobust)","code":""},{"path":"https://data-wise.github.io/medfit/articles/getting-started.html","id":"quick-start","dir":"Articles","previous_headings":"","what":"Quick Start","title":"Getting Started with medfit","text":"serial mediation (X -> M1 -> M2 -> Y):","code":"# Simple mediation: X -> M -> Y med_data <- MediationData(   a_path = 0.5,           # X -> M effect   b_path = 0.3,           # M -> Y effect (controlling for X)   c_prime = 0.2,          # X -> Y direct effect   treatment = \"X\",   mediator = \"M\",   outcome = \"Y\",   estimates = c(a = 0.5, b = 0.3, c_prime = 0.2),   vcov = diag(3) * 0.01,  # Covariance matrix   n_obs = 100L,   converged = TRUE,   source_package = \"medfit\" )  # View the object print(med_data) # Indirect effect = a * b med_data@a_path * med_data@b_path serial_data <- SerialMediationData(   a_path = 0.4,           # X -> M1   d_path = 0.5,           # M1 -> M2   b_path = 0.3,           # M2 -> Y   c_prime = 0.2,          # X -> Y direct effect   treatment = \"X\",   mediators = c(\"M1\", \"M2\"),   outcome = \"Y\",   estimates = c(a = 0.4, d = 0.5, b = 0.3, c_prime = 0.2),   vcov = diag(4) * 0.01,   mediator_predictors = list(M1 = \"X\", M2 = c(\"X\", \"M1\")),   outcome_predictors = c(\"X\", \"M1\", \"M2\"),   n_obs = 100L,   converged = TRUE,   source_package = \"medfit\" )  # Serial indirect effect = a * d * b serial_data@a_path * serial_data@d_path * serial_data@b_path"},{"path":"https://data-wise.github.io/medfit/articles/getting-started.html","id":"create-a-mediation-data-object","dir":"Articles","previous_headings":"","what":"Create a Mediation Data Object","title":"Getting Started with medfit","text":"","code":"# Simple mediation: X -> M -> Y med_data <- MediationData(   a_path = 0.5,           # X -> M effect   b_path = 0.3,           # M -> Y effect (controlling for X)   c_prime = 0.2,          # X -> Y direct effect   treatment = \"X\",   mediator = \"M\",   outcome = \"Y\",   estimates = c(a = 0.5, b = 0.3, c_prime = 0.2),   vcov = diag(3) * 0.01,  # Covariance matrix   n_obs = 100L,   converged = TRUE,   source_package = \"medfit\" )  # View the object print(med_data)"},{"path":"https://data-wise.github.io/medfit/articles/getting-started.html","id":"compute-indirect-effect","dir":"Articles","previous_headings":"","what":"Compute Indirect Effect","title":"Getting Started with medfit","text":"","code":"# Indirect effect = a * b med_data@a_path * med_data@b_path"},{"path":"https://data-wise.github.io/medfit/articles/getting-started.html","id":"serial-mediation","dir":"Articles","previous_headings":"","what":"Serial Mediation","title":"Getting Started with medfit","text":"serial mediation (X -> M1 -> M2 -> Y):","code":"serial_data <- SerialMediationData(   a_path = 0.4,           # X -> M1   d_path = 0.5,           # M1 -> M2   b_path = 0.3,           # M2 -> Y   c_prime = 0.2,          # X -> Y direct effect   treatment = \"X\",   mediators = c(\"M1\", \"M2\"),   outcome = \"Y\",   estimates = c(a = 0.4, d = 0.5, b = 0.3, c_prime = 0.2),   vcov = diag(4) * 0.01,   mediator_predictors = list(M1 = \"X\", M2 = c(\"X\", \"M1\")),   outcome_predictors = c(\"X\", \"M1\", \"M2\"),   n_obs = 100L,   converged = TRUE,   source_package = \"medfit\" )  # Serial indirect effect = a * d * b serial_data@a_path * serial_data@d_path * serial_data@b_path"},{"path":"https://data-wise.github.io/medfit/articles/getting-started.html","id":"main-functions","dir":"Articles","previous_headings":"","what":"Main Functions","title":"Getting Started with medfit","text":"medfit provides three generic functions: extract_mediation() - Extract mediation structure fitted models (lm/glm, lavaan) fit_mediation() - Fit mediation models directly bootstrap_mediation() - Bootstrap inference confidence intervals","code":""},{"path":"https://data-wise.github.io/medfit/articles/getting-started.html","id":"learn-more","dir":"Articles","previous_headings":"","what":"Learn More","title":"Getting Started with medfit","text":"Introduction medfit - Detailed S7 class documentation Model Extraction - Extract lm, glm, lavaan models Bootstrap Inference - Parametric nonparametric bootstrap","code":""},{"path":"https://data-wise.github.io/medfit/articles/getting-started.html","id":"development-status","dir":"Articles","previous_headings":"","what":"Development Status","title":"Getting Started with medfit","text":"medfit active development: ‚úÖ Phase 2 Complete: S7 class architecture üöß Phase 3 Progress: Model extraction üìã Planned: Model fitting, bootstrap infrastructure See NEWS.md latest updates.","code":""},{"path":"https://data-wise.github.io/medfit/articles/introduction.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Introduction to medfit","text":"medfit provides unified infrastructure mediation analysis R. offers: S7-based classes standardized mediation data structures Generic functions model fitting, extraction, inference Foundation mediation analysis ecosystem (probmed, RMediation, medrobust) package eliminates code duplication across mediation packages providing shared infrastructure allowing package focus unique methodological contributions.","code":""},{"path":"https://data-wise.github.io/medfit/articles/introduction.html","id":"core-s7-classes","dir":"Articles","previous_headings":"","what":"Core S7 Classes","title":"Introduction to medfit","text":"medfit defines three main S7 classes represent mediation structures: Stores simple mediation models (X -> M -> Y): indirect effect computed * b: Stores serial mediation models (X -> M1 -> M2 -> ‚Ä¶ -> Y): two mediators, serial indirect effect * d * b: Design extensibility: 3+ mediators, d_path becomes vector: - 3 mediators: * d21 * d32 * b (product--four) - k mediators: product--(k+1) Stores bootstrap inference results:","code":"# Example: Create a MediationData object med_data <- MediationData(   a_path = 0.5,           # X -> M effect   b_path = 0.3,           # M -> Y effect (controlling for X)   c_prime = 0.2,          # X -> Y direct effect   treatment = \"X\",   mediator = \"M\",   outcome = \"Y\",   estimates = c(a = 0.5, b = 0.3, c_prime = 0.2),   vcov = diag(3) * 0.01,  # Covariance matrix   n_obs = 100L,   converged = TRUE,   source_package = \"medfit\" )  # Print method shows key information print(med_data)  # Summary method provides details summary(med_data) # Access path coefficients med_data@a_path med_data@b_path  # Indirect effect med_data@a_path * med_data@b_path # Example: Two-mediator serial mediation (X -> M1 -> M2 -> Y) serial_data <- SerialMediationData(   a_path = 0.4,           # X -> M1   d_path = 0.5,           # M1 -> M2 (scalar for 2 mediators)   b_path = 0.3,           # M2 -> Y   c_prime = 0.2,          # X -> Y direct effect   treatment = \"X\",   mediators = c(\"M1\", \"M2\"),   outcome = \"Y\",   estimates = c(a = 0.4, d = 0.5, b = 0.3, c_prime = 0.2),   vcov = diag(4) * 0.01,   mediator_predictors = list(M1 = \"X\", M2 = c(\"X\", \"M1\")),   outcome_predictors = c(\"X\", \"M1\", \"M2\"),   n_obs = 100L,   converged = TRUE,   source_package = \"medfit\" )  print(serial_data) # Serial indirect effect (product-of-three) serial_data@a_path * serial_data@d_path * serial_data@b_path # Example: Bootstrap result for indirect effect boot_result <- BootstrapResult(   estimate = 0.15,        # Point estimate (a * b)   ci_lower = 0.08,        # Lower CI bound   ci_upper = 0.25,        # Upper CI bound   ci_level = 0.95,        # Confidence level   boot_estimates = rnorm(1000, mean = 0.15, sd = 0.04),  # Bootstrap distribution   n_boot = 1000L,   method = \"parametric\",   converged = TRUE )  print(boot_result) summary(boot_result)"},{"path":"https://data-wise.github.io/medfit/articles/introduction.html","id":"mediationdata","dir":"Articles","previous_headings":"","what":"MediationData","title":"Introduction to medfit","text":"Stores simple mediation models (X -> M -> Y): indirect effect computed * b:","code":"# Example: Create a MediationData object med_data <- MediationData(   a_path = 0.5,           # X -> M effect   b_path = 0.3,           # M -> Y effect (controlling for X)   c_prime = 0.2,          # X -> Y direct effect   treatment = \"X\",   mediator = \"M\",   outcome = \"Y\",   estimates = c(a = 0.5, b = 0.3, c_prime = 0.2),   vcov = diag(3) * 0.01,  # Covariance matrix   n_obs = 100L,   converged = TRUE,   source_package = \"medfit\" )  # Print method shows key information print(med_data)  # Summary method provides details summary(med_data) # Access path coefficients med_data@a_path med_data@b_path  # Indirect effect med_data@a_path * med_data@b_path"},{"path":"https://data-wise.github.io/medfit/articles/introduction.html","id":"serialmediationdata","dir":"Articles","previous_headings":"","what":"SerialMediationData","title":"Introduction to medfit","text":"Stores serial mediation models (X -> M1 -> M2 -> ‚Ä¶ -> Y): two mediators, serial indirect effect * d * b: Design extensibility: 3+ mediators, d_path becomes vector: - 3 mediators: * d21 * d32 * b (product--four) - k mediators: product--(k+1)","code":"# Example: Two-mediator serial mediation (X -> M1 -> M2 -> Y) serial_data <- SerialMediationData(   a_path = 0.4,           # X -> M1   d_path = 0.5,           # M1 -> M2 (scalar for 2 mediators)   b_path = 0.3,           # M2 -> Y   c_prime = 0.2,          # X -> Y direct effect   treatment = \"X\",   mediators = c(\"M1\", \"M2\"),   outcome = \"Y\",   estimates = c(a = 0.4, d = 0.5, b = 0.3, c_prime = 0.2),   vcov = diag(4) * 0.01,   mediator_predictors = list(M1 = \"X\", M2 = c(\"X\", \"M1\")),   outcome_predictors = c(\"X\", \"M1\", \"M2\"),   n_obs = 100L,   converged = TRUE,   source_package = \"medfit\" )  print(serial_data) # Serial indirect effect (product-of-three) serial_data@a_path * serial_data@d_path * serial_data@b_path"},{"path":"https://data-wise.github.io/medfit/articles/introduction.html","id":"bootstrapresult","dir":"Articles","previous_headings":"","what":"BootstrapResult","title":"Introduction to medfit","text":"Stores bootstrap inference results:","code":"# Example: Bootstrap result for indirect effect boot_result <- BootstrapResult(   estimate = 0.15,        # Point estimate (a * b)   ci_lower = 0.08,        # Lower CI bound   ci_upper = 0.25,        # Upper CI bound   ci_level = 0.95,        # Confidence level   boot_estimates = rnorm(1000, mean = 0.15, sd = 0.04),  # Bootstrap distribution   n_boot = 1000L,   method = \"parametric\",   converged = TRUE )  print(boot_result) summary(boot_result)"},{"path":"https://data-wise.github.io/medfit/articles/introduction.html","id":"main-functions","dir":"Articles","previous_headings":"","what":"Main Functions","title":"Introduction to medfit","text":"medfit provides three generic functions work across different model types: Extract mediation structure fitted models: See vignette(\"extraction\") details. Fit mediation models directly: Perform bootstrap inference indirect effects: See vignette(\"bootstrap\") details.","code":"# From lm/glm models med <- extract_mediation(   model_m,           # Mediator model (M ~ X)   model_y,           # Outcome model (Y ~ X + M)   treatment = \"X\",   mediator = \"M\" )  # From lavaan SEM models med <- extract_mediation(   lavaan_fit,   treatment = \"X\",   mediator = \"M\",   outcome = \"Y\" ) # Fit using GLM engine med <- fit_mediation(   data = mydata,   treatment = \"X\",   mediator = \"M\",   outcome = \"Y\",   engine = \"glm\",   family_m = gaussian(),   family_y = gaussian() ) # Parametric bootstrap boot_result <- bootstrap_mediation(   med_data,   method = \"parametric\",   n_boot = 1000,   ci_level = 0.95,   parallel = TRUE )  # Nonparametric bootstrap (resamples data, refits models) boot_result <- bootstrap_mediation(   med_data,   method = \"nonparametric\",   n_boot = 1000 )"},{"path":"https://data-wise.github.io/medfit/articles/introduction.html","id":"extract_mediation","dir":"Articles","previous_headings":"","what":"extract_mediation()","title":"Introduction to medfit","text":"Extract mediation structure fitted models: See vignette(\"extraction\") details.","code":"# From lm/glm models med <- extract_mediation(   model_m,           # Mediator model (M ~ X)   model_y,           # Outcome model (Y ~ X + M)   treatment = \"X\",   mediator = \"M\" )  # From lavaan SEM models med <- extract_mediation(   lavaan_fit,   treatment = \"X\",   mediator = \"M\",   outcome = \"Y\" )"},{"path":"https://data-wise.github.io/medfit/articles/introduction.html","id":"fit_mediation","dir":"Articles","previous_headings":"","what":"fit_mediation()","title":"Introduction to medfit","text":"Fit mediation models directly:","code":"# Fit using GLM engine med <- fit_mediation(   data = mydata,   treatment = \"X\",   mediator = \"M\",   outcome = \"Y\",   engine = \"glm\",   family_m = gaussian(),   family_y = gaussian() )"},{"path":"https://data-wise.github.io/medfit/articles/introduction.html","id":"bootstrap_mediation","dir":"Articles","previous_headings":"","what":"bootstrap_mediation()","title":"Introduction to medfit","text":"Perform bootstrap inference indirect effects: See vignette(\"bootstrap\") details.","code":"# Parametric bootstrap boot_result <- bootstrap_mediation(   med_data,   method = \"parametric\",   n_boot = 1000,   ci_level = 0.95,   parallel = TRUE )  # Nonparametric bootstrap (resamples data, refits models) boot_result <- bootstrap_mediation(   med_data,   method = \"nonparametric\",   n_boot = 1000 )"},{"path":"https://data-wise.github.io/medfit/articles/introduction.html","id":"package-ecosystem","dir":"Articles","previous_headings":"","what":"Package Ecosystem","title":"Introduction to medfit","text":"medfit serves foundation specialized mediation packages: Uses medfit infrastructure Adds P_med computation visualization Uses medfit extraction Adds Distribution Product (DOP), MBCO tests Uses medfit baseline estimates Adds bounds computation, falsification tests","code":""},{"path":"https://data-wise.github.io/medfit/articles/introduction.html","id":"design-principles","dir":"Articles","previous_headings":"","what":"Design Principles","title":"Introduction to medfit","text":"Type safety: S7 classes validators ensure data integrity Consistency: Standardized interfaces across model types Extensibility: Easy add new model engines methods Minimal dependencies: Core functionality minimal external dependencies Infrastructure focus: Provides tools, effect sizes","code":""},{"path":"https://data-wise.github.io/medfit/articles/introduction.html","id":"next-steps","dir":"Articles","previous_headings":"","what":"Next Steps","title":"Introduction to medfit","text":"Learn model extraction different sources Explore bootstrap inference methods See reference documentation detailed API information","code":""},{"path":"https://data-wise.github.io/medfit/articles/introduction.html","id":"development-status","dir":"Articles","previous_headings":"","what":"Development Status","title":"Introduction to medfit","text":"medfit active development. Current status: ‚úÖ Phase 2 Complete: S7 class architecture üöß Phase 3 Progress: Model extraction üìã Planned: Model fitting, bootstrap infrastructure See NEWS.md latest updates.","code":""},{"path":"https://data-wise.github.io/medfit/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Davood Tofighi. Author, maintainer.","code":""},{"path":"https://data-wise.github.io/medfit/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Tofighi D (2025). medfit: Infrastructure Mediation Model Fitting Extraction. R package version 0.1.0, https://data-wise.github.io/medfit/.","code":"@Manual{,   title = {medfit: Infrastructure for Mediation Model Fitting and Extraction},   author = {Davood Tofighi},   year = {2025},   note = {R package version 0.1.0},   url = {https://data-wise.github.io/medfit/}, }"},{"path":[]},{"path":"https://data-wise.github.io/medfit/hex-logo-prompt.html","id":"for-ai-image-generators-dall-e-midjourney-gemini-etc","dir":"","previous_headings":"","what":"For AI Image Generators (DALL-E, Midjourney, Gemini, etc.)","title":"Hex Logo Prompt for medfit Package","text":"Create professional hexagonal sticker logo R package called ‚Äúmedfit‚Äù following specifications:","code":""},{"path":"https://data-wise.github.io/medfit/hex-logo-prompt.html","id":"shape--format","dir":"","previous_headings":"For AI Image Generators (DALL-E, Midjourney, Gemini, etc.)","what":"Shape & Format","title":"Hex Logo Prompt for medfit Package","text":"Hexagonal shape (like standard R package hex sticker) Border: thick border academic blue (#0054AD) Background: clean white light gray (#F8F9FA) Dimensions: 181px √ó 209px (standard R hex sticker ratio)","code":""},{"path":"https://data-wise.github.io/medfit/hex-logo-prompt.html","id":"typography","dir":"","previous_headings":"For AI Image Generators (DALL-E, Midjourney, Gemini, etc.)","what":"Typography","title":"Hex Logo Prompt for medfit Package","text":"Package name ‚Äúmedfit‚Äù bottom Font: Modern, clean sans-serif (similar Montserrat Inter) Color: Academic blue (#0054AD) Size: Bold readable","code":""},{"path":"https://data-wise.github.io/medfit/hex-logo-prompt.html","id":"visual-design-concept-choose-one","dir":"","previous_headings":"For AI Image Generators (DALL-E, Midjourney, Gemini, etc.)","what":"Visual Design Concept (Choose ONE)","title":"Hex Logo Prompt for medfit Package","text":"Option 1: Path Diagram - Central icon showing simple mediation path diagram - Three connected nodes: X ‚Üí M ‚Üí Y - Arrows connecting triangular/path arrangement - Minimalist, geometric style - Colors: Blue (#0054AD) paths, light gray nodes - Modern, clean lines Option 2: Infrastructure Blueprint - Abstract geometric representation ‚Äúinfrastructure‚Äù - Overlapping shapes suggesting building blocks/foundation - Grid blueprint aesthetic - Colors: Shades blue (#0054AD, lighter tints) - Technical, architectural feel Option 3: Data Flow - Abstract flowing lines representing data transformation - Three distinct flow paths merging connecting - Gradient effect blues - Modern, tech-forward aesthetic - Suggests ‚Äúfitting‚Äù data models","code":""},{"path":"https://data-wise.github.io/medfit/hex-logo-prompt.html","id":"style-guidelines","dir":"","previous_headings":"For AI Image Generators (DALL-E, Midjourney, Gemini, etc.)","what":"Style Guidelines","title":"Hex Logo Prompt for medfit Package","text":"Aesthetic: Academic, professional, modern, clean Avoid: Overly complex designs, many colors, clipart style Mood: Trustworthy, scientific, precise, foundational Reference packages: Look tidyverse, ggplot2 hex stickers style inspiration","code":""},{"path":"https://data-wise.github.io/medfit/hex-logo-prompt.html","id":"color-palette","dir":"","previous_headings":"For AI Image Generators (DALL-E, Midjourney, Gemini, etc.)","what":"Color Palette","title":"Hex Logo Prompt for medfit Package","text":"Primary: #0054AD (academic blue) Secondary: #F8F9FA (light background) Accent: #FFFFFF (white) Optional: Lighter blue tints (#4A90E2, #7FB3E8) gradients","code":""},{"path":"https://data-wise.github.io/medfit/hex-logo-prompt.html","id":"technical-requirements","dir":"","previous_headings":"For AI Image Generators (DALL-E, Midjourney, Gemini, etc.)","what":"Technical Requirements","title":"Hex Logo Prompt for medfit Package","text":"High resolution (least 600 DPI print) Clean vector-style appearance Transparent background outside hexagon Professional quality suitable package website stickers","code":""},{"path":"https://data-wise.github.io/medfit/hex-logo-prompt.html","id":"context","dir":"","previous_headings":"For AI Image Generators (DALL-E, Midjourney, Gemini, etc.)","what":"Context","title":"Hex Logo Prompt for medfit Package","text":"medfit foundation package mediation analysis ecosystem R. provides: - Infrastructure fitting mediation models - Path coefficient extraction - Bootstrap inference - S7-based modern architecture logo convey: reliability, precision, scientific rigor, foundational infrastructure.","code":""},{"path":"https://data-wise.github.io/medfit/hex-logo-prompt.html","id":"recommended-prompt-for-dall-emidjourneygemini","dir":"","previous_headings":"","what":"Recommended Prompt for DALL-E/Midjourney/Gemini:","title":"Hex Logo Prompt for medfit Package","text":"‚ÄúCreate professional hexagonal logo sticker R statistics package called ‚Äòmedfit‚Äô. hex sticker thick border academic blue (#0054AD). Inside, show minimalist geometric mediation path diagram three connected nodes (X ‚Üí M ‚Üí Y) representing statistical path model. Use clean, modern lines blue (#0054AD) white background. package name ‚Äòmedfit‚Äô appear bottom bold, modern sans-serif font. Style: clean, academic, professional, inspired tidyverse R package hex stickers. High quality, vector-style appearance.‚Äù","code":""},{"path":"https://data-wise.github.io/medfit/hex-logo-prompt.html","id":"alternative-shorter-prompt","dir":"","previous_headings":"","what":"Alternative Shorter Prompt:","title":"Hex Logo Prompt for medfit Package","text":"‚ÄúDesign hexagonal R package sticker ‚Äòmedfit‚Äô. Academic blue (#0054AD) border elements. Minimalist mediation path diagram (three connected nodes: X‚ÜíM‚ÜíY). White background. Modern, professional, scientific aesthetic. Package name ‚Äòmedfit‚Äô bottom bold blue font.‚Äù","code":""},{"path":[]},{"path":"https://data-wise.github.io/medfit/index.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"medfit: Infrastructure for Mediation Analysis in R","text":"medfit provides unified S7-based infrastructure fitting mediation models, extracting path coefficients, performing bootstrap inference. serves foundation package mediation analysis ecosystem, supporting probmed, RMediation, medrobust.","code":""},{"path":"https://data-wise.github.io/medfit/index.html","id":"key-features","dir":"","previous_headings":"Overview","what":"Key Features","title":"medfit: Infrastructure for Mediation Analysis in R","text":"Unified Model Extraction: Extract mediation structure various model types (lm, glm, lavaan, OpenMx) Flexible Model Fitting: Fit mediation models using different engines (GLM, future support mixed models Bayesian methods) Robust Bootstrap Inference: Three bootstrap methods (parametric, nonparametric, plugin) parallel processing support Type-Safe S7 Classes: Modern object-oriented design ensuring data integrity Ecosystem Foundation: Shared infrastructure eliminating redundancy across mediation packages","code":""},{"path":"https://data-wise.github.io/medfit/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"medfit: Infrastructure for Mediation Analysis in R","text":"can install development version medfit GitHub: using remotes:","code":"# install.packages(\"pak\") pak::pak(\"data-wise/medfit\") # install.packages(\"remotes\") remotes::install_github(\"data-wise/medfit\")"},{"path":[]},{"path":"https://data-wise.github.io/medfit/index.html","id":"extract-mediation-structure-from-fitted-models","dir":"","previous_headings":"Quick Start","what":"Extract Mediation Structure from Fitted Models","title":"medfit: Infrastructure for Mediation Analysis in R","text":"","code":"library(medfit)  # Simulate data set.seed(123) n <- 200 X <- rnorm(n) M <- 0.5 * X + rnorm(n) Y <- 0.3 * M + 0.2 * X + rnorm(n) data <- data.frame(X = X, M = M, Y = Y)  # Fit models fit_m <- lm(M ~ X, data = data) fit_y <- lm(Y ~ X + M, data = data)  # Extract mediation structure med_data <- extract_mediation(   fit_m,   model_y = fit_y,   treatment = \"X\",   mediator = \"M\" )  print(med_data)"},{"path":"https://data-wise.github.io/medfit/index.html","id":"fit-mediation-models-directly","dir":"","previous_headings":"Quick Start","what":"Fit Mediation Models Directly","title":"medfit: Infrastructure for Mediation Analysis in R","text":"","code":"# Coming soon: fit_mediation() for direct model fitting med_data <- fit_mediation(   formula_y = Y ~ X + M,   formula_m = M ~ X,   data = data,   treatment = \"X\",   mediator = \"M\",   engine = \"glm\" )"},{"path":"https://data-wise.github.io/medfit/index.html","id":"bootstrap-inference","dir":"","previous_headings":"Quick Start","what":"Bootstrap Inference","title":"medfit: Infrastructure for Mediation Analysis in R","text":"","code":"# Coming soon: bootstrap_mediation() for inference result <- bootstrap_mediation(   statistic_fn = function(theta) theta[\"a\"] * theta[\"b\"],   method = \"parametric\",   mediation_data = med_data,   n_boot = 5000,   ci_level = 0.95,   seed = 12345 )  print(result)"},{"path":[]},{"path":"https://data-wise.github.io/medfit/index.html","id":"s7-classes","dir":"","previous_headings":"Core Components","what":"S7 Classes","title":"medfit: Infrastructure for Mediation Analysis in R","text":"Path coefficients (, b, c‚Äô) Parameter estimates variance-covariance matrix Residual variances (Gaussian models) Variable names metadata Supports product--three (2 mediators) product--k (3+ mediators) Flexible design compatible lavaan extraction patterns Extensible complex mediation structures Point estimates confidence intervals Bootstrap distribution Method metadata","code":""},{"path":"https://data-wise.github.io/medfit/index.html","id":"main-functions","dir":"","previous_headings":"Core Components","what":"Main Functions","title":"medfit: Infrastructure for Mediation Analysis in R","text":"Methods : lm, glm, lavaan (OpenMx coming soon) Engines: GLM (lmer, brms coming soon) Methods: parametric, nonparametric, plugin Parallel processing support","code":""},{"path":"https://data-wise.github.io/medfit/index.html","id":"package-ecosystem","dir":"","previous_headings":"","what":"Package Ecosystem","title":"medfit: Infrastructure for Mediation Analysis in R","text":"medfit foundation three specialized mediation packages: probmed: Probabilistic effect size (P_med) RMediation: Confidence intervals via Distribution Product medrobust: Sensitivity analysis unmeasured confounding","code":"‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                     ‚îÇ   medfit    ‚îÇ                     ‚îÇ (Foundation)‚îÇ                     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                            ‚îÇ             ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê             ‚îÇ              ‚îÇ              ‚îÇ       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê       ‚îÇ  probmed  ‚îÇ  ‚îÇRMediation‚îÇ  ‚îÇ  medrobust  ‚îÇ       ‚îÇ   (P_med) ‚îÇ  ‚îÇ(DOP,MBCO)‚îÇ  ‚îÇ(Sensitivity)‚îÇ       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò"},{"path":"https://data-wise.github.io/medfit/index.html","id":"documentation","dir":"","previous_headings":"","what":"Documentation","title":"medfit: Infrastructure for Mediation Analysis in R","text":"Comprehensive Quarto vignettes available: Get Started: Quick introduction medfit Introduction: Detailed S7 class documentation Model Extraction: Extract lm/glm/lavaan models Bootstrap Inference: Parametric nonparametric bootstrap methods","code":""},{"path":"https://data-wise.github.io/medfit/index.html","id":"development-status","dir":"","previous_headings":"","what":"Development Status","title":"medfit: Infrastructure for Mediation Analysis in R","text":"Current Phase: MVP Development (Phase 2 Complete + Documentation) Phase 1: Package setup Phase 2: S7 class architecture (SerialMediationData) Phase 2.5: Comprehensive Quarto documentation Phase 3: Model extraction (progress) Phase 4: Model fitting Phase 5: Bootstrap infrastructure Phase 6: Extended testing Phase 7: Polish & release See planning/medfit-roadmap.md detailed development plan.","code":""},{"path":"https://data-wise.github.io/medfit/index.html","id":"contributing","dir":"","previous_headings":"","what":"Contributing","title":"medfit: Infrastructure for Mediation Analysis in R","text":"package active development. Contributions welcome! Please: Fork repository Create feature branch dev Make changes tests Submit pull request dev","code":""},{"path":"https://data-wise.github.io/medfit/index.html","id":"code-of-conduct","dir":"","previous_headings":"","what":"Code of Conduct","title":"medfit: Infrastructure for Mediation Analysis in R","text":"Please note medfit project released Contributor Code Conduct. contributing project, agree abide terms.","code":""},{"path":"https://data-wise.github.io/medfit/index.html","id":"license","dir":"","previous_headings":"","what":"License","title":"medfit: Infrastructure for Mediation Analysis in R","text":"GPL (>= 3)","code":""},{"path":"https://data-wise.github.io/medfit/index.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"medfit: Infrastructure for Mediation Analysis in R","text":"use medfit research, please cite:","code":"Tofighi, D. (2025). medfit: Infrastructure for mediation analysis in R. R package version 0.1.0. https://github.com/data-wise/medfit"},{"path":"https://data-wise.github.io/medfit/index.html","id":"related-resources","dir":"","previous_headings":"","what":"Related Resources","title":"medfit: Infrastructure for Mediation Analysis in R","text":"Package Documentation Development Guide Roadmap Ecosystem Strategy","code":""},{"path":"https://data-wise.github.io/medfit/index.html","id":"contact","dir":"","previous_headings":"","what":"Contact","title":"medfit: Infrastructure for Mediation Analysis in R","text":"Author: Davood Tofighi Email: dtofighi@gmail.com ORCID: 0000-0001-8523-7776 Issues: GitHub Issues","code":""},{"path":"https://data-wise.github.io/medfit/reference/BootstrapResult.html","id":null,"dir":"Reference","previous_headings":"","what":"BootstrapResult S7 Class ‚Äî BootstrapResult","title":"BootstrapResult S7 Class ‚Äî BootstrapResult","text":"S7 class containing results bootstrap inference, including point estimates, confidence intervals, bootstrap distribution.","code":""},{"path":"https://data-wise.github.io/medfit/reference/BootstrapResult.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"BootstrapResult S7 Class ‚Äî BootstrapResult","text":"","code":"BootstrapResult(   estimate = integer(0),   ci_lower = integer(0),   ci_upper = integer(0),   ci_level = integer(0),   boot_estimates = integer(0),   n_boot = integer(0),   method = character(0),   call = quote({  }) )"},{"path":"https://data-wise.github.io/medfit/reference/BootstrapResult.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"BootstrapResult S7 Class ‚Äî BootstrapResult","text":"estimate Numeric scalar: point estimate statistic ci_lower Numeric scalar: lower bound confidence interval ci_upper Numeric scalar: upper bound confidence interval ci_level Numeric scalar: confidence level (e.g., 0.95 95% CI) boot_estimates Numeric vector: bootstrap distribution estimates n_boot Integer scalar: number bootstrap samples method Character scalar: bootstrap method (\"parametric\", \"nonparametric\", \"plugin\") call Call object NULL: original function call","code":""},{"path":"https://data-wise.github.io/medfit/reference/BootstrapResult.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"BootstrapResult S7 Class ‚Äî BootstrapResult","text":"BootstrapResult S7 object","code":""},{"path":"https://data-wise.github.io/medfit/reference/BootstrapResult.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"BootstrapResult S7 Class ‚Äî BootstrapResult","text":"class standardizes bootstrap inference results across different bootstrap methods (parametric, nonparametric, plugin). class includes validation ensure consistency method type required fields.","code":""},{"path":"https://data-wise.github.io/medfit/reference/BootstrapResult.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"BootstrapResult S7 Class ‚Äî BootstrapResult","text":"","code":"if (FALSE) { # \\dontrun{ # Parametric bootstrap result result <- BootstrapResult(   estimate = 0.15,   ci_lower = 0.10,   ci_upper = 0.20,   ci_level = 0.95,   boot_estimates = rnorm(1000, 0.15, 0.02),   n_boot = 1000L,   method = \"parametric\",   call = NULL ) } # }"},{"path":"https://data-wise.github.io/medfit/reference/MediationData.html","id":null,"dir":"Reference","previous_headings":"","what":"MediationData S7 Class ‚Äî MediationData","title":"MediationData S7 Class ‚Äî MediationData","text":"S7 class containing standardized mediation model structure, including path coefficients, parameter estimates, variance-covariance matrix, metadata.","code":""},{"path":"https://data-wise.github.io/medfit/reference/MediationData.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"MediationData S7 Class ‚Äî MediationData","text":"a_path Numeric scalar: effect treatment mediator (path) b_path Numeric scalar: effect mediator outcome (b path) c_prime Numeric scalar: direct effect treatment outcome (c' path) estimates Numeric vector: parameter estimates vcov Numeric matrix: variance-covariance matrix estimates sigma_m Numeric scalar NULL: residual SD mediator model sigma_y Numeric scalar NULL: residual SD outcome model treatment Character scalar: name treatment variable mediator Character scalar: name mediator variable outcome Character scalar: name outcome variable mediator_predictors Character vector: predictor names mediator model outcome_predictors Character vector: predictor names outcome model data Data frame NULL: original data n_obs Integer scalar: number observations converged Logical scalar: whether models converged source_package Character scalar: package/engine used fitting","code":""},{"path":"https://data-wise.github.io/medfit/reference/MediationData.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"MediationData S7 Class ‚Äî MediationData","text":"MediationData S7 object","code":""},{"path":"https://data-wise.github.io/medfit/reference/MediationData.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"MediationData S7 Class ‚Äî MediationData","text":"class provides unified container mediation model information extracted various model types (lm, glm, lavaan, OpenMx, etc.). ensures consistency across mediation analysis ecosystem. class includes comprehensive validation ensure data integrity.","code":""},{"path":"https://data-wise.github.io/medfit/reference/MediationData.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"MediationData S7 Class ‚Äî MediationData","text":"","code":"if (FALSE) { # \\dontrun{ # Create a MediationData object med_data <- MediationData(   a_path = 0.5,   b_path = 0.3,   c_prime = 0.2,   estimates = c(0.5, 0.3, 0.2),   vcov = diag(3) * 0.01,   sigma_m = 1.0,   sigma_y = 1.2,   treatment = \"X\",   mediator = \"M\",   outcome = \"Y\",   mediator_predictors = \"X\",   outcome_predictors = c(\"X\", \"M\"),   data = NULL,   n_obs = 100L,   converged = TRUE,   source_package = \"stats\" ) } # }"},{"path":"https://data-wise.github.io/medfit/reference/SerialMediationData.html","id":null,"dir":"Reference","previous_headings":"","what":"SerialMediationData S7 Class ‚Äî SerialMediationData","title":"SerialMediationData S7 Class ‚Äî SerialMediationData","text":"S7 class serial mediation models effect flows multiple mediators sequence: X -> M1 -> M2 -> ... -> Mk -> Y. class supports serial mediation chains length, simple two-mediator models (product--three: * d * b) complex chains many mediators (product--k).","code":""},{"path":"https://data-wise.github.io/medfit/reference/SerialMediationData.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"SerialMediationData S7 Class ‚Äî SerialMediationData","text":"a_path Numeric scalar: effect treatment first mediator (X -> M1) d_path Numeric vector: sequential mediator--mediator effects 2 mediators (X -> M1 -> M2 -> Y): scalar d21 (M1 -> M2) 3 mediators (X -> M1 -> M2 -> M3 -> Y): c(d21, d32) k mediators: vector length (k-1) b_path Numeric scalar: effect last mediator outcome (Mk -> Y) c_prime Numeric scalar: direct effect treatment outcome (X -> Y) estimates Numeric vector: parameter estimates vcov Numeric matrix: variance-covariance matrix estimates sigma_mediators Numeric vector NULL: residual SDs mediator models. Length match number mediators. First element residual SD M1 model, second element M2 model, etc. sigma_y Numeric scalar NULL: residual SD outcome model treatment Character scalar: name treatment variable mediators Character vector: names mediators sequential order. First element M1, second element M2, etc. outcome Character scalar: name outcome variable mediator_predictors List character vectors: predictor names mediator model. First list element contains predictors M1 (typically just \"X\"), second element contains predictors M2 (typically c(\"X\", \"M1\")), etc. outcome_predictors Character vector: predictor names outcome model data Data frame NULL: original data n_obs Integer scalar: number observations converged Logical scalar: whether models converged source_package Character scalar: package/engine used fitting","code":""},{"path":"https://data-wise.github.io/medfit/reference/SerialMediationData.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"SerialMediationData S7 Class ‚Äî SerialMediationData","text":"SerialMediationData S7 object","code":""},{"path":[]},{"path":"https://data-wise.github.io/medfit/reference/SerialMediationData.html","id":"serial-mediation-structure","dir":"Reference","previous_headings":"","what":"Serial Mediation Structure","title":"SerialMediationData S7 Class ‚Äî SerialMediationData","text":"Serial mediation models indirect effect flowing sequence mediators. total indirect effect product path coefficients: 2 mediators (product--three): Indirect = * d * b 3 mediators (product--four): Indirect = * d21 * d32 * b k mediators (product--k+1): Indirect = * d21 * d32 * ... * d(k,k-1) * b","code":""},{"path":"https://data-wise.github.io/medfit/reference/SerialMediationData.html","id":"path-notation","dir":"Reference","previous_headings":"","what":"Path Notation","title":"SerialMediationData S7 Class ‚Äî SerialMediationData","text":": Treatment -> First mediator (X -> M1) d21: First -> Second mediator (M1 -> M2) d32: Second -> Third mediator (M2 -> M3) dji: Previous mediator -> Current mediator b: Last mediator -> Outcome (Mk -> Y) c': Direct effect (X -> Y, controlling mediators)","code":""},{"path":"https://data-wise.github.io/medfit/reference/SerialMediationData.html","id":"extensibility","dir":"Reference","previous_headings":"","what":"Extensibility","title":"SerialMediationData S7 Class ‚Äî SerialMediationData","text":"class designed handle serial chains length: Minimal case: 2 mediators (length(d_path) = 1) upper limit chain length Validator ensures consistency mediators paths","code":""},{"path":"https://data-wise.github.io/medfit/reference/SerialMediationData.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"SerialMediationData S7 Class ‚Äî SerialMediationData","text":"","code":"if (FALSE) { # \\dontrun{ # Two-mediator serial mediation (X -> M1 -> M2 -> Y) # Product-of-three: a * d * b serial_data <- SerialMediationData(   a_path = 0.5,       # X -> M1   d_path = 0.4,       # M1 -> M2 (scalar for 2 mediators)   b_path = 0.3,       # M2 -> Y   c_prime = 0.1,      # X -> Y (direct)   estimates = c(0.5, 0.4, 0.3, 0.1),   vcov = diag(4) * 0.01,   sigma_mediators = c(1.0, 1.1),  # SD for M1, M2 models   sigma_y = 1.2,   treatment = \"X\",   mediators = c(\"M1\", \"M2\"),   outcome = \"Y\",   mediator_predictors = list(     c(\"X\"),           # M1 ~ X     c(\"X\", \"M1\")      # M2 ~ X + M1   ),   outcome_predictors = c(\"X\", \"M1\", \"M2\"),  # Y ~ X + M1 + M2   data = NULL,   n_obs = 100L,   converged = TRUE,   source_package = \"lavaan\" )  # Three-mediator serial mediation (X -> M1 -> M2 -> M3 -> Y) # Product-of-four: a * d21 * d32 * b serial_data_3 <- SerialMediationData(   a_path = 0.5,           # X -> M1   d_path = c(0.4, 0.35),  # M1 -> M2, M2 -> M3 (vector for 3 mediators)   b_path = 0.3,           # M3 -> Y   c_prime = 0.1,   estimates = c(0.5, 0.4, 0.35, 0.3, 0.1),   vcov = diag(5) * 0.01,   sigma_mediators = c(1.0, 1.1, 1.05),  # SD for M1, M2, M3 models   sigma_y = 1.2,   treatment = \"X\",   mediators = c(\"M1\", \"M2\", \"M3\"),   outcome = \"Y\",   mediator_predictors = list(     c(\"X\"),              # M1 ~ X     c(\"X\", \"M1\"),        # M2 ~ X + M1     c(\"X\", \"M1\", \"M2\")   # M3 ~ X + M1 + M2   ),   outcome_predictors = c(\"X\", \"M1\", \"M2\", \"M3\"),   data = NULL,   n_obs = 100L,   converged = TRUE,   source_package = \"lavaan\" ) } # }"},{"path":"https://data-wise.github.io/medfit/reference/bootstrap_mediation.html","id":null,"dir":"Reference","previous_headings":"","what":"Perform Bootstrap Inference for Mediation Statistics ‚Äî bootstrap_mediation","title":"Perform Bootstrap Inference for Mediation Statistics ‚Äî bootstrap_mediation","text":"Conduct bootstrap inference compute confidence intervals mediation statistics. Supports parametric, nonparametric, plugin methods.","code":""},{"path":"https://data-wise.github.io/medfit/reference/bootstrap_mediation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Perform Bootstrap Inference for Mediation Statistics ‚Äî bootstrap_mediation","text":"","code":"bootstrap_mediation(   statistic_fn,   method = c(\"parametric\", \"nonparametric\", \"plugin\"),   mediation_data = NULL,   data = NULL,   n_boot = 1000,   ci_level = 0.95,   parallel = FALSE,   ncores = NULL,   seed = NULL,   ... )"},{"path":"https://data-wise.github.io/medfit/reference/bootstrap_mediation.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Perform Bootstrap Inference for Mediation Statistics ‚Äî bootstrap_mediation","text":"statistic_fn Function computes statistic interest. parametric bootstrap: receives parameter vector, returns scalar nonparametric bootstrap: receives data frame, returns scalar plugin: receives parameter vector, returns scalar method Character string: bootstrap method. Options: \"parametric\": Sample multivariate normal (fast, assumes normality) \"nonparametric\": Resample data refit (robust, slower) \"plugin\": Point estimate , CI (fastest) mediation_data MediationData object (required parametric/plugin) data Data frame (required nonparametric bootstrap) n_boot Integer: number bootstrap samples (default: 1000) ci_level Numeric: confidence level 0 1 (default: 0.95) parallel Logical: use parallel processing? (default: FALSE) ncores Integer: number cores parallel processing. NULL, uses detectCores() - 1 seed Integer: random seed reproducibility (optional recommended) ... Additional arguments (reserved future use)","code":""},{"path":"https://data-wise.github.io/medfit/reference/bootstrap_mediation.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Perform Bootstrap Inference for Mediation Statistics ‚Äî bootstrap_mediation","text":"BootstrapResult object containing: Point estimate Confidence interval bounds Bootstrap distribution (parametric nonparametric) Method used","code":""},{"path":[]},{"path":"https://data-wise.github.io/medfit/reference/bootstrap_mediation.html","id":"bootstrap-methods","dir":"Reference","previous_headings":"","what":"Bootstrap Methods","title":"Perform Bootstrap Inference for Mediation Statistics ‚Äî bootstrap_mediation","text":"Parametric Bootstrap (method = \"parametric\"): Samples parameter vectors \\(N(\\hat{\\theta}, \\hat{\\Sigma})\\) Fast efficient Assumes asymptotic normality parameters Recommended applications n > 50 Nonparametric Bootstrap (method = \"nonparametric\"): Resamples observations replacement Refits models bootstrap sample robust, normality assumption Computationally intensive Use normality questionable n small Plugin Estimator (method = \"plugin\"): Computes point estimate confidence interval Fastest method Use quick checks CI needed","code":""},{"path":"https://data-wise.github.io/medfit/reference/bootstrap_mediation.html","id":"parallel-processing","dir":"Reference","previous_headings":"","what":"Parallel Processing","title":"Perform Bootstrap Inference for Mediation Statistics ‚Äî bootstrap_mediation","text":"Set parallel = TRUE use multiple cores: Automatically detects available cores Falls back sequential parallel fails Seed handling ensures reproducibility","code":""},{"path":"https://data-wise.github.io/medfit/reference/bootstrap_mediation.html","id":"reproducibility","dir":"Reference","previous_headings":"","what":"Reproducibility","title":"Perform Bootstrap Inference for Mediation Statistics ‚Äî bootstrap_mediation","text":"Always set seed reproducible results:","code":"bootstrap_mediation(..., seed = 12345)"},{"path":[]},{"path":"https://data-wise.github.io/medfit/reference/bootstrap_mediation.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Perform Bootstrap Inference for Mediation Statistics ‚Äî bootstrap_mediation","text":"","code":"if (FALSE) { # \\dontrun{ # Parametric bootstrap for indirect effect result <- bootstrap_mediation(   statistic_fn = function(theta) theta[\"a\"] * theta[\"b\"],   method = \"parametric\",   mediation_data = med_data,   n_boot = 5000,   ci_level = 0.95,   seed = 12345 )  # Nonparametric bootstrap with parallel processing result <- bootstrap_mediation(   statistic_fn = function(data) {     # Refit models and compute statistic     # ...   },   method = \"nonparametric\",   data = mydata,   n_boot = 5000,   parallel = TRUE,   seed = 12345 )  # Plugin estimator (no CI) result <- bootstrap_mediation(   statistic_fn = function(theta) theta[\"a\"] * theta[\"b\"],   method = \"plugin\",   mediation_data = med_data ) } # }"},{"path":"https://data-wise.github.io/medfit/reference/extract_mediation.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract Mediation Structure from Fitted Models ‚Äî extract_mediation","title":"Extract Mediation Structure from Fitted Models ‚Äî extract_mediation","text":"Generic function extract mediation structure (, b, c' paths variance-covariance matrices) fitted models. function provides unified interface extracting mediation information various model types (lm, glm, lavaan, OpenMx, lmer, brms, etc.).","code":""},{"path":"https://data-wise.github.io/medfit/reference/extract_mediation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract Mediation Structure from Fitted Models ‚Äî extract_mediation","text":"","code":"extract_mediation(object, ...)"},{"path":"https://data-wise.github.io/medfit/reference/extract_mediation.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract Mediation Structure from Fitted Models ‚Äî extract_mediation","text":"object Fitted model object (lm, glm, lavaan, OpenMx, etc.) ... Additional arguments passed methods. Common arguments include: treatment: Character string specifying treatment variable name mediator: Character string specifying mediator variable name Method-specific arguments (see individual method documentation)","code":""},{"path":"https://data-wise.github.io/medfit/reference/extract_mediation.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract Mediation Structure from Fitted Models ‚Äî extract_mediation","text":"MediationData object containing: Path coefficients (, b, c') Full parameter vector variance-covariance matrix Residual variances (Gaussian models) Variable names metadata Original data (available)","code":""},{"path":"https://data-wise.github.io/medfit/reference/extract_mediation.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Extract Mediation Structure from Fitted Models ‚Äî extract_mediation","text":"extract_mediation() generic provides methods different model types: lm/glm: Extract linear generalized linear models lavaan: Extract structural equation models OpenMx: Extract OpenMx models lmerMod: Extract mixed-effects models (future) brmsfit: Extract Bayesian models (future) methods return standardized MediationData object can used medfit functions dependent packages (probmed, RMediation, medrobust).","code":""},{"path":[]},{"path":"https://data-wise.github.io/medfit/reference/extract_mediation.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract Mediation Structure from Fitted Models ‚Äî extract_mediation","text":"","code":"if (FALSE) { # \\dontrun{ # Extract from lm models fit_m <- lm(M ~ X + C, data = mydata) fit_y <- lm(Y ~ X + M + C, data = mydata) med_data <- extract_mediation(fit_m, model_y = fit_y,                               treatment = \"X\", mediator = \"M\")  # Extract from lavaan model library(lavaan) model <- \"   M ~ a*X   Y ~ b*M + cp*X \" fit <- sem(model, data = mydata) med_data <- extract_mediation(fit, treatment = \"X\", mediator = \"M\") } # }"},{"path":"https://data-wise.github.io/medfit/reference/fit_mediation.html","id":null,"dir":"Reference","previous_headings":"","what":"Fit Mediation Models ‚Äî fit_mediation","title":"Fit Mediation Models ‚Äî fit_mediation","text":"Fit mediation models using specified modeling engine. function provides convenient formula-based interface fitting mediator outcome models simultaneously.","code":""},{"path":"https://data-wise.github.io/medfit/reference/fit_mediation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fit Mediation Models ‚Äî fit_mediation","text":"","code":"fit_mediation(   formula_y,   formula_m,   data,   treatment,   mediator,   engine = \"glm\",   family_y = stats::gaussian(),   family_m = stats::gaussian(),   ... )"},{"path":"https://data-wise.github.io/medfit/reference/fit_mediation.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fit Mediation Models ‚Äî fit_mediation","text":"formula_y Formula outcome model (e.g., Y ~ X + M + C) formula_m Formula mediator model (e.g., M ~ X + C) data Data frame containing variables treatment Character string: name treatment variable mediator Character string: name mediator variable engine Character string: modeling engine use. Options: \"glm\": Generalized linear models (current) \"lmer\": Mixed-effects models (future) \"brms\": Bayesian regression models (future) family_y Family object outcome model (default: gaussian()) family_m Family object mediator model (default: gaussian()) ... Additional arguments passed engine-specific function","code":""},{"path":"https://data-wise.github.io/medfit/reference/fit_mediation.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fit Mediation Models ‚Äî fit_mediation","text":"MediationData object containing fitted mediation structure","code":""},{"path":"https://data-wise.github.io/medfit/reference/fit_mediation.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Fit Mediation Models ‚Äî fit_mediation","text":"fit_mediation() function fits mediator model outcome model using specified engine, extracts mediation structure using extract_mediation().","code":""},{"path":"https://data-wise.github.io/medfit/reference/fit_mediation.html","id":"supported-engines","dir":"Reference","previous_headings":"","what":"Supported Engines","title":"Fit Mediation Models ‚Äî fit_mediation","text":"GLM (engine = \"glm\"): Fits models using stats::glm() Supports GLM families (gaussian, binomial, poisson, etc.) Gaussian models, extracts residual variances Future Engines: \"lmer\": Mixed-effects models via lme4 \"brms\": Bayesian models via brms","code":""},{"path":"https://data-wise.github.io/medfit/reference/fit_mediation.html","id":"model-specification","dir":"Reference","previous_headings":"","what":"Model Specification","title":"Fit Mediation Models ‚Äî fit_mediation","text":"formulas follow standard R formula syntax: formula_m: Mediator model (e.g., M ~ X + C1 + C2) formula_y: Outcome model (e.g., Y ~ X + M + C1 + C2) mediator must appear formula_y, treatment must appear formulas.","code":""},{"path":[]},{"path":"https://data-wise.github.io/medfit/reference/fit_mediation.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fit Mediation Models ‚Äî fit_mediation","text":"","code":"if (FALSE) { # \\dontrun{ # Fit Gaussian mediation model med_data <- fit_mediation(   formula_y = Y ~ X + M + C,   formula_m = M ~ X + C,   data = mydata,   treatment = \"X\",   mediator = \"M\",   engine = \"glm\" )  # Fit with binary outcome med_data <- fit_mediation(   formula_y = Y ~ X + M + C,   formula_m = M ~ X + C,   data = mydata,   treatment = \"X\",   mediator = \"M\",   engine = \"glm\",   family_y = binomial() ) } # }"},{"path":"https://data-wise.github.io/medfit/reference/medfit-package.html","id":null,"dir":"Reference","previous_headings":"","what":"medfit: Infrastructure for Mediation Model Fitting and Extraction ‚Äî medfit-package","title":"medfit: Infrastructure for Mediation Model Fitting and Extraction ‚Äî medfit-package","text":"Provides S7-based infrastructure fitting mediation models, extracting path coefficients, performing bootstrap inference. Designed foundation package probmed, RMediation, medrobust.","code":""},{"path":"https://data-wise.github.io/medfit/reference/medfit-package.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"medfit: Infrastructure for Mediation Model Fitting and Extraction ‚Äî medfit-package","text":"Key functions: fit_mediation: Fit mediation models extract_mediation: Extract fitted models bootstrap_mediation: Bootstrap inference Key classes: MediationData: Mediation model structure BootstrapResult: Bootstrap results","code":""},{"path":[]},{"path":"https://data-wise.github.io/medfit/reference/medfit-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"medfit: Infrastructure for Mediation Model Fitting and Extraction ‚Äî medfit-package","text":"Maintainer: Davood Tofighi dtofighi@gmail.com (ORCID)","code":""},{"path":"https://data-wise.github.io/medfit/reference/print.summary.BootstrapResult.html","id":null,"dir":"Reference","previous_headings":"","what":"Print Summary for BootstrapResult ‚Äî print.summary.BootstrapResult","title":"Print Summary for BootstrapResult ‚Äî print.summary.BootstrapResult","text":"Print Summary BootstrapResult","code":""},{"path":"https://data-wise.github.io/medfit/reference/print.summary.BootstrapResult.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print Summary for BootstrapResult ‚Äî print.summary.BootstrapResult","text":"","code":"# S3 method for class 'summary.BootstrapResult' print(x, ...)"},{"path":"https://data-wise.github.io/medfit/reference/print.summary.BootstrapResult.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print Summary for BootstrapResult ‚Äî print.summary.BootstrapResult","text":"x summary.BootstrapResult object ... Additional arguments (ignored)","code":""},{"path":"https://data-wise.github.io/medfit/reference/print.summary.MediationData.html","id":null,"dir":"Reference","previous_headings":"","what":"Print Summary for MediationData ‚Äî print.summary.MediationData","title":"Print Summary for MediationData ‚Äî print.summary.MediationData","text":"Print Summary MediationData","code":""},{"path":"https://data-wise.github.io/medfit/reference/print.summary.MediationData.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print Summary for MediationData ‚Äî print.summary.MediationData","text":"","code":"# S3 method for class 'summary.MediationData' print(x, ...)"},{"path":"https://data-wise.github.io/medfit/reference/print.summary.MediationData.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print Summary for MediationData ‚Äî print.summary.MediationData","text":"x summary.MediationData object ... Additional arguments (ignored)","code":""},{"path":"https://data-wise.github.io/medfit/reference/print.summary.SerialMediationData.html","id":null,"dir":"Reference","previous_headings":"","what":"Print Summary for SerialMediationData ‚Äî print.summary.SerialMediationData","title":"Print Summary for SerialMediationData ‚Äî print.summary.SerialMediationData","text":"Print Summary SerialMediationData","code":""},{"path":"https://data-wise.github.io/medfit/reference/print.summary.SerialMediationData.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print Summary for SerialMediationData ‚Äî print.summary.SerialMediationData","text":"","code":"# S3 method for class 'summary.SerialMediationData' print(x, ...)"},{"path":"https://data-wise.github.io/medfit/reference/print.summary.SerialMediationData.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print Summary for SerialMediationData ‚Äî print.summary.SerialMediationData","text":"x summary.SerialMediationData object ... Additional arguments (ignored)","code":""},{"path":[]},{"path":"https://data-wise.github.io/medfit/news/index.html","id":"medfit-development-version-1","dir":"Changelog","previous_headings":"","what":"medfit 0.1.0","title":"medfit (development version)","text":"Initial development release","code":""},{"path":"https://data-wise.github.io/medfit/news/index.html","id":"major-features-development-version","dir":"Changelog","previous_headings":"medfit 0.1.0","what":"Major Features","title":"medfit (development version)","text":"MediationData class simple mediation (X -> M -> Y) Supports product--three (2 mediators: * d * b) Extensible product--k (3+ mediators: * d21 * d32 * ‚Ä¶ * b) Flexible d_path design: scalar 2 mediators, vector 3+ Compatible lavaan extraction patterns BootstrapResult class bootstrap inference results Comprehensive validators ensuring data integrity Print, summary, show methods classes extract_mediation() - Extract mediation structure fitted models fit_mediation() - Fit mediation models (stub) bootstrap_mediation() - Bootstrap inference (stub)","code":""},{"path":"https://data-wise.github.io/medfit/news/index.html","id":"documentation-development-version","dir":"Changelog","previous_headings":"medfit 0.1.0","what":"Documentation","title":"medfit (development version)","text":"Get Started (vignettes/medfit.qmd): Quick introduction examples Introduction (vignettes/articles/introduction.qmd): Detailed S7 class architecture Model Extraction (vignettes/articles/extraction.qmd): Extract lm/glm/lavaan Bootstrap Inference (vignettes/articles/bootstrap.qmd): Parametric/nonparametric methods vignettes use native Quarto format execute: options YAML Published https://data-wise.github.io/medfit/ ASCII-compliant (replaced non-ASCII arrows multiplication symbols) Explicit @param tags S7 class properties @noRd S7 methods prevent namespace export issues","code":""},{"path":"https://data-wise.github.io/medfit/news/index.html","id":"infrastructure-development-version","dir":"Changelog","previous_headings":"medfit 0.1.0","what":"Infrastructure","title":"medfit (development version)","text":"Full coverage simple serial mediation S7 classes Validation tests ensure data integrity across mediation types 4 tests skipped non-interactive mode (S7 dispatch investigation) R-CMD-check _R_CHECK_CODOC_S4_METHODS_: false S7 compatibility pkgdown deployment Quarto rendering (quarto-dev/quarto-actions/setup@v2) Automatic Quarto installation .qmd files detected Test coverage tracking Bootstrap 5 Flatly theme Comprehensive reference documentation Four Quarto vignettes rich examples Auto-deployment push main branch","code":""},{"path":"https://data-wise.github.io/medfit/news/index.html","id":"development-status-development-version","dir":"Changelog","previous_headings":"medfit 0.1.0","what":"Development Status","title":"medfit (development version)","text":"Current Phase: Phase 2 Complete + Documentation Next: Phase 3 (Model Extraction) Phase 1: Package setup Phase 2: S7 class architecture (simple + serial mediation) Phase 2.5: Comprehensive Quarto documentation Phase 3: Model extraction (progress) Phase 4: Model fitting Phase 5: Bootstrap infrastructure Phase 6: Extended testing Phase 7: Polish & release","code":""},{"path":"https://data-wise.github.io/medfit/news/index.html","id":"documentation-improvements-development-version","dir":"Changelog","previous_headings":"medfit 0.1.0","what":"Documentation Improvements","title":"medfit (development version)","text":"S7 Class Documentation: Added explicit @param tags class properties S7 Method Documentation: Updated use @noRd prevent namespace export issues Generic Documentation: Fixed extract_mediation() document generic parameters CLAUDE.md: Added comprehensive S7 documentation patterns section future reference","code":""},{"path":"https://data-wise.github.io/medfit/news/index.html","id":"fixes-development-version","dir":"Changelog","previous_headings":"medfit 0.1.0","what":"Fixes","title":"medfit (development version)","text":"LICENSE: Added + file LICENSE DESCRIPTION properly reference LICENSE file (NOTE resolved) S7-generated constructor defaults whitespace formatting differences known S7/roxygen2 limitation resolved documentation Using ---codoc R CMD check suppress false positive warnings Package documentation functionality remain correct complete Added S7::methods_register() .onAttach() hook (R/zzz.R) 51 tests now pass non-interactive mode (previously 5 skipped) Methods work correctly devtools::load_all() installed package contexts Wrapped tryCatch() handle locked namespace devtools operations","code":""},{"path":"https://data-wise.github.io/medfit/news/index.html","id":"known-issues-development-version","dir":"Changelog","previous_headings":"medfit 0.1.0","what":"Known Issues","title":"medfit (development version)","text":"Tests skip non-interactive mode (4 tests affected) Methods work correctly using devtools::load_all() Related S7 method registration timing installed packages fit_mediation() bootstrap_mediation() stubs awaiting implementation extract_mediation() methods need implementation lm/glm, lavaan","code":""},{"path":"https://data-wise.github.io/medfit/news/index.html","id":"internal-development-version","dir":"Changelog","previous_headings":"medfit 0.1.0","what":"Internal","title":"medfit (development version)","text":"Package skeleton created proper structure GitHub repository initialized dev branch workflow pkgdown website configuration Comprehensive CLAUDE.md roadmap documentation development version. Breaking changes may occur.","code":""}]
