[{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":null,"dir":"","previous_headings":"","what":"CLAUDE.md for medfit Package","title":"CLAUDE.md for medfit Package","text":"file provides guidance Claude Code (claude.ai/code) working code repository.","code":""},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"about-this-package","dir":"","previous_headings":"","what":"About This Package","title":"CLAUDE.md for medfit Package","text":"medfit foundation package providing unified infrastructure fitting mediation models, extracting path coefficients, performing bootstrap inference. eliminates redundancy across mediation analysis ecosystem (probmed, RMediation, medrobust) providing shared S7-based classes methods.","code":""},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"core-mission","dir":"","previous_headings":"About This Package","what":"Core Mission","title":"CLAUDE.md for medfit Package","text":"Provide clean, efficient, type-safe infrastructure mediation model handling can shared across multiple effect size computation packages, reducing code duplication ensuring consistency.","code":""},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"package-ecosystem-context","dir":"","previous_headings":"About This Package","what":"Package Ecosystem Context","title":"CLAUDE.md for medfit Package","text":"medfit foundation : Uses medfit : model fitting, extraction, bootstrap Adds: P_med computation, visualization Uses medfit : model extraction, bootstrap utilities Adds: Distribution Product, MBCO tests, MC methods Uses medfit : optional naive estimates, bootstrap Adds: Bounds computation, falsification tests Key Principle: medfit provides infrastructure, effect sizes. dependent package focuses unique methodological contribution.","code":""},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"key-references","dir":"","previous_headings":"About This Package","what":"Key References","title":"CLAUDE.md for medfit Package","text":"Tofighi, D. (2025). medfit: Infrastructure mediation analysis R. (preparation) Related: probmed, RMediation, medrobust package documentation","code":""},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"common-development-commands","dir":"","previous_headings":"","what":"Common Development Commands","title":"CLAUDE.md for medfit Package","text":"Preferred Tools: Use devtools usethis packages R package development tasks. provide convenient wrappers best practices package development workflows.","code":""},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"package-building-and-checking","dir":"","previous_headings":"Common Development Commands","what":"Package Building and Checking","title":"CLAUDE.md for medfit Package","text":"","code":"# Install package dependencies remotes::install_deps(dependencies = TRUE)  # Check package (standard R CMD check) rcmdcheck::rcmdcheck(args = \"--no-manual\", error_on = \"error\")  # Build package devtools::build()  # Install and reload during development devtools::load_all()"},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"documentation","dir":"","previous_headings":"Common Development Commands","what":"Documentation","title":"CLAUDE.md for medfit Package","text":"pkgdown Website Building: package uses pkgdown generate website package documentation. Configuration _pkgdown.yml. Workflow: 1. Update _pkgdown.yml adding new exported functions classes - Add new classes “S7 Classes” section reference: - Add new functions appropriate sections - Example: adding SerialMediationData, must add reference index Build check site: Common issues: “Topic missing index”: Add topic _pkgdown.yml reference section “URL ok”: Ensure DESCRIPTION correct URL field Non-ASCII characters: Replace ASCII equivalents (-> instead →, * instead ×) pkgdown Configuration Essentials: - Reference index must list exported topics - Group related functions/classes together better organization - Use starts_with() patterns methods (print, summary, etc.) - Website builds docs/ directory MathJax LaTeX Equations: Equation syntax differs context. Use correct format file type:","code":"# Generate documentation from roxygen2 comments devtools::document()  # Build vignettes devtools::build_vignettes()  # Build pkgdown site pkgdown::build_site() pkgdown::build_site()"},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"id_1-function-documentation-roxygen2--rd-files","dir":"","previous_headings":"Common Development Commands","what":"1. Function Documentation (roxygen2 / .Rd files)","title":"CLAUDE.md for medfit Package","text":"Use Rd macros help pages (?function): Rules: - \\eqn{latex}{ascii} - inline (two arguments: LaTeX + ASCII fallback) - \\deqn{latex}{ascii} - display/block math - Single argument form: \\eqn{latex} uses text - whitespace command arguments! - R 4.2+ supports MathJax/KaTeX rendering HTML help pages","code":"#' The indirect effect is \\eqn{a \\times b}{a * b} #' #' Sampling distribution: #' \\deqn{N(\\hat{\\theta}, \\hat{\\Sigma})}{N(theta-hat, Sigma-hat)}"},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"id_2-quarto-vignettesarticles-qmd-files","dir":"","previous_headings":"Common Development Commands","what":"2. Quarto Vignettes/Articles (.qmd files)","title":"CLAUDE.md for medfit Package","text":"Use standard LaTeX dollar signs:","code":"The indirect effect is $a \\times b$ where $a$ is the X->M path.  The sampling distribution is: $$\\hat{\\theta} \\sim N(\\theta, \\Sigma)$$"},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"id_3-pkgdown-configuration","dir":"","previous_headings":"Common Development Commands","what":"3. pkgdown Configuration","title":"CLAUDE.md for medfit Package","text":"Enable MathJax _pkgdown.yml:","code":"template:   bootstrap: 5   math-rendering: mathjax"},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"id_5-avoid-unicode-math-characters","dir":"","previous_headings":"Common Development Commands","what":"5. Avoid Unicode Math Characters","title":"CLAUDE.md for medfit Package","text":".Rd files roxygen2 comments: - DON’T use: θ, Σ, θ̂ (causes LaTeX PDF errors) - use: \\eqn{\\theta}, \\eqn{\\Sigma}, \\eqn{\\hat{\\theta}} .qmd files, Unicode acceptable LaTeX preferred consistency. Quarto Vignettes pkgdown Workflow: ensure Quarto vignettes pass workflow checks render correctly GitHub: Initial Setup: automatically: Creates gh-pages branch hosting Generates .github/workflows/pkgdown.yaml Updates DESCRIPTION _pkgdown.yml site URL Declare Dependencies: List vignette dependencies DESCRIPTION Suggests website-dependencies, use Config/Needs/website field: ensures CI installs without cluttering package dependencies Quarto Support: pkgdown automatically detects renders Quarto vignettes Vignettes appear articles/ section website special configuration needed basic Quarto files Quarto Code Chunk Format (PREFERRED): Use Quarto’s hash-pipe (#|) syntax chunk options, R Markdown inline syntax: CORRECT (Quarto format): INCORRECT (R Markdown format): Key differences: Chunk label: #| label: chunk-name ({r chunk-name}) Options separate lines #| prefix Boolean values: true/false (TRUE/FALSE) Use hyphens labels: -chunk (my_chunk) Common chunk options: Computationally Expensive Vignettes: vignette code slow requires credentials, use Articles instead: Articles rendered pkgdown included R CMD check Prevents timeouts failures CI servers Use : heavy simulations, API examples requiring keys, large data processing Common Workflow Failures: Missing system libraries: Ensure system dependencies available CI runner Malformed markdown: Use consistent header levels (#, ##) NEWS.md Branch permissions: Workflow needs write access gh-pages branch Missing dependencies: Check packages used vignettes DESCRIPTION Workflow Checklist: Run usethis::use_pkgdown_github_pages() initial setup Add vignette dependencies DESCRIPTION Suggests Config/Needs/website Convert heavy vignettes Articles usethis::use_article() Test locally pkgdown::build_site() pushing Verify GitHub Actions permission deploy gh-pages","code":"# Initialize pkgdown with GitHub Pages support usethis::use_pkgdown_github_pages() Config/Needs/website: ggplot2, dplyr, tidyr ```{r} #| label: my-chunk #| eval: false #| echo: true x <- 1 + 1 ``` ```{r my-chunk, eval=FALSE, echo=TRUE} x <- 1 + 1 ``` #| label: chunk-name #| eval: false #| echo: true #| warning: false #| message: false #| fig-width: 8 #| fig-height: 6 usethis::use_article(\"article-name\")"},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"testing","dir":"","previous_headings":"Common Development Commands","what":"Testing","title":"CLAUDE.md for medfit Package","text":"","code":"# Run all tests devtools::test()  # Run specific test file testthat::test_file(\"tests/testthat/test-classes.R\")  # Check coverage covr::package_coverage()"},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"r-version-and-style","dir":"","previous_headings":"Coding Standards","what":"R Version and Style","title":"CLAUDE.md for medfit Package","text":"Minimum R version: 4.1.0 (native pipe |> support) OOP Framework: S7 (modern object system) Style: tidyverse style guide native pipe Roxygen2: Use roxygen2 documentation (>= 7.3.0) Clarity priority: Code must readable maintainable","code":""},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"naming-conventions","dir":"","previous_headings":"Coding Standards","what":"Naming Conventions","title":"CLAUDE.md for medfit Package","text":"package uses snake_case consistently: Functions: - Main exports: fit_mediation(), extract_mediation(), bootstrap_mediation() - Internal functions prefix dot: .fit_mediation_glm(), .bootstrap_parametric() Arguments: - formula_y, formula_m model specifications - treatment, mediator, outcome variable names - engine modeling engine: “glm”, “lmer”, “brms” - method inference method: “parametric”, “nonparametric”, “plugin” - n_boot number bootstrap samples - ci_level confidence level (default: 0.95) S7 Classes: - CamelCase: MediationData, BootstrapResult - Properties use snake_case: @a_path, @boot_estimates","code":""},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"code-documentation-style","dir":"","previous_headings":"Coding Standards","what":"Code Documentation Style","title":"CLAUDE.md for medfit Package","text":"General Principles: - Comment “”, “” - explain reasoning, obvious operations - explanatory comments tricky code - shortcuts, clever tricks, non-obvious logic deserve explanation - Inline citations statistical methods - e.g., # Per VanderWeele (2014), four-way decomposition... - Self-documenting code first - use clear variable names, add comments context -line Comment Examples: Section Headers Functions: Use # --- Section Name --- functions longer ~30 lines: roxygen2 Documentation: Prefer concise @description detailed @details: TODO/FIXME Conventions:","code":"# BAD - explains what (obvious) x <- x + 1  # add 1 to x  # GOOD - explains why x <- x + 1  # Adjust for 1-based indexing expected by lavaan  # GOOD - explains tricky shortcut # Use outer product for efficient pairwise computation (O(n²) memory but O(1) loops) pairwise_diff <- outer(x, x, `-`)  # GOOD - inline citation # Per VanderWeele (2014), the four-way decomposition requires: TE = CDE + INTref + INTmed + PIE my_function <- function(...) {   # --- Validate Inputs ---   ...    # --- Extract Parameters ---   ...    # --- Compute Results ---   ...    # --- Return ---   ... } #' Extract Mediation Structure from Fitted Models #' #' @description #' Generic function to extract mediation paths (a, b, c') and #' variance-covariance matrices from fitted models. #' #' @param object Fitted model object (lm, glm, lavaan) #' @param treatment Character: treatment variable name #' #' @return A [MediationData] object #' #' @details #' ## Supported Model Types #' #' - **lm/glm**: Requires separate mediator and outcome models #' - **lavaan**: Extracts from SEM; auto-detects paths if labeled #' #' ## Mathematical Background #' #' The indirect effect is \\eqn{a \\times b}{a * b} where: #' - \\eqn{a} = effect of X on M (from mediator model) #' - \\eqn{b} = effect of M on Y controlling for X (from outcome model) #' #' Per Baron & Kenny (1986), mediation requires significant a and b paths. #' #' @references #' Baron RM, Kenny DA (1986). The moderator-mediator variable distinction. #' *Journal of Personality and Social Psychology*, 51(6), 1173-1182. #' #' @examples #' \\dontrun{ #' fit_m <- lm(M ~ X + C, data = mydata) #' fit_y <- lm(Y ~ X + M + C, data = mydata) #' med_data <- extract_mediation(fit_m, model_y = fit_y, #'                               treatment = \"X\", mediator = \"M\") #' } #' #' @seealso [MediationData], [fit_mediation()] #' @export # TODO: Add support for multiple mediators (issue #42) # FIXME: Breaks when n < 10, needs better error handling # HACK: Workaround for lavaan bug, remove when fixed upstream # NOTE: Assumes Gaussian residuals for variance computation"},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"code-organization","dir":"","previous_headings":"Coding Standards","what":"Code Organization","title":"CLAUDE.md for medfit Package","text":"","code":"R/ ├── aaa-imports.R           # Package imports and setup ├── aab-generics.R          # S7 generic functions (must load before methods) ├── medfit-package.R        # Package documentation ├── classes.R               # S7 class definitions ├── fit-glm.R              # GLM engine implementation ├── extract-lm.R           # lm/glm extraction ├── extract-lavaan.R       # lavaan extraction ├── bootstrap.R            # Bootstrap infrastructure ├── utils.R                # Utility functions └── zzz.R                  # .onLoad() for dynamic dispatch"},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"defensive-programming","dir":"","previous_headings":"","what":"Defensive Programming","title":"CLAUDE.md for medfit Package","text":"Defensive programming employs multi-layered approach: strict input validation, formal object definitions, automated testing, continuous integration.","code":""},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"id_1-input-validation-with-checkmate","dir":"","previous_headings":"Defensive Programming","what":"1. Input Validation with checkmate","title":"CLAUDE.md for medfit Package","text":"ALWAYS use checkmate function argument validation. provides fast (C-based), memory-efficient assertions informative error messages. Required import R/aaa-imports.R: Common assertion patterns: Key checkmate functions: Options assertions: - .var.name = \"name\": Custom variable name error message - null.ok = TRUE: Allow NULL values - add = collection: Add assertion collection batch checking Quick assertions qassert:","code":"#' @import checkmate my_function <- function(x, n, method, data, optional_arg = NULL) {   # --- Input Validation (using checkmate for fail-fast defensive programming) ---    # Type assertions   checkmate::assert_numeric(x, .var.name = \"x\")   checkmate::assert_count(n, positive = TRUE, .var.name = \"n\")   checkmate::assert_string(method, .var.name = \"method\")   checkmate::assert_data_frame(data, .var.name = \"data\")    # Optional arguments (allow NULL)   checkmate::assert_string(optional_arg, null.ok = TRUE, .var.name = \"optional_arg\")    # Choice from options   checkmate::assert_choice(method, choices = c(\"parametric\", \"nonparametric\", \"plugin\"),                            .var.name = \"method\")    # Class checks (multiple allowed classes)   checkmate::assert_multi_class(model, classes = c(\"lm\", \"glm\"), .var.name = \"model\")    # Logical flags    checkmate::assert_flag(verbose, .var.name = \"verbose\")    # Variable exists in data   checkmate::assert_choice(treatment, choices = names(data),                            .var.name = \"treatment in data\")    # ... rest of function } # Compact type checking checkmate::qassert(x, \"N1\")   # Numeric, length 1 checkmate::qassert(x, \"S1\")   # String, length 1 checkmate::qassert(x, \"B1\")   # Boolean/logical, length 1 checkmate::qassert(x, \"X\")    # NULL checkmate::qassert(x, \"N+\")   # Numeric, length >= 1"},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"id_2-handling-ellipsis-","dir":"","previous_headings":"Defensive Programming","what":"2. Handling Ellipsis (...)","title":"CLAUDE.md for medfit Package","text":"using ... function arguments, validate passed arguments actually used: matters: Without checking, misspelled arguments silently ignored:","code":"my_function <- function(x, ...) {   # Check that all ... arguments are used   rlang::check_dots_used()    # Or for stricter checking (error on unused dots)   rlang::check_dots_empty()    # ... rest of function } # User typo: \"treamtent\" instead of \"treatment\" extract_mediation(fit, treamtent = \"X\")  # Silently ignored without check!"},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"id_3-s7-class-validation-already-in-use","dir":"","previous_headings":"Defensive Programming","what":"3. S7 Class Validation (Already in Use)","title":"CLAUDE.md for medfit Package","text":"S7 provides automatic type validation property declarations custom validators: S7 + checkmate complement : - S7 validators: Class-level constraints, cross-property validation - checkmate: Function argument validation (fail-fast entry point)","code":"MyClass <- S7::new_class(   \"MyClass\",   properties = list(     # Automatic type checking     x = S7::class_numeric,     name = S7::class_character   ),   validator = function(self) {     # Custom validation for cross-property constraints     if (length(self@x) != 1) {       return(\"x must be scalar\")     }     if (any(self@x < 0)) {       return(\"x must be non-negative\")     }     NULL  # Return NULL if valid   } )"},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"id_4-testing-strategy","dir":"","previous_headings":"Defensive Programming","what":"4. Testing Strategy","title":"CLAUDE.md for medfit Package","text":"Four-layer testing approach: Unit Testing (testthat) Acceptance Testing: Validate user workflows end--end Code Coverage (covr) Snapshot Testing: complex outputs","code":"test_that(\"function handles edge cases\", {   expect_error(my_func(NULL), \"must not be NULL\")   expect_equal(my_func(0), expected_value) }) # Target: >80% coverage, 100% for critical paths covr::package_coverage() test_that(\"print output is stable\", {   expect_snapshot(print(my_object)) })"},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"id_5-dependency-management","dir":"","previous_headings":"Defensive Programming","what":"5. Dependency Management","title":"CLAUDE.md for medfit Package","text":"CRITICAL rules: Never use library() require() inside package functions alter global search path Use explicit namespacing: package::function() Imports vs Suggests: Imports: Required packages (always available) Suggests: Optional packages (check availability) Version pinning DESCRIPTION:","code":"# For Suggested packages, check availability if (!requireNamespace(\"lavaan\", quietly = TRUE)) {   stop(\"Package 'lavaan' is required but not installed.\", call. = FALSE) } lavaan::sem(model, data = data) Imports:     S7 (>= 0.1.0),     checkmate Suggests:     lavaan (>= 0.6-0)"},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"id_6-managing-state-and-side-effects","dir":"","previous_headings":"Defensive Programming","what":"6. Managing State and Side Effects","title":"CLAUDE.md for medfit Package","text":"Clean side effects .exit(): File system hygiene: - Never write user’s home directory - Use tempdir() temporary files - Use tools::R_user_dir(\"medfit\", \"cache\") persistent cache Prefer pure functions: - Return values instead modifying place - Avoid global state modifications","code":"my_function <- function(...) {   # Save current state   old_opts <- options(warn = 2)   old_wd <- getwd()    # Ensure cleanup even if function errors   on.exit({     options(old_opts)     setwd(old_wd)   }, add = TRUE)    # ... function body }"},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"id_7-continuous-integration-ci","dir":"","previous_headings":"Defensive Programming","what":"7. Continuous Integration (CI)","title":"CLAUDE.md for medfit Package","text":"GitHub Actions workflow (.github/workflows/R-CMD-check.yaml): Static code analysis lintr:","code":"on:   push:     branches: [main, dev]   pull_request:     branches: [main]  name: R-CMD-check  jobs:   R-CMD-check:     runs-on: ${{ matrix.os }}     strategy:       matrix:         os: [ubuntu-latest, macos-latest, windows-latest]         r-version: ['release']      steps:       - uses: actions/checkout@v4        - uses: r-lib/actions/setup-r@v2         with:           r-version: ${{ matrix.r-version }}        - uses: r-lib/actions/setup-r-dependencies@v2         with:           extra-packages: any::rcmdcheck        - uses: r-lib/actions/check-r-package@v2 # .lintr file in package root linters: linters_with_defaults(   line_length_linter(120),   object_name_linter(styles = c(\"snake_case\", \"CamelCase\")) )"},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"id_8-defensive-programming-checklist","dir":"","previous_headings":"Defensive Programming","what":"8. Defensive Programming Checklist","title":"CLAUDE.md for medfit Package","text":"every new function: Add checkmate assertions arguments function entry Use .var.name parameter clear error messages Allow NULL appropriate null.ok = TRUE Check ... arguments rlang::check_dots_used() applicable Use explicit namespacing non-base functions Clean side effects .exit() Write tests error conditions Verify function works edge cases (NULL, empty, NA)","code":""},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"s7-object-system","dir":"","previous_headings":"Code Architecture","what":"S7 Object System","title":"CLAUDE.md for medfit Package","text":"package uses S7 type-safe, modern object-oriented programming. Key S7 Classes: Properties: a_path, b_path, c_prime, estimates, vcov, data, etc. Validator ensures internal consistency product--two indirect effects (* b) Properties: a_path, d_path (vector), b_path, c_prime, mediators (vector), etc. Supports product--three (* d * b) product--k Flexible d_path: scalar 2 mediators, vector 3+ Extensible chains length Properties: estimate, ci_lower, ci_upper, boot_estimates, method Validator checks consistency Used packages inference S7 Generics: Methods: lm, glm, lavaan, (future: lmerMod, brmsfit) Returns: MediationData object Dispatcher engine-specific functions Returns: MediationData object Methods: parametric, nonparametric, plugin Returns: BootstrapResult object S7 Documentation Patterns: documenting S7 classes methods roxygen2: S7 Class Constructors: Use explicit @param tags properties S7 Methods: Use @noRd prevent namespace export issues Important: use @export S7 methods (causes namespace errors) use @name tag (causes duplicate .Rd files) Use @noRd document internally without generating .Rd files S7 methods work via automatic dispatch, namespace exports S7 Generics: document generic parameters, method-specific ones Testing S7 Methods: Method dispatch may work installed package context S7 Method Registration .onLoad(): REQUIRED per official S7 documentation Key points: S4_register() MUST called S7 class methods_register() methods_register() MUST .onLoad(), .onAttach() Import full methods package: @import methods (just @importFrom methods ) “Overwriting method” message devtools::load_all() known development-time issue (GitHub #474) - affect installed packages See: https://rconsortium.github.io/S7/articles/packages.html See: https://github.com/RConsortium/S7/issues/474 S7 S3 Class Integration: working S3 classes S7 packages, follow guide: Mandatory Package Setup: Call S7::methods_register() .onLoad() Required dynamic method registration Especially important methods generics packages Must call S4_register() class methods_register() Formalizing S3 Classes: Use new_S3_class() wrap S3 classes Built-S3 wrappers: S7 provides class_data.frame, class_Date, class_factor, etc. Inheriting S3 Classes: Requires custom constructor Calling Parent S3 Methods: Use S7_data(), super() Migrating S3 Packages S7: Incremental approach Add S7::methods_register() .onLoad() Wrap existing S3 classes new_S3_class() Gradually replace informal S3 formal new_class() definitions Existing S3 code continues work S7 objects retain S3 class attribute S7 S4 Class Integration: S7 S3 fully compatible, S7 S4 specific interoperability features limitations: Registration S4_register(): CRITICAL S4 compatibility required: S7 classes created runtime, visible S4 default Without registration, S4 dispatch won’t recognize class medfit: call S7::S4_register() immediately class definition Bidirectional Method Dispatch: S7 supports multiple combinations Inheritance Limitations - “Firewall”: CRITICAL RESTRICTION: S7 extend S4 classes matters: S7 inherit S4 (opposite direction may work) Major barrier Bioconductor ecosystem (S4-based) subclass core S4 structures like SummarizedExperiment Must use composition instead inheritance Workaround: Use composition Properties Slots: Equivalent concepts S7 properties ≈ S4 slots (added dynamics) Can use S4 class property type S4 class unions auto-convert new_union() Union handling differs: S4 dispatch time, S7 registration time Migration Strategy - Bottom-Approach: S7 inherit S4, migration requires careful planning: Step--step process: Identify S4 classes bottom hierarchy (children) Re-implement using new_class() Convert S4 slots → S7 properties Convert S4 validity methods → S7 validator functions Call S4_register() backward compatibility Move hierarchy, replacing parents children converted Example:","code":"#' MediationData S7 Class #' #' @description #' S7 class containing standardized mediation model structure #' #' @param a_path Numeric scalar: effect of treatment on mediator #' @param b_path Numeric scalar: effect of mediator on outcome #' # ... document ALL properties explicitly #' #' @return A MediationData S7 object #' @export MediationData <- S7::new_class(...) #' Print Method for MediationData #' #' @param x A MediationData object #' @param ... Additional arguments (ignored) #' @noRd S7::method(print, MediationData) <- function(x, ...) { ... } #' Extract Mediation Structure #' #' @param object Fitted model object #' @param ... Additional arguments passed to methods. Common arguments include: #'   - `treatment`: Character string (document in prose, not as @param) #'   - `mediator`: Character string (document in prose, not as @param) #' @export extract_mediation <- S7::new_generic(\"extract_mediation\", dispatch_args = \"object\") test_that(\"MediationData print method works\", {   skip_if_not(interactive(), \"S7 method dispatch issue in non-interactive mode\")   # ... test code }) # CORRECT - per https://rconsortium.github.io/S7/articles/packages.html .onLoad <- function(libname, pkgname) {   # 1. First register S7 classes with S4 system   S7::S4_register(MediationData)   S7::S4_register(SerialMediationData)   S7::S4_register(BootstrapResult)    # 2. Then register S7 methods for dispatch   S7::methods_register()    # 3. Register methods for Suggested packages (if available)   if (requireNamespace(\"lavaan\", quietly = TRUE)) {     tryCatch(.register_lavaan_method(), error = function(e) invisible(NULL))   } } # Register method for S3 class method(my_generic, new_S3_class(\"data.frame\")) <- function(x) {...}  # Use in property definitions MyClass <- new_class(\"MyClass\",   properties = list(     data = new_S3_class(\"data.frame\")   ) )  # Use in unions my_union <- new_union(class_numeric, new_S3_class(\"Date\")) # When inheriting from S3 via parent argument MyS7Class <- new_class(\"MyS7Class\",   parent = new_S3_class(\"integer\",     constructor = function(.data, ...) {       # .data must be first argument       # Add S3 class attributes     }   ) ) # INCORRECT - S3 generics don't understand super() method(print, MyClass) <- function(x) {   super(x, print)  # FAILS }  # CORRECT - Extract underlying S3 object method(print, MyClass) <- function(x) {   print(S7_data(x))  # Dispatches to S3 print method } # Define S7 class Foo <- new_class(\"Foo\", package = \"mypackage\")  # REQUIRED: Register with S4 system S4_register(Foo)  # Now can use with S4 generics method(S4_generic, Foo) <- function(x) \"Hello\" # S7 method on S4 generic (requires S4_register) method(S4_generic, S7_class) <- function(x) {...}  # S4 class on S7 generic method(S7_generic, S4_class) <- function(x) {...}  # Mixed signatures work method(my_generic, list(S7_class, S4_class)) <- function(x, y) {...} # INVALID - Will fail MyClass <- new_class(\"MyClass\", parent = SomeS4Class) # Instead of inheriting, wrap MyClass <- new_class(\"MyClass\",   properties = list(     s4_object = S4_class  # Contain, don't extend   ) ) # Old S4 class setClass(\"Foo\", slots = list(x = \"numeric\")) setValidity(\"Foo\", function(object) {   if (length(object@x) == 0) \"x must have length > 0\" })  # New S7 equivalent Foo <- new_class(\"Foo\",   properties = list(     x = class_numeric   ),   validator = function(self) {     if (length(self@x) == 0) {       \"x must have length > 0\"     }   } ) S4_register(Foo)  # Maintain S4 compatibility"},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"core-function-hierarchy","dir":"","previous_headings":"Code Architecture","what":"Core Function Hierarchy","title":"CLAUDE.md for medfit Package","text":"User-Facing Functions: convenient users Internally uses engine-specific functions Currently supports GLM engine Generic methods different model types Standardizes across packages Returns MediationData Three methods: parametric, nonparametric, plugin Parallel processing support Returns BootstrapResult Internal Functions: .fit_mediation_glm(): GLM engine implementation .bootstrap_parametric(): Parametric bootstrap .bootstrap_nonparametric(): Nonparametric bootstrap .bootstrap_plugin(): Plugin estimator Utility functions validation, formatting, etc.","code":""},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"key-dependencies","dir":"","previous_headings":"Code Architecture","what":"Key Dependencies","title":"CLAUDE.md for medfit Package","text":"Required: - S7: Modern object system - stats: GLM fitting, statistical functions - methods: S4 compatibility Suggested: - MASS: mvrnorm() parametric bootstrap - lavaan: SEM model extraction - lme4: Mixed models (future) Future Consideration: - OpenMx: SEM model extraction (postponed future release)","code":""},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"explicit-namespacing","dir":"","previous_headings":"Code Architecture","what":"Explicit Namespacing","title":"CLAUDE.md for medfit Package","text":"CRITICAL: non-base functions MUST use explicit namespacing:","code":"# CORRECT stats::glm(formula, data = data) MASS::mvrnorm(n, mu, Sigma) lavaan::sem(model, data = data)  # INCORRECT glm(formula, data = data) mvrnorm(n, mu, Sigma) sem(model, data = data)"},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"s7-class-design","dir":"","previous_headings":"Important Implementation Details","what":"S7 Class Design","title":"CLAUDE.md for medfit Package","text":"MediationData (Simple Mediation): - Contains information simple mediation model (X -> M -> Y) - Path coefficients (, b, c’) - Full parameter vector covariance matrix - Residual variances (Gaussian models) - Variable names metadata - Data sample size SerialMediationData (Serial Mediation): - Contains information serial mediation (X -> M1 -> M2 -> … -> Y) - Path coefficients: a_path (scalar), d_path (vector), b_path (scalar), c_prime (scalar) - Flexible design: d_path scalar 2 mediators, vector 3+ - Vector properties: mediators (names), sigma_mediators (residual SDs) - List property: mediator_predictors (predictors mediator model) - Full parameter vector covariance matrix (like MediationData) Design principle: Complete information downstream packages","code":""},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"extensible-architecture-for-multiple-mediator-types","dir":"","previous_headings":"Important Implementation Details","what":"Extensible Architecture for Multiple Mediator Types","title":"CLAUDE.md for medfit Package","text":"package uses modular class design allows clean extension different mediation structures: Current Classes: - MediationData: Simple mediation (product--two: * b) - SerialMediationData: Serial mediation (product--three beyond: * d * b, * d21 * d32 * b, etc.) Design Principles: 1. Separate classes separate structures: mediation type gets class, optimized use case 2. Consistent interface: classes share common properties (estimates, vcov, metadata) 3. hard limits: Serial mediation supports chains length (2, 3, k mediators) 4. Extensible validators: class comprehensive validation tailored structure Future Extension Path: parallel mediation (X -> M1 -> Y, X -> M2 -> Y simultaneously): complex mediation (combinations serial parallel): - use graph representation nested structure - Keep simple: start separate classes, add complexity needed","code":"ParallelMediationData <- S7::new_class(   properties = list(     a_paths = numeric,      # Vector: c(a1, a2, ...)     b_paths = numeric,      # Vector: c(b1, b2, ...)     c_prime = numeric,      # Scalar: X -> Y direct effect     mediators = character,  # Vector: c(\"M1\", \"M2\", ...)     # ... common properties (estimates, vcov, etc.)   ) ) # Indirect effect = sum(a_paths * b_paths)"},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"treatment-mediator-interaction-vanderweele-four-way-decomposition","dir":"","previous_headings":"Important Implementation Details","what":"Treatment-Mediator Interaction (VanderWeele Four-Way Decomposition)","title":"CLAUDE.md for medfit Package","text":"Planned post-MVP release based VanderWeele (2014). Theoretical Foundation: treatment (X) mediator (M) interact effect outcome (Y), total effect decomposes four components: Decomposition: TE = CDE + INTref + INTmed + PIE Relationships: - NDE (Natural Direct Effect) = CDE + INTref - NIE (Natural Indirect Effect) = INTmed + PIE Regression Models: **Formulas (continuous Y/M, binary X: 0→1, m*=0)**: - CDE = θ₁ (effect X M=0) - INTref = θ₃(β₀ + β₂’c) (interaction reference) - INTmed = θ₃β₁ (mediated interaction) - PIE = θ₂β₁ (pure indirect effect) θ₃=0 (interaction): reduces standard mediation CDE=NDE=θ₁ NIE=PIE=θ₂β₁. InteractionMediationData Class (planned): Usage Pattern (planned): Key References: - VanderWeele TJ (2014). unification mediation interaction. Epidemiology, 25(5):749-61. - Valeri L, VanderWeele TJ (2013). Mediation analysis allowing exposure-mediator interactions. Psychological Methods, 18(2):137-150.","code":"Mediator:  M = β₀ + β₁X + β₂'C + εₘ Outcome:   Y = θ₀ + θ₁X + θ₂M + θ₃(X×M) + θ₄'C + εᵧ InteractionMediationData <- S7::new_class(   \"InteractionMediationData\",   package = \"medfit\",   properties = list(     # Core paths     a_path = S7::class_numeric,           # β₁: X → M     b_path = S7::class_numeric,           # θ₂: M → Y (main effect)     c_prime = S7::class_numeric,          # θ₁: X → Y (main effect)     interaction = S7::class_numeric,      # θ₃: X×M interaction      # Four-way components     cde = S7::class_numeric,              # Controlled Direct Effect     int_ref = S7::class_numeric,          # Reference Interaction     int_med = S7::class_numeric,          # Mediated Interaction     pie = S7::class_numeric,              # Pure Indirect Effect      # Derived effects     nde = S7::class_numeric,              # Natural Direct Effect     nie = S7::class_numeric,              # Natural Indirect Effect     total_effect = S7::class_numeric,      # Reference value     m_star = S7::class_numeric,           # Reference mediator level      # Standard properties (estimates, vcov, metadata, etc.)     ...   ) ) # Model with interaction fit_m <- lm(M ~ X + C, data = data) fit_y <- lm(Y ~ X + M + X:M + C, data = data)  # Extraction detects interaction, returns InteractionMediationData med_int <- extract_mediation(   fit_m, model_y = fit_y,   treatment = \"X\", mediator = \"M\",   m_star = 0  # Reference mediator level )  # Access four-way components med_int@cde; med_int@int_ref; med_int@int_med; med_int@pie"},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"decomposition-s7-class-planned","dir":"","previous_headings":"Important Implementation Details","what":"Decomposition S7 Class (Planned)","title":"CLAUDE.md for medfit Package","text":"Design Decision: Decomposition separate S7 class flexibility custom decompositions. Built-constructors: - two_way(nde, nie) → NDE + NIE decomposition - four_way(cde, int_ref, int_med, pie) → VanderWeele 4-way - custom_decomposition(...) → User-defined MediationData stores decompositions list, allowing multiple:","code":"Decomposition <- S7::new_class(   \"Decomposition\",   package = \"medfit\",   properties = list(     type = S7::class_character,        # \"two_way\", \"four_way\", \"custom\"     components = S7::class_list,       # Named list: list(nde = 0.3, nie = 0.2)     total = S7::class_numeric,         # Total effect     formula = S7::class_character      # \"NDE + NIE\" or \"CDE + INTref + INTmed + PIE\"   ),   validator = function(self) {     comp_sum <- sum(unlist(self@components))     if (abs(comp_sum - self@total) > 1e-10) {       \"Components must sum to total effect\"     }   } ) result@decompositions$two_way   # Decomposition object result@decompositions$four_way  # Decomposition object (when interaction present)"},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"user-interface-design","dir":"","previous_headings":"Important Implementation Details","what":"User Interface Design","title":"CLAUDE.md for medfit Package","text":"Hybrid approach: Simple strings common cases, helper functions advanced. Interaction handling: X:M detected → compute two-way four-way. design? - Clean separation: class handles one mediation type well - -engineering: Don’t add complexity hypothetical future needs - Easy extend: Adding new classes doesn’t break existing ones - Type safety: S7 validators ensure class used correctly","code":"# Simple (default) estimate_mediation(..., effects = \"natural\")  # NDE + NIE  # Effect options effects = \"natural\"        # NDE, NIE (default) effects = \"interventional\" # IDE, IIE effects = \"controlled\"     # CDE  # Advanced (helper functions) effects = natural_effects(variant = \"total\")  # TDE, TNIE effects = controlled_effects(m = 5)           # CDE at m=5"},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"engine-adapter-architecture-planned","dir":"","previous_headings":"Important Implementation Details","what":"Engine Adapter Architecture (Planned)","title":"CLAUDE.md for medfit Package","text":"medfit uses adapter pattern integrate external packages advanced estimation methods. Design principles: - Wrap validated implementations (CMAverse, tmle3) instead reimplementing - engines return standardized MediationData objects - External packages Suggests (load demand) - Engine-specific options via engine_args = list(...) Engine priority: Usage example: See planning/medfit-roadmap.md Phase 7c detailed adapter implementation.","code":"# Default regression engine estimate_mediation(   formula_y = Y ~ X + M + C,   formula_m = M ~ X + C,   data = df,   treatment = \"X\",   mediator = \"M\",   effects = \"natural\",     # NDE + NIE   engine = \"regression\"    # Default )  # CMAverse g-formula engine estimate_mediation(   ...,   engine = \"gformula\",   engine_args = list(     EMint = TRUE,          # Exposure-mediator interaction     nboot = 500            # CMAverse-specific bootstrap   ) )"},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"model-extraction-pattern","dir":"","previous_headings":"Important Implementation Details","what":"Model Extraction Pattern","title":"CLAUDE.md for medfit Package","text":"extract_mediation() methods follow pattern: Validate inputs (check variable names exist) Extract parameters (, b, c’ paths) Extract covariance matrix (inference) Extract residual variances (Gaussian) Get data (available) Create MediationData object Return","code":""},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"bootstrap-implementation","dir":"","previous_headings":"Important Implementation Details","what":"Bootstrap Implementation","title":"CLAUDE.md for medfit Package","text":"Three methods different trade-offs: Samples N(θ̂, Σ̂) Fast, requires normality Default applications Resamples data, refits models Robust, computationally intensive Use normality questionable Point estimate , CI Fastest, quick checks Parallel processing: - Uses parallel::mclapply() (Unix) similar - Auto-detects cores specified - Set seed reproducibility","code":""},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"dynamic-s7s4-dispatch","dir":"","previous_headings":"Important Implementation Details","what":"Dynamic S7/S4 Dispatch","title":"CLAUDE.md for medfit Package","text":"S4 classes suggested packages (e.g., lavaan): allows methods work without hard dependencies.","code":"# In R/zzz.R .onLoad <- function(libname, pkgname) {   # Register lavaan method if available   if (requireNamespace(\"lavaan\", quietly = TRUE)) {     lavaan_class <- S7::as_class(methods::getClass(\"lavaan\", where = \"lavaan\"))     S7::method(extract_mediation, lavaan_class) <- extract_mediation_lavaan   }    # Note: OpenMx integration postponed to future release }"},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"unit-tests-should-cover","dir":"","previous_headings":"Testing Strategy","what":"Unit Tests Should Cover","title":"CLAUDE.md for medfit Package","text":"Property type checking Validators catch invalid inputs Edge cases (empty, NA, wrong dimensions) lm/glm extraction accuracy lavaan extraction consistency Identical results manual extraction Proper handling different model types GLM engine produces valid MediationData Formula parsing correct Family specifications work Error handling convergence failures Parametric bootstrap reproducible seed Nonparametric bootstrap reproducible seed Plugin method fast accurate CI coverage simulations (~95% 95% CI) Parallel sequential give results (seed) Small sample sizes (n < 50) Non-convergent models Singular covariance matrices Missing data Zero effects","code":""},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"test-organization","dir":"","previous_headings":"Testing Strategy","what":"Test Organization","title":"CLAUDE.md for medfit Package","text":"","code":"tests/testthat/ ├── helper-test-data.R      # Test data generators ├── test-classes.R          # S7 class validation ├── test-extract-lm.R       # lm/glm extraction ├── test-extract-lavaan.R   # lavaan extraction ├── test-fit-glm.R          # GLM fitting ├── test-bootstrap.R        # Bootstrap methods └── test-utils.R            # Utility functions"},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"coverage-expectations","dir":"","previous_headings":"Testing Strategy","what":"Coverage Expectations","title":"CLAUDE.md for medfit Package","text":"Target: >90% overall coverage S7 class definitions Core extraction functions Bootstrap methods","code":""},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"probmed-integration","dir":"","previous_headings":"Integration with Dependent Packages","what":"probmed Integration","title":"CLAUDE.md for medfit Package","text":"probmed : - Import medfit - Replace extraction code medfit::extract_mediation() - Replace bootstrap code medfit::bootstrap_mediation() - Keep formula interface wrapper around medfit - Add P_med-specific computation Backward compatibility critical: probmed users see changes","code":""},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"rmediation-integration","dir":"","previous_headings":"Integration with Dependent Packages","what":"RMediation Integration","title":"CLAUDE.md for medfit Package","text":"RMediation : - Import medfit - Replace extraction code medfit::extract_mediation() - Optionally use bootstrap utilities - Keep unique methods (DOP, MBCO, MC)","code":""},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"medrobust-integration","dir":"","previous_headings":"Integration with Dependent Packages","what":"medrobust Integration","title":"CLAUDE.md for medfit Package","text":"medrobust : - Suggest medfit (optional) - Optionally use naive estimates - Keep unique methods (bounds, falsification)","code":""},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"coordination","dir":"","previous_headings":"Integration with Dependent Packages","what":"Coordination","title":"CLAUDE.md for medfit Package","text":"making changes affect: - S7 class structure → Coordinate packages - Extraction API → Coordinate probmed RMediation - Bootstrap API → Coordinate packages Versioning: - Use semantic versioning - Breaking changes → major version bump - New features → minor version bump - Bug fixes → patch version bump","code":""},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"development-roadmap","dir":"","previous_headings":"","what":"Development Roadmap","title":"CLAUDE.md for medfit Package","text":"See planning/medfit-roadmap.md detailed implementation plan.","code":""},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"current-phase-mvp-development","dir":"","previous_headings":"Development Roadmap","what":"Current Phase: MVP Development","title":"CLAUDE.md for medfit Package","text":"Package skeleton S7 classes implemented Extraction methods (lm/glm, lavaan) Fitting API (GLM engine) Bootstrap infrastructure Comprehensive tests Documentation vignettes","code":""},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"future-enhancements","dir":"","previous_headings":"Development Roadmap","what":"Future Enhancements","title":"CLAUDE.md for medfit Package","text":"lmer engine (mixed models) brms engine (Bayesian) Additional extraction methods Performance optimizations Extended documentation","code":""},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"key-assumptions-for-inference","dir":"","previous_headings":"Statistical Assumptions","what":"Key Assumptions for Inference","title":"CLAUDE.md for medfit Package","text":"Mediator model correctly specified Outcome model correctly specified Appropriate family/link functions (θ̂) ~ N(θ, Σ) Generally holds large n (CLT) Check Q-Q plots Standard causal mediation assumptions testable, requires subject-matter knowledge Note: medfit computes statistics; causal interpretation user’s responsibility","code":""},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"diagnostics","dir":"","previous_headings":"Statistical Assumptions","what":"Diagnostics","title":"CLAUDE.md for medfit Package","text":"Users : - Check bootstrap distributions (histograms, Q-Q plots) - Verify model convergence - Assess residual plots - Consider sensitivity analyses","code":""},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"common-pitfalls-to-avoid","dir":"","previous_headings":"","what":"Common Pitfalls to Avoid","title":"CLAUDE.md for medfit Package","text":"Don’t mix variable names: Ensure treatment/mediator names match model Don’t ignore convergence warnings: Check converged property Don’t use plugin inference: Always bootstrap CIs Don’t skip input validation: Use validators rigorously Don’t break backward compatibility: Coordinate dependent packages FIRST: Research issue understand root cause : Fix underlying problem properly NEVER: Use suppressMessages(), suppressWarnings(), tryCatch() hide issues without understanding Example: “Overwriting method” S7 message initially suppressed, real fix proper .onLoad() registration order","code":""},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"indirect-effect","dir":"","previous_headings":"Key Mathematical Formulas","what":"Indirect Effect","title":"CLAUDE.md for medfit Package","text":"simple mediation (X → M → Y): : - = effect X M - b = effect M Y (controlling X)","code":"Indirect effect = a × b"},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"parametric-bootstrap","dir":"","previous_headings":"Key Mathematical Formulas","what":"Parametric Bootstrap","title":"CLAUDE.md for medfit Package","text":"Sample : Compute statistic θ*, extract quantiles CI.","code":"θ* ~ N(θ̂, Σ̂)"},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"nonparametric-bootstrap","dir":"","previous_headings":"Key Mathematical Formulas","what":"Nonparametric Bootstrap","title":"CLAUDE.md for medfit Package","text":"Resample data: D* ~ D (replacement) Refit models D* Extract θ* Compute statistic Repeat, extract quantiles CI","code":""},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"ecosystem-coordination","dir":"","previous_headings":"","what":"Ecosystem Coordination","title":"CLAUDE.md for medfit Package","text":"medfit foundation package mediationverse ecosystem.","code":""},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"central-planning-documents","dir":"","previous_headings":"Ecosystem Coordination","what":"Central Planning Documents","title":"CLAUDE.md for medfit Package","text":"ecosystem-wide coordination managed /Users/dt/mediation-planning/:","code":""},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"change-propagation","dir":"","previous_headings":"Ecosystem Coordination","what":"Change Propagation","title":"CLAUDE.md for medfit Package","text":"making changes medfit may affect dependent packages: Document - Update NEWS.md ecosystem notes Test - Run revdepcheck::revdep_check() locally Notify - breaking changes, create issue 2-month notice Coordinate - Schedule dependent package updates release","code":""},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"cross-package-ci","dir":"","previous_headings":"Ecosystem Coordination","what":"Cross-Package CI","title":"CLAUDE.md for medfit Package","text":".github/workflows/revdep-check.yaml workflow runs weekly test: - probmed medfit @main - RMediation medfit @main - medrobust medfit @main","code":""},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"breaking-change-protocol","dir":"","previous_headings":"Ecosystem Coordination","what":"Breaking Change Protocol","title":"CLAUDE.md for medfit Package","text":"Create GitHub issue [BREAKING] prefix Minimum 2-month deprecation period Use lifecycle::deprecate_warn() soft deprecation Document migration path vignette NEWS.md Update version matrix ECOSYSTEM-COORDINATION.md","code":""},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"package-ecosystem-documentation","dir":"","previous_headings":"Additional Resources","what":"Package Ecosystem Documentation","title":"CLAUDE.md for medfit Package","text":"Central: /Users/dt/mediation-planning/ - Ecosystem-wide strategy probmed: probmed/CLAUDE.md, probmed/planning/ RMediation: rmediation/CLAUDE.md medrobust: medrobust/CLAUDE.md medsim: Simulation infrastructure testing methods","code":""},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"key-planning-documents","dir":"","previous_headings":"Additional Resources","what":"Key Planning Documents","title":"CLAUDE.md for medfit Package","text":"Located planning/: - medfit-roadmap.md: Detailed implementation plan - ECOSYSTEM.md: Connection dependent packages","code":""},{"path":[]},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"lavaan-dispatch-issues","dir":"","previous_headings":"Troubleshooting","what":"lavaan Dispatch Issues","title":"CLAUDE.md for medfit Package","text":"extract_mediation() doesn’t work lavaan objects: - Check lavaan installed - Verify .onLoad() registering method - Test methods(extract_mediation) see registered methods","code":""},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"bootstrap-reproducibility","dir":"","previous_headings":"Troubleshooting","what":"Bootstrap Reproducibility","title":"CLAUDE.md for medfit Package","text":"bootstrap results reproducible: - Ensure seed set calling - Check parallel=FALSE seed set parallel call - Verify n_boot ","code":""},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"performance-issues","dir":"","previous_headings":"Troubleshooting","what":"Performance Issues","title":"CLAUDE.md for medfit Package","text":"bootstrap slow: - Use parallel=TRUE - Consider parametric instead nonparametric - Reduce n_boot testing (use 1000+ production)","code":""},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"r-file-loading-order-issues","dir":"","previous_headings":"Troubleshooting","what":"R File Loading Order Issues","title":"CLAUDE.md for medfit Package","text":"get “object found” errors package load: - S7 generics MUST defined methods use - R files load alphabetically, use prefixes: aaa-imports.R, aab-generics.R - Methods extract-*.R require generics aab-generics.R load first","code":""},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"lavaan-extraction-issues","dir":"","previous_headings":"Troubleshooting","what":"lavaan Extraction Issues","title":"CLAUDE.md for medfit Package","text":"lavaan extraction fails dimension errors: - Parameter label conflicts: lavaan model uses labels like M ~ *X, parameter already named “” - Don’t add duplicate aliases conflict existing parameter names - Check names(lavaan::coef(fit)) see existing names - Data type issues: lavaan::lavInspect(object, \"data\") may return matrix numeric, data.frame - Convert data.frame return NULL convertible","code":""},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"s7-class-has-not-been-registered-with-s4-error","dir":"","previous_headings":"Troubleshooting","what":"S7 “Class has not been registered with S4” Error","title":"CLAUDE.md for medfit Package","text":"see error package installation: 1. Ensure S7::S4_register(ClassName) called .onLoad() S7 class 2. Call S4_register() methods_register() 3. Import full methods package: @import methods","code":""},{"path":"https://data-wise.github.io/medfit/dev/CLAUDE.html","id":"s7-overwriting-method-messages","dir":"","previous_headings":"Troubleshooting","what":"S7 “Overwriting method” Messages","title":"CLAUDE.md for medfit Package","text":"devtools::load_all(), may see “Overwriting method” messages: - known development-time issue (GitHub #474) - affect installed packages - Caused methods registered twice: sourcing .onLoad() - suppress suppressMessages() - behavior correct Last Updated: 2025-12-03 Maintained : medfit development team Workflow Keywords: - doc - Update planning documentation, README, NEWS - check - Run R CMD check –-cran, build/preview website, check GitHub Actions status - sync - Commit push changes remote","code":""},{"path":"https://data-wise.github.io/medfit/dev/COORDINATION-BRAINSTORM.html","id":null,"dir":"","previous_headings":"","what":"mediationverse Coordination Brainstorming","title":"mediationverse Coordination Brainstorming","text":"Date: 2025-12-15 Context: medfit MVP nearing completion, need coordinate integration mediationverse ecosystem Decision Made: medfit foundation package (per three-package-ecosystem-strategy.md, Dec 2, 2025)","code":""},{"path":"https://data-wise.github.io/medfit/dev/COORDINATION-BRAINSTORM.html","id":"id_-executive-summary","dir":"","previous_headings":"","what":"🎯 Executive Summary","title":"mediationverse Coordination Brainstorming","text":"Strategic Decision Already Made: Create medfit foundation package providing: - Model fitting API: fit_mediation() - Model extraction API: extract_mediation() - Bootstrap infrastructure: bootstrap_mediation() - S7 base classes: MediationData, SerialMediationData, BootstrapResult Document: Implementation coordination mechanics mediationverse loading, generic functions, CMAverse integration.","code":""},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/COORDINATION-BRAINSTORM.html","id":"key-document-probmedplanningthree-package-ecosystem-strategymd","dir":"","previous_headings":"📋 Findings from Strategic Planning Documents","what":"Key Document: probmed/planning/three-package-ecosystem-strategy.md","title":"mediationverse Coordination Brainstorming","text":"Date: Dec 2, 2025 Decision: Option B (medfit) ✅ DECIDED Current Redundancies Identified: - Bootstrap code duplicated 3x (probmed, RMediation, medrobust) - lavaan extraction duplicated 2x (probmed, RMediation) - S7 class definitions duplicated across packages - Formula parsing logic duplicated Solution Architecture: Migration Strategy: 1. Complete medfit MVP (current sprint) 2. probmed migrates medfit (next sprint) 3. RMediation migrates medfit (following sprint) 4. medrobust integrates optionally (parallel track)","code":"medfit (foundation package) ├── fit_mediation()      # Formula interface ├── extract_mediation()  # Generic with lm/glm/lavaan methods ├── bootstrap_mediation() # Three methods (parametric/nonparametric/plugin) └── S7 Classes           # MediationData, SerialMediationData, BootstrapResult     ↓ Imports probmed | RMediation | medrobust"},{"path":[]},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/COORDINATION-BRAINSTORM.html","id":"id_1-extract_mediation---model-extraction-generic","dir":"","previous_headings":"🔧 Generic Functions Strategy > Core Generics (medfit provides)","what":"1. extract_mediation() - Model Extraction Generic","title":"mediationverse Coordination Brainstorming","text":"Purpose: Extract path coefficients covariance matrices fitted models Current Methods (medfit MVP): - extract_mediation.lm() - extract_mediation.glm() - extract_mediation.lavaan() Planned Methods (post-MVP): - extract_mediation.lmerMod() - Mixed models - extract_mediation.brmsfit() - Bayesian models - extract_mediation.stanreg() - rstanarm models Design Pattern: Coordination Point: packages use generic, add methods needed","code":"# Generic signature extract_mediation <- S7::new_generic(   \"extract_mediation\",   dispatch_args = \"object\" )  # Each method returns standardized MediationData S7::method(extract_mediation, class_lm) <- function(   object,   model_y,   treatment,   mediator,   ... ) {   # Extract parameters   # Return MediationData object }"},{"path":"https://data-wise.github.io/medfit/dev/COORDINATION-BRAINSTORM.html","id":"id_2-fit_mediation---model-fitting-generic","dir":"","previous_headings":"🔧 Generic Functions Strategy > Core Generics (medfit provides)","what":"2. fit_mediation() - Model Fitting Generic","title":"mediationverse Coordination Brainstorming","text":"Purpose: Fit mediation models formulas Current Implementation: Engine Architecture (CMAverse Integration): CMAverse Integration Pattern: Coordination Point: - medfit provides adapter infrastructure - CMAverse Suggests, Imports - engine adapter self-contained function - engines return MediationData","code":"fit_mediation(   formula_y = Y ~ X + M + C,   formula_m = M ~ X + C,   data = data,   treatment = \"X\",   mediator = \"M\",   engine = \"glm\",       # Default   engine_args = list() ) # User interface result <- fit_mediation(   ...,   engine = \"gformula\",   engine_args = list(     EMint = TRUE,        # Exposure-mediator interaction     mreg = \"linear\",     # Mediator regression type     yreg = \"linear\",     # Outcome regression type     nboot = 500          # CMAverse-specific bootstrap   ) )  # Internal adapter (simplified) .fit_mediation_gformula <- function(formula_y, formula_m, data,                                      treatment, mediator,                                      engine_args) {   # Check CMAverse available   if (!requireNamespace(\"CMAverse\", quietly = TRUE)) {     stop(\"CMAverse required for gformula engine\")   }    # Call CMAverse::cmest()   cma_result <- CMAverse::cmest(     data = data,     model = \"gformula\",     outcome = all.vars(formula_y)[1],     exposure = treatment,     mediator = mediator,     EMint = engine_args$EMint %||% FALSE,     # ... more CMAverse arguments   )    # Extract to standardized MediationData   MediationData(     a_path = cma_result$effect.pe[\"a\"],     b_path = cma_result$effect.pe[\"b\"],     # ... extract all components   ) }"},{"path":"https://data-wise.github.io/medfit/dev/COORDINATION-BRAINSTORM.html","id":"id_3-bootstrap_mediation---bootstrap-inference-generic","dir":"","previous_headings":"🔧 Generic Functions Strategy > Core Generics (medfit provides)","what":"3. bootstrap_mediation() - Bootstrap Inference Generic","title":"mediationverse Coordination Brainstorming","text":"Purpose: Compute bootstrap CIs indirect effects Current Methods: Statistic Functions (helper-test-data.R pattern): Coordination Point: probmed/RMediation can provide custom statistic functions P_med/DOP/MBCO","code":"bootstrap_mediation(   object,              # MediationData object   statistic = indirect_effect,  # Function: MediationData -> scalar   method = \"parametric\",         # or \"nonparametric\", \"plugin\"   n_boot = 1000,   ci_level = 0.95,   parallel = FALSE,   seed = NULL ) # Indirect effect (default) indirect_effect <- function(med_data) {   med_data@a_path * med_data@b_path }  # Total effect total_effect <- function(med_data) {   med_data@a_path * med_data@b_path + med_data@c_prime }  # Proportion mediated proportion_mediated <- function(med_data) {   indirect <- med_data@a_path * med_data@b_path   total <- indirect + med_data@c_prime   indirect / total }"},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/COORDINATION-BRAINSTORM.html","id":"current-mediationverse-structure","dir":"","previous_headings":"🌐 mediationverse Loading Coordination","what":"Current mediationverse Structure","title":"mediationverse Coordination Brainstorming","text":"mediationverse/R/attach.R:","code":"core <- c(\"medfit\", \"probmed\", \"RMediation\", \"medrobust\", \"medsim\")  # Startup message shows: # - Package versions # - Conflicts"},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/COORDINATION-BRAINSTORM.html","id":"option-1-load-all-packages-tidyverse-pattern","dir":"","previous_headings":"🌐 mediationverse Loading Coordination > Proposed Loading Strategy","what":"Option 1: Load All Packages (tidyverse pattern)","title":"mediationverse Coordination Brainstorming","text":"Pros: - Convenient users - Full ecosystem available Cons: - Loads packages user may need - Potential namespace conflicts","code":"library(mediationverse) # Attaches: medfit, probmed, RMediation, medrobust, medsim # Message: # ── Attaching mediationverse 0.1.0 ────────────────── # ✔ medfit     0.1.0     ✔ probmed    0.2.0 # ✔ RMediation 2.1.0     ✔ medrobust  0.1.0 # ✔ medsim     1.0.0 # ── Conflicts ─────────────────────────────────────── # ✖ medfit::fit_mediation() masks probmed::fit_mediation()"},{"path":"https://data-wise.github.io/medfit/dev/COORDINATION-BRAINSTORM.html","id":"option-2-selective-loading-recommended","dir":"","previous_headings":"🌐 mediationverse Loading Coordination > Proposed Loading Strategy","what":"Option 2: Selective Loading (recommended)","title":"mediationverse Coordination Brainstorming","text":"Implementation: Pros: - Clean namespace - User loads need - medfit always available (foundation) Cons: - Requires explicit library() calls packages","code":"library(mediationverse) # Attaches ONLY: medfit (foundation always loaded) # Message: # ── Attaching mediationverse 0.1.0 ────────────────── # ✔ medfit 0.1.0 (foundation package) # ℹ Use library(probmed) for P_med effect size # ℹ Use library(RMediation) for DOP/MBCO inference # ℹ Use library(medrobust) for sensitivity analysis # ℹ Use library(medsim) for simulation utilities # mediationverse/R/attach.R .onAttach <- function(libname, pkgname) {   # Only attach medfit by default   require(medfit, quietly = TRUE)    packageStartupMessage(     \"── Attaching mediationverse \", utils::packageVersion(\"mediationverse\"), \" ──\\n\",     \"✔ medfit \", utils::packageVersion(\"medfit\"), \" (foundation package)\\n\",     \"ℹ Use library(probmed) for P_med effect size\\n\",     \"ℹ Use library(RMediation) for DOP/MBCO inference\\n\",     \"ℹ Use library(medrobust) for sensitivity analysis\\n\",     \"ℹ Use library(medsim) for simulation utilities\\n\"   ) }"},{"path":"https://data-wise.github.io/medfit/dev/COORDINATION-BRAINSTORM.html","id":"option-3-hybrid-tidyversetidyverse_packages-pattern","dir":"","previous_headings":"🌐 mediationverse Loading Coordination > Proposed Loading Strategy","what":"Option 3: Hybrid (tidyverse::tidyverse_packages() pattern)","title":"mediationverse Coordination Brainstorming","text":"Pros: Flexibility, clear default, opt-full load Cons: complex API","code":"library(mediationverse) # Attaches: medfit (foundation)  # User can load selectively mediationverse_packages() # Returns: c(\"medfit\", \"probmed\", \"RMediation\", \"medrobust\", \"medsim\")  # Or load all mediationverse_load_all() # Attaches all packages"},{"path":"https://data-wise.github.io/medfit/dev/COORDINATION-BRAINSTORM.html","id":"recommended-option-2-selective-loading","dir":"","previous_headings":"🌐 mediationverse Loading Coordination","what":"Recommended: Option 2 (Selective Loading)","title":"mediationverse Coordination Brainstorming","text":"Rationale: - medfit foundation, always needed - packages serve different use cases - User typically needs 1-2 packages per analysis - Clean namespace reduces conflicts","code":""},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/COORDINATION-BRAINSTORM.html","id":"workflow-1-probmed-integration","dir":"","previous_headings":"🔀 Package Integration Workflows","what":"Workflow 1: probmed Integration","title":"mediationverse Coordination Brainstorming","text":"medfit: medfit: Migration Strategy: 1. probmed adds medfit Imports 2. probmed keeps formula interface, calls medfit internally 3. probmed removes duplicated extraction code 4. probmed adds compute_pmed.MediationData method 5. Backward compatibility maintained","code":"library(probmed)  # probmed had its own extraction fit_m <- lm(M ~ X, data = data) fit_y <- lm(Y ~ X + M, data = data) result <- compute_pmed(fit_m, fit_y, treatment = \"X\", mediator = \"M\") library(mediationverse)  # Loads medfit library(probmed)  # probmed uses medfit extraction med_data <- medfit::extract_mediation(   fit_m, model_y = fit_y,   treatment = \"X\", mediator = \"M\" ) result <- probmed::compute_pmed(med_data)  # Or, probmed wrapper maintains backward compatibility result <- probmed::compute_pmed(fit_m, fit_y, treatment = \"X\", mediator = \"M\") # Internally calls medfit::extract_mediation()"},{"path":"https://data-wise.github.io/medfit/dev/COORDINATION-BRAINSTORM.html","id":"workflow-2-rmediation-integration","dir":"","previous_headings":"🔀 Package Integration Workflows","what":"Workflow 2: RMediation Integration","title":"mediationverse Coordination Brainstorming","text":"medfit: medfit:","code":"library(RMediation)  # RMediation had its own extraction (from lavaan) fit <- lavaan::sem(model, data = data) result <- medci(fit, type = \"dop\") library(mediationverse) library(RMediation)  # RMediation uses medfit extraction med_data <- medfit::extract_mediation(fit, treatment = \"X\", mediator = \"M\") result <- RMediation::medci(med_data, type = \"dop\")  # Or, RMediation wrapper maintains backward compatibility result <- RMediation::medci(fit, type = \"dop\") # Internally calls medfit::extract_mediation()"},{"path":"https://data-wise.github.io/medfit/dev/COORDINATION-BRAINSTORM.html","id":"workflow-3-medrobust-integration","dir":"","previous_headings":"🔀 Package Integration Workflows","what":"Workflow 3: medrobust Integration","title":"mediationverse Coordination Brainstorming","text":"medrobust uses medfit optionally: medrobust doesn’t require medfit, can use convenience.","code":"library(mediationverse) library(medrobust)  # medrobust can compute naive estimate via medfit naive <- medfit::fit_mediation(   formula_y = Y ~ X + M,   formula_m = M ~ X,   data = data,   treatment = \"X\",   mediator = \"M\" )  # Then sensitivity bounds bounds <- medrobust::sensitivity_bounds(   naive = naive,   rho_range = c(-0.5, 0.5) )"},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/COORDINATION-BRAINSTORM.html","id":"phase-1-medfit-mvp-this-week-dec-15-21","dir":"","previous_headings":"🗓️ Implementation Timeline","what":"Phase 1: medfit MVP (This Week, Dec 15-21)","title":"mediationverse Coordination Brainstorming","text":"Status: 75% complete, 241 tests ready Remaining Tasks: - [ ] Implement bootstrap_mediation() (3-4 hr, 27 tests activate) - [ ] Implement fit_mediation() (2-3 hr, 30 tests activate) - [ ] Roxygen2 documentation (2 hr) - [ ] R CMD check passing (1 hr) - [ ] Intro vignette (2 hr) - [ ] Tag v0.1.0 Deliverable: medfit v0.1.0 ready ecosystem integration","code":""},{"path":"https://data-wise.github.io/medfit/dev/COORDINATION-BRAINSTORM.html","id":"phase-2-probmed-integration-week-of-dec-22-28","dir":"","previous_headings":"🗓️ Implementation Timeline","what":"Phase 2: probmed Integration (Week of Dec 22-28)","title":"mediationverse Coordination Brainstorming","text":"Tasks: 1. Update probmed DESCRIPTION Imports:        medfit (>= 0.1.0),        # ... existing imports Refactor probmed extraction Remove probmed::extract_mediation_lm() Remove probmed::extract_mediation_lavaan() Call medfit::extract_mediation() instead Add S7 method P_med Maintain backward compatibility Update probmed tests Test MediationData input Test backward compatibility Integration tests medfit Update probmed documentation Mention medfit dependency Examples using medfit::extract_mediation() Deliverable: probmed v0.2.0 using medfit","code":"# In probmed S7::method(compute_pmed, medfit::MediationData) <- function(object, ...) {   # P_med computation using medfit structure } # probmed wrapper compute_pmed <- function(fit_m, fit_y = NULL, ...) {   if (inherits(fit_m, \"medfit::MediationData\")) {     # New path: MediationData provided     compute_pmed.MediationData(fit_m, ...)   } else {     # Old path: fit objects provided, extract with medfit     med_data <- medfit::extract_mediation(fit_m, model_y = fit_y, ...)     compute_pmed.MediationData(med_data, ...)   } }"},{"path":"https://data-wise.github.io/medfit/dev/COORDINATION-BRAINSTORM.html","id":"phase-3-mediationverse-loading-week-of-dec-22-28","dir":"","previous_headings":"🗓️ Implementation Timeline","what":"Phase 3: mediationverse Loading (Week of Dec 22-28)","title":"mediationverse Coordination Brainstorming","text":"Tasks: 1. Update mediationverse DESCRIPTION Imports:        medfit (>= 0.1.0),        probmed (>= 0.2.0),        RMediation (>= 2.1.0),        medrobust,        medsim Implement selective loading (Option 2) Update R/attach.R attach medfit Helpful startup message Document README Add utility functions Update mediationverse README Show ecosystem architecture diagram Loading strategy Example workflows Deliverable: mediationverse v0.1.0 meta-package functional","code":"# mediationverse/R/packages.R mediationverse_packages <- function() {   c(\"medfit\", \"probmed\", \"RMediation\", \"medrobust\", \"medsim\") }  mediationverse_conflicts <- function() {   # Show function conflicts across packages }"},{"path":"https://data-wise.github.io/medfit/dev/COORDINATION-BRAINSTORM.html","id":"phase-4-rmediation-integration-week-of-dec-29---jan-4","dir":"","previous_headings":"🗓️ Implementation Timeline","what":"Phase 4: RMediation Integration (Week of Dec 29 - Jan 4)","title":"mediationverse Coordination Brainstorming","text":"Tasks: 1. Update RMediation use medfit extraction (optional, since RMediation CRAN) 2. Coordinate maintainer 3. Test integration Deliverable: RMediation updated (documented optional integration)","code":""},{"path":"https://data-wise.github.io/medfit/dev/COORDINATION-BRAINSTORM.html","id":"phase-5-cmaverse-engine-adapters-q1-2026","dir":"","previous_headings":"🗓️ Implementation Timeline","what":"Phase 5: CMAverse Engine Adapters (Q1 2026)","title":"mediationverse Coordination Brainstorming","text":"Post-MVP feature: Add gformula ipw engines Tasks: 1. Design engine adapter interface 2. Implement .fit_mediation_gformula() 3. Implement .fit_mediation_ipw() 4. Add CMAverse Suggests 5. Documentation examples 6. Integration tests Deliverable: medfit v0.2.0 CMAverse support","code":""},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/COORDINATION-BRAINSTORM.html","id":"before-releasing-medfit-v010","dir":"","previous_headings":"🎯 Coordination Checkpoints","what":"Before Releasing medfit v0.1.0","title":"mediationverse Coordination Brainstorming","text":"Confirm API stability probmed team Confirm API stability RMediation team Confirm API stability medrobust team API frozen (breaking changes without coordination)","code":""},{"path":"https://data-wise.github.io/medfit/dev/COORDINATION-BRAINSTORM.html","id":"before-releasing-probmed-v020-with-medfit","dir":"","previous_headings":"🎯 Coordination Checkpoints","what":"Before Releasing probmed v0.2.0 (with medfit)","title":"mediationverse Coordination Brainstorming","text":"medfit v0.1.0 CRAN (least stable) Integration tests passing Backward compatibility verified NEWS.md documents migration","code":""},{"path":"https://data-wise.github.io/medfit/dev/COORDINATION-BRAINSTORM.html","id":"before-releasing-mediationverse-v010","dir":"","previous_headings":"🎯 Coordination Checkpoints","what":"Before Releasing mediationverse v0.1.0","title":"mediationverse Coordination Brainstorming","text":"medfit v0.1.0 available probmed v0.2.0 available Loading mechanism tested README shows ecosystem architecture cross-package examples work","code":""},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/COORDINATION-BRAINSTORM.html","id":"technical-metrics","dir":"","previous_headings":"📊 Success Metrics","what":"Technical Metrics","title":"mediationverse Coordination Brainstorming","text":"Code duplication reduced >50% integration tests passing R CMD check passing packages >90% test coverage medfit Zero breaking changes migration","code":""},{"path":"https://data-wise.github.io/medfit/dev/COORDINATION-BRAINSTORM.html","id":"user-experience-metrics","dir":"","previous_headings":"📊 Success Metrics","what":"User Experience Metrics","title":"mediationverse Coordination Brainstorming","text":"Existing probmed code works without changes Existing RMediation code works without changes Clear migration guides available Example workflows documented Startup message helpful non-intrusive","code":""},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/COORDINATION-BRAINSTORM.html","id":"id_1-mediationverse-loading-strategy---needs-decision","dir":"","previous_headings":"🚧 Open Questions","what":"1. mediationverse Loading Strategy - NEEDS DECISION","title":"mediationverse Coordination Brainstorming","text":"Question: Load packages just medfit? Options: - . Load (tidyverse pattern) - B. Load medfit (recommended) - C. Hybrid (opt-) Recommendation: Option B (selective loading) Decision needed : mediationverse v0.1.0 release","code":""},{"path":"https://data-wise.github.io/medfit/dev/COORDINATION-BRAINSTORM.html","id":"id_2-cmaverse-integration-priority","dir":"","previous_headings":"🚧 Open Questions","what":"2. CMAverse Integration Priority","title":"mediationverse Coordination Brainstorming","text":"Question: Implement CMAverse engines medfit v0.1.0 defer v0.2.0? Options: - . Include v0.1.0 (delays MVP) - B. Defer v0.2.0 (recommended, get medfit stable first) Recommendation: Option B (v0.2.0) Decision needed : medfit MVP milestone","code":""},{"path":"https://data-wise.github.io/medfit/dev/COORDINATION-BRAINSTORM.html","id":"id_3-breaking-changes-policy","dir":"","previous_headings":"🚧 Open Questions","what":"3. Breaking Changes Policy","title":"mediationverse Coordination Brainstorming","text":"Question: handle breaking changes medfit ecosystem adoption? Recommendation: - Semantic versioning (major.minor.patch) - Breaking changes major versions - Deprecation warnings one version ahead - Coordinated releases across ecosystem Decision needed : medfit v0.1.0 release","code":""},{"path":"https://data-wise.github.io/medfit/dev/COORDINATION-BRAINSTORM.html","id":"id_4-cran-submission-order","dir":"","previous_headings":"🚧 Open Questions","what":"4. CRAN Submission Order","title":"mediationverse Coordination Brainstorming","text":"Question: order submit CRAN? Options: - . medfit → probmed → mediationverse - B. simultaneously - C. medfit alone, others later Recommendation: Option (sequential, reduces risk) Rationale: - medfit must CRAN others depend - probmed updates medfit available - mediationverse releases packages ready","code":""},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/COORDINATION-BRAINSTORM.html","id":"this-week-dec-15-21-complete-medfit-mvp","dir":"","previous_headings":"💡 Next Immediate Actions","what":"This Week (Dec 15-21): Complete medfit MVP","title":"mediationverse Coordination Brainstorming","text":"Implement core functions (8-10 hrs total) bootstrap_mediation() - 3-4 hr fit_mediation() - 2-3 hr Documentation - 2 hr R CMD check fixes - 1 hr Commit push dev branch Create medfit v0.1.0-alpha tag Notify ecosystem Create GitHub discussion mediationverse Notify probmed/RMediation/medrobust maintainers Share API documentation","code":""},{"path":"https://data-wise.github.io/medfit/dev/COORDINATION-BRAINSTORM.html","id":"next-week-dec-22-28-integration-testing","dir":"","previous_headings":"💡 Next Immediate Actions","what":"Next Week (Dec 22-28): Integration Testing","title":"mediationverse Coordination Brainstorming","text":"Update probmed DESCRIPTION Refactor extraction code Run tests Document findings Implement Option 2 (selective loading) Test conflicts Update README Cross-package workflows Backward compatibility tests","code":""},{"path":"https://data-wise.github.io/medfit/dev/COORDINATION-BRAINSTORM.html","id":"following-week-dec-29---jan-4-polish--release","dir":"","previous_headings":"💡 Next Immediate Actions","what":"Following Week (Dec 29 - Jan 4): Polish & Release","title":"mediationverse Coordination Brainstorming","text":"Address integration issues Finalize documentation Prepare CRAN submissions Tag releases: medfit v0.1.0, probmed v0.2.0, mediationverse v0.1.0","code":""},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/COORDINATION-BRAINSTORM.html","id":"strategic-planning-already-decided","dir":"","previous_headings":"📚 Reference Documents","what":"Strategic Planning (Already Decided)","title":"mediationverse Coordination Brainstorming","text":"probmed/planning/three-package-ecosystem-strategy.md - Foundation package decision probmed/planning/model-engines-brainstorm.md - CMAverse discussion medfit/planning/medfit-roadmap.md - Implementation plan","code":""},{"path":"https://data-wise.github.io/medfit/dev/COORDINATION-BRAINSTORM.html","id":"coordination-documents-this-package","dir":"","previous_headings":"📚 Reference Documents","what":"Coordination Documents (This Package)","title":"mediationverse Coordination Brainstorming","text":"ECOSYSTEM-COORDINATION.md - High-level options decision matrix COORDINATION-BRAINSTORM.md - document (implementation mechanics) CLAUDE.md - Package development guidelines .STATUS - Current progress tracking Last Updated: 2025-12-15 Status: Active brainstorming, implementation starting week Next Review: medfit MVP complete (Dec 21, 2025)","code":""},{"path":"https://data-wise.github.io/medfit/dev/ECOSYSTEM-COORDINATION.html","id":null,"dir":"","previous_headings":"","what":"Ecosystem Coordination Brainstorming","title":"Ecosystem Coordination Brainstorming","text":"Date: 2025-12-15 Context: medfit test suite complete (241 tests), ready implementation Goal: Coordinate medfit development mediationverse ecosystem","code":""},{"path":[]},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/ECOSYSTEM-COORDINATION.html","id":"medfit-current-state","dir":"","previous_headings":"📊 Current Ecosystem Status","what":"medfit Current State","title":"Ecosystem Coordination Brainstorming","text":"✅ Completed: - S7 classes (MediationData, SerialMediationData, BootstrapResult) - extract_mediation() lm/glm lavaan - Print summary methods - 241 comprehensive tests (184 PASS, 57 SKIP) ⏳ Pending: - fit_mediation() implementation (30 tests ready) - bootstrap_mediation() implementation (27 tests ready) - Documentation (roxygen2 + vignettes) - R CMD check passing - CRAN submission","code":""},{"path":"https://data-wise.github.io/medfit/dev/ECOSYSTEM-COORDINATION.html","id":"dependency-flow","dir":"","previous_headings":"📊 Current Ecosystem Status","what":"Dependency Flow","title":"Ecosystem Coordination Brainstorming","text":"","code":"mediationverse (meta-package)     ↓ Imports all     ├── medfit (foundation) ← WE ARE HERE     │   ↓ Imported by     ├── probmed (uses medfit extraction & bootstrap)     ├── RMediation (can use medfit extraction)     ├── medrobust (optional, uses medfit for naive estimates)     └── medsim (simulation infrastructure)"},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/ECOSYSTEM-COORDINATION.html","id":"option-a--complete-medfit-mvp-first-recommended","dir":"","previous_headings":"🎯 Coordination Options: What to Do Next?","what":"Option A: 🚀 Complete medfit MVP First (RECOMMENDED)","title":"Ecosystem Coordination Brainstorming","text":"Timeline: 1-2 weeks Priority: High Impact: Unblocks entire ecosystem Rationale: - medfit foundation - everything else depends - Test suite complete (57 tests ready guide implementation) - probmed RMediation stable ready integrate - Completing medfit unblocks integration work across ecosystem Action Items: 1. ✅ Test suite committed (DONE TODAY) 2. Implement bootstrap_mediation() (3-4 hr, 27 tests activate) 3. Implement fit_mediation() (2-3 hr, 30 tests activate) 4. Add roxygen2 documentation (1-2 hr) 5. R CMD check –-cran (fix issues) 6. Create intro vignette (2 hr) 7. Tag v0.1.0 release Benefits: - Clear milestone (MVP complete) - Unblocks probmed integration - Provides stable foundation ecosystem - Can test integration points immediately Risks: - Delays coordination work slightly - : Foundation quality important speed","code":""},{"path":"https://data-wise.github.io/medfit/dev/ECOSYSTEM-COORDINATION.html","id":"option-b--coordinate-mediationverse-loading-now","dir":"","previous_headings":"🎯 Coordination Options: What to Do Next?","what":"Option B: 🔄 Coordinate mediationverse Loading Now","title":"Ecosystem Coordination Brainstorming","text":"Timeline: 2-3 days Priority: Medium Impact: Sets meta-package infrastructure Rationale: - mediationverse needs know packages load - Loading logic depends medfit exports - design loading mechanism parallel Action Items: 1. Design mediationverse attachment strategy - packages load default? - Conflict detection (functions names) - Startup message format 2. Update mediationverse DESCRIPTION - Imports: medfit, probmed, RMediation, medrobust, medsim - Minimum version constraints 3. Implement attach.R (similar tidyverse) 4. Test loading current package states Benefits: - Defines ecosystem structure clearly - Identifies integration issues early - Can mock medfit exports testing Risks: - Working incomplete medfit API - May need revise medfit changes - Less urgent completing medfit","code":""},{"path":"https://data-wise.github.io/medfit/dev/ECOSYSTEM-COORDINATION.html","id":"option-c--probmed-integration-planning","dir":"","previous_headings":"🎯 Coordination Options: What to Do Next?","what":"Option C: 🤝 probmed Integration Planning","title":"Ecosystem Coordination Brainstorming","text":"Timeline: 1 day Priority: Medium-High Impact: Validates medfit API design Rationale: - probmed first consumer medfit - Integration tests medfit’s API choices - Can identify missing features early Action Items: 1. Read probmed’s current extraction code 2. Map probmed functions → medfit equivalents - probmed::extract_mediation() → medfit::extract_mediation() - probmed bootstrap → medfit::bootstrap_mediation() 3. Identify API gaps - probmed need medfit doesn’t provide? - changes make integration easier? 4. Draft probmed migration plan - DESCRIPTION changes - Code changes - Test updates 5. Create integration test suite Benefits: - Validates medfit design finalizing - Identifies missing features early - Smooth integration medfit ready Risks: - Premature optimization (medfit complete) - May discover medfit needs changes - Time spent planning vs implementation","code":""},{"path":"https://data-wise.github.io/medfit/dev/ECOSYSTEM-COORDINATION.html","id":"option-d--update-cross-package-documentation","dir":"","previous_headings":"🎯 Coordination Options: What to Do Next?","what":"Option D: 📚 Update Cross-Package Documentation","title":"Ecosystem Coordination Brainstorming","text":"Timeline: 1-2 days Priority: Low-Medium Impact: Improves coordination clarity Rationale: - Documentation helps coordinate across packages - Current state clear detailed - Good reference future work Action Items: 1. Update medfit/planning/ECOSYSTEM.md - Current medfit progress (75%) - Test suite completion - Implementation timeline 2. Update mediationverse README - Reflect medfit test completion - Update roadmap timeline 3. Create INTEGRATION-GUIDE.md - Step--step package - API mapping tables - Migration examples 4. Update STATUS.md mediationverse - Reflect current package states - Update badges Benefits: - Clear reference coordination - Helps onboard collaborators - Documents current state Risks: - Documentation work != progress code - May become outdated quickly - Low priority vs implementation","code":""},{"path":"https://data-wise.github.io/medfit/dev/ECOSYSTEM-COORDINATION.html","id":"option-e--test-integration-points-now","dir":"","previous_headings":"🎯 Coordination Options: What to Do Next?","what":"Option E: 🔬 Test Integration Points Now","title":"Ecosystem Coordination Brainstorming","text":"Timeline: 2-3 days Priority: Medium Impact: Validates architecture early Rationale: - Even without complete implementation, can test interfaces - Mock implementations let us test integration - Catch design issues early Action Items: 1. Create mock implementations - bootstrap_mediation() stub - fit_mediation() stub 2. Test probmed integration - Can probmed use medfit::extract_mediation()? - MediationData work probmed? 3. Test RMediation integration - Can RMediation use medfit extraction? - missing features? 4. Document findings 5. Adjust medfit design needed Benefits: - Early validation API design - Catch integration issues completion - May save rework later Risks: - Mock implementations may match real behavior - Time spent mocks vs real implementation - May create false confidence","code":""},{"path":[]},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/ECOSYSTEM-COORDINATION.html","id":"phase-1-complete-medfit-mvp-this-week","dir":"","previous_headings":"💡 Recommended Path Forward","what":"Phase 1: Complete medfit MVP (This Week)","title":"Ecosystem Coordination Brainstorming","text":"Priority: 🔴 CRITICAL PATH ✅ Test suite committed (DONE) Remove skip() test-bootstrap.R 27 tests activate immediately Remove skip() test-fit-glm.R 30 tests activate immediately Roxygen2 functions Examples Fix issues tests passing Milestone: medfit v0.1.0 ready integration","code":""},{"path":"https://data-wise.github.io/medfit/dev/ECOSYSTEM-COORDINATION.html","id":"phase-2-integration-testing-next-week","dir":"","previous_headings":"💡 Recommended Path Forward","what":"Phase 2: Integration Testing (Next Week)","title":"Ecosystem Coordination Brainstorming","text":"Priority: 🟡 HIGH Replace probmed extraction medfit Test backward compatibility Update probmed tests Document migration Implement attach.R Test packages Create conflicts() function Startup message Test RMediation can use medfit Document optional integration Keep RMediation independent (’s CRAN) Milestone: Integration points validated","code":""},{"path":"https://data-wise.github.io/medfit/dev/ECOSYSTEM-COORDINATION.html","id":"phase-3-ecosystem-polish-following-week","dir":"","previous_headings":"💡 Recommended Path Forward","what":"Phase 3: Ecosystem Polish (Following Week)","title":"Ecosystem Coordination Brainstorming","text":"Priority: 🟢 MEDIUM Update ECOSYSTEM.md Update STATUS.md Create INTEGRATION-GUIDE.md Integration test suite CI/CD coordination Version compatibility matrix Version bumps across packages NEWS.md updates Coordinated CRAN submissions Milestone: Ecosystem ready beta release","code":""},{"path":[]},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/ECOSYSTEM-COORDINATION.html","id":"test-1-probmed-integration","dir":"","previous_headings":"🔍 Integration Testing Strategy > When medfit MVP Complete","what":"Test 1: probmed Integration","title":"Ecosystem Coordination Brainstorming","text":"Expected: probmed uses medfit extraction without modifications","code":"# In probmed directory library(medfit)  # Test extraction fit_m <- lm(M ~ X, data = test_data) fit_y <- lm(Y ~ X + M, data = test_data) med_data <- medfit::extract_mediation(fit_m, model_y = fit_y,                                        treatment = \"X\", mediator = \"M\")  # Test with probmed functions pmed_result <- compute_pmed(med_data)  # Should work seamlessly"},{"path":"https://data-wise.github.io/medfit/dev/ECOSYSTEM-COORDINATION.html","id":"test-2-mediationverse-loading","dir":"","previous_headings":"🔍 Integration Testing Strategy > When medfit MVP Complete","what":"Test 2: mediationverse Loading","title":"Ecosystem Coordination Brainstorming","text":"Expected: packages load cleanly","code":"# In mediationverse directory library(mediationverse) # Should attach: medfit, probmed, RMediation, medrobust, medsim # Should show: startup message, version info, conflicts  mediationverse_conflicts() # Should list any function name conflicts"},{"path":"https://data-wise.github.io/medfit/dev/ECOSYSTEM-COORDINATION.html","id":"test-3-cross-package-workflow","dir":"","previous_headings":"🔍 Integration Testing Strategy > When medfit MVP Complete","what":"Test 3: Cross-Package Workflow","title":"Ecosystem Coordination Brainstorming","text":"Expected: Seamless integration across packages","code":"library(mediationverse)  # Full workflow using all packages fit <- medfit::fit_mediation(...) pmed <- probmed::compute_pmed(fit) ci <- RMediation::ci(fit, type = \"dop\") robust <- medrobust::sensitivity_analysis(fit)"},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/ECOSYSTEM-COORDINATION.html","id":"this-week-dec-15-21","dir":"","previous_headings":"📋 Immediate Action Items","what":"This Week (Dec 15-21)","title":"Ecosystem Coordination Brainstorming","text":"Implement bootstrap_mediation() [3-4 hr] Implement fit_mediation() [2-3 hr] Add documentation [2 hr] R CMD check passing [1 hr] Create intro vignette [2 hr] Tag medfit v0.1.0","code":""},{"path":"https://data-wise.github.io/medfit/dev/ECOSYSTEM-COORDINATION.html","id":"next-week-dec-22-28","dir":"","previous_headings":"📋 Immediate Action Items","what":"Next Week (Dec 22-28)","title":"Ecosystem Coordination Brainstorming","text":"Test probmed integration Implement mediationverse loading Test RMediation integration (optional) Update ecosystem documentation Integration test suite","code":""},{"path":"https://data-wise.github.io/medfit/dev/ECOSYSTEM-COORDINATION.html","id":"following-week-dec-29---jan-4","dir":"","previous_headings":"📋 Immediate Action Items","what":"Following Week (Dec 29 - Jan 4)","title":"Ecosystem Coordination Brainstorming","text":"Cross-package CI/CD Version compatibility matrix Release coordination plan Beta release announcement","code":""},{"path":"https://data-wise.github.io/medfit/dev/ECOSYSTEM-COORDINATION.html","id":"id_-open-questions","dir":"","previous_headings":"","what":"🤔 Open Questions","title":"Ecosystem Coordination Brainstorming","text":"mediationverse wait packages stabilize? implement loading mechanism now current states? Recommendation: Wait medfit v0.1.0, implement RMediation stable CRAN Integration optional (medfit adds capability required) Recommendation: Document optional integration, don’t force packages bump v0.1.0 together? version independently? Recommendation: medfit v0.1.0, probmed v0.2.0 (medfit), etc. order submit CRAN? Recommendation: medfit → probmed → mediationverse (ready) handle breaking changes medfit? Recommendation: Semantic versioning, major version bumps, deprecation warnings","code":""},{"path":"https://data-wise.github.io/medfit/dev/ECOSYSTEM-COORDINATION.html","id":"id_-coordination-checklist","dir":"","previous_headings":"","what":"📞 Coordination Checklist","title":"Ecosystem Coordination Brainstorming","text":"making changes medfit: - [ ] Check impact probmed (ECOSYSTEM.md) - [ ] Check impact RMediation (integrated) - [ ] Check impact medrobust (used) - [ ] Update ECOSYSTEM.md - [ ] Update NEWS.md - [ ] Test integration points - [ ] Document changes clearly releasing medfit: - [ ] tests passing (241/241) - [ ] R CMD check clean - [ ] Documentation complete - [ ] probmed integration tested - [ ] Version bumped appropriately - [ ] NEWS.md updated - [ ] Coordinate dependent packages","code":""},{"path":"https://data-wise.github.io/medfit/dev/ECOSYSTEM-COORDINATION.html","id":"id_-success-metrics","dir":"","previous_headings":"","what":"🎯 Success Metrics","title":"Ecosystem Coordination Brainstorming","text":"Short-term (Sprint): - [x] medfit test suite complete (241 tests) - [ ] medfit MVP implementation complete - [ ] 241 tests passing - [ ] R CMD check passing Medium-term (Next Month): - [ ] probmed integrated medfit - [ ] mediationverse loading mechanism working - [ ] Integration tests passing - [ ] Documentation updated Long-term (Q1 2026): - [ ] medfit v0.1.0 CRAN - [ ] probmed v0.2.0 CRAN - [ ] mediationverse v0.1.0 ready - [ ] Full ecosystem functional Next Steps: Review options decide priority order Recommendation: Option (Complete medfit MVP) critical path","code":""},{"path":"https://data-wise.github.io/medfit/dev/IDEAS.html","id":null,"dir":"","previous_headings":"","what":"IDEAS.md - medfit","title":"IDEAS.md - medfit","text":"Future ideas, enhancements, research directions medfit package.","code":""},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/IDEAS.html","id":"four-way-decomposition-vanderweele-2014","dir":"","previous_headings":"🔬 Research Ideas","what":"Four-Way Decomposition (VanderWeele 2014)","title":"IDEAS.md - medfit","text":"Status: Planned post-MVP Priority: High Complexity: Medium Add support treatment-mediator interaction decomposition: - CDE (Controlled Direct Effect) - INTref (Reference Interaction) - INTmed (Mediated Interaction) - PIE (Pure Indirect Effect) Implementation: - New S7 class: InteractionMediationData - Detect X:M interaction outcome model - Compute four components - Add decomposition framework References: - VanderWeele TJ (2014). Epidemiology, 25(5):749-61 - Valeri & VanderWeele (2013). Psychological Methods, 18(2):137-150","code":""},{"path":"https://data-wise.github.io/medfit/dev/IDEAS.html","id":"parallel-mediation","dir":"","previous_headings":"🔬 Research Ideas","what":"Parallel Mediation","title":"IDEAS.md - medfit","text":"Status: Future consideration Priority: Medium Complexity: Medium Support multiple mediators operating parallel (serial): - X → M1 → Y - X → M2 → Y - Total indirect = (a1×b1) + (a2×b2) Design: - New S7 class: ParallelMediationData - Properties: a_paths (vector), b_paths (vector) - Methods computing total indirect effect - Variance estimation via delta method bootstrap","code":""},{"path":"https://data-wise.github.io/medfit/dev/IDEAS.html","id":"decomposition-framework","dir":"","previous_headings":"🔬 Research Ideas","what":"Decomposition Framework","title":"IDEAS.md - medfit","text":"Status: Planned Priority: High Complexity: Low Flexible decomposition system allowing custom effect decompositions: Constructors: - two_way(nde, nie) → Standard mediation - four_way(cde, int_ref, int_med, pie) → VanderWeele - custom_decomposition(...) → User-defined Storage: - MediationData gains @decompositions property (list) - Allows multiple decompositions per result - decomposition validates components sum total","code":"Decomposition <- S7::new_class(   \"Decomposition\",   properties = list(     type = character,           # \"two_way\", \"four_way\", \"custom\"     components = list,          # Named list of components     total = numeric,            # Total effect     formula = character         # \"NDE + NIE\"   ) )"},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/IDEAS.html","id":"engine-adapters-for-advanced-methods","dir":"","previous_headings":"🔧 Technical Enhancements","what":"Engine Adapters for Advanced Methods","title":"IDEAS.md - medfit","text":"Status: Planned (Phase 7c roadmap) Priority: Medium Complexity: High Wrap validated implementations instead reimplementing: Priority order: 1. regression (internal) - VanderWeele closed-form [MVP] 2. gformula (CMAverse) - G-computation [Phase 2] 3. ipw (CMAverse) - Inverse probability weighting [Phase 2] 4. tmle (tmle3) - Targeted learning [Future] 5. dml (DoubleML) - Double machine learning [Future] Design pattern: - engines return standardized MediationData - External packages Suggests - Engine-specific options via engine_args = list(...) - Graceful degradation package unavailable Example:","code":"estimate_mediation(   ...,   engine = \"gformula\",   engine_args = list(     EMint = TRUE,    # Exposure-mediator interaction     nboot = 500      # CMAverse-specific bootstrap   ) )"},{"path":"https://data-wise.github.io/medfit/dev/IDEAS.html","id":"mixed-models-support-lme4","dir":"","previous_headings":"🔧 Technical Enhancements","what":"Mixed Models Support (lme4)","title":"IDEAS.md - medfit","text":"Status: Future Priority: Medium Complexity: High Support multilevel/hierarchical mediation: - Random effects mediator /outcome models - Cluster-level vs individual-level effects - Cross-level interactions Challenges: - Random effect variance estimation - Bootstrap clustering - Defining indirect effect different levels References: - Preacher et al. (2010). Multivariate Behavioral Research - Bauer et al. (2006). Psychological Methods","code":""},{"path":"https://data-wise.github.io/medfit/dev/IDEAS.html","id":"bayesian-support-brms","dir":"","previous_headings":"🔧 Technical Enhancements","what":"Bayesian Support (brms)","title":"IDEAS.md - medfit","text":"Status: Future Priority: Low Complexity: High Bayesian mediation analysis: - Full posterior distributions indirect effects - Credible intervals instead bootstrap CIs - Prior sensitivity analysis Implementation: - extract_mediation.brmsfit method - Extract posterior samples stanfit - Compute posterior indirect effect - Return BayesianMediationResult (inherits BootstrapResult)","code":""},{"path":"https://data-wise.github.io/medfit/dev/IDEAS.html","id":"sensitivity-analysis-integration","dir":"","previous_headings":"🔧 Technical Enhancements","what":"Sensitivity Analysis Integration","title":"IDEAS.md - medfit","text":"Status: Coordinated medrobust Priority: Medium Complexity: Low Allow medfit optionally compute naive estimates sensitivity analysis: Requires: - Stable MediationData API - Clear documentation assumptions - Example workflow vignette","code":"# medrobust can call medfit for baseline naive_result <- medfit::fit_mediation(...) bounds <- medrobust::sensitivity_bounds(   naive = naive_result,   rho_range = c(-0.5, 0.5) )"},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/IDEAS.html","id":"formula-interface-enhancements","dir":"","previous_headings":"📊 User Experience","what":"Formula Interface Enhancements","title":"IDEAS.md - medfit","text":"Status: Brainstorming Priority: Low Complexity: Medium Simplified formula interface common cases: Challenges: - Non-standard evaluation - Backward compatibility - Clear documentation","code":"# Instead of separate formulas: fit_mediation(   formula_y = Y ~ X + M + C,   formula_m = M ~ X + C,   ... )  # Allow combined syntax (R-style): fit_mediation(   mediation = M ~ X + C | Y ~ X + M + C,   data = data,   treatment = \"X\",   mediator = \"M\" )"},{"path":"https://data-wise.github.io/medfit/dev/IDEAS.html","id":"effect-size-summaries","dir":"","previous_headings":"📊 User Experience","what":"Effect Size Summaries","title":"IDEAS.md - medfit","text":"Status: Brainstorming Priority: Low Complexity: Low Rich summary output multiple effect sizes:","code":"summary(med_result, effects = \"all\") # Shows: # - Indirect effect (a×b) # - Direct effect (c') # - Total effect (a×b + c') # - Proportion mediated # - Ratio of indirect to direct # - Standardized effects (if requested)"},{"path":"https://data-wise.github.io/medfit/dev/IDEAS.html","id":"plotting-methods","dir":"","previous_headings":"📊 User Experience","what":"Plotting Methods","title":"IDEAS.md - medfit","text":"Status: Future Priority: Low Complexity: Medium Built-visualization: - Path diagrams (via DiagrammeR igraph) - Bootstrap distributions - Confidence interval plots - Sensitivity plots (coordinate medrobust) Design:","code":"plot(med_result, type = \"paths\")       # Path diagram plot(boot_result, type = \"bootstrap\")  # Distribution plot(boot_result, type = \"ci\")         # Interval plot"},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/IDEAS.html","id":"lavaan-bidirectional-integration","dir":"","previous_headings":"🌐 Ecosystem Integration","what":"lavaan Bidirectional Integration","title":"IDEAS.md - medfit","text":"Status: Partially implemented Priority: Medium Complexity: Low Current: medfit can extract lavaan Future: lavaan users can bootstrap medfit Coordinate lavaan team: - Ensure extract_mediation.lavaan stays current - Contribute examples lavaan documentation - Handle edge cases (latent variables, multiple groups)","code":""},{"path":"https://data-wise.github.io/medfit/dev/IDEAS.html","id":"openmx-support","dir":"","previous_headings":"🌐 Ecosystem Integration","what":"OpenMx Support","title":"IDEAS.md - medfit","text":"Status: Postponed Priority: Low Complexity: Medium Extraction OpenMx models (postponed MVP): - Similar lavaan extraction - Handle matrix specification - Extract parameter covariances Blocked : - OpenMx API stability - Team capacity - User demand (assess CRAN release)","code":""},{"path":"https://data-wise.github.io/medfit/dev/IDEAS.html","id":"probmedrmediationmedrobust-coordination","dir":"","previous_headings":"🌐 Ecosystem Integration","what":"probmed/RMediation/medrobust Coordination","title":"IDEAS.md - medfit","text":"Status: Ongoing Priority: High Complexity: Low Maintain clean API contracts: - Stable MediationData structure - Backward-compatible changes - Coordinated version bumps - Shared test infrastructure Communication: - Document breaking changes NEWS - Deprecation warnings (1 version ahead) - Example migration code","code":""},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/IDEAS.html","id":"vignette-mediation-analysis-workflow","dir":"","previous_headings":"📚 Documentation Ideas","what":"Vignette: “Mediation Analysis Workflow”","title":"IDEAS.md - medfit","text":"End--end example: 1. Data preparation 2. Model fitting 3. Bootstrap inference 4. Sensitivity analysis (via medrobust) 5. Reporting results","code":""},{"path":"https://data-wise.github.io/medfit/dev/IDEAS.html","id":"vignette-extending-medfit","dir":"","previous_headings":"📚 Documentation Ideas","what":"Vignette: “Extending medfit”","title":"IDEAS.md - medfit","text":"package developers: - Creating custom engine adapters - Adding new S7 classes - Implementing extraction methods - Contributing ecosystem","code":""},{"path":"https://data-wise.github.io/medfit/dev/IDEAS.html","id":"comparison-guide","dir":"","previous_headings":"📚 Documentation Ideas","what":"Comparison Guide","title":"IDEAS.md - medfit","text":"“medfit vs Packages”: - lavaan: use SEM vs regression approach - mediation: Feature comparison, migration guide - mma: Multiple mediator scenarios - Advantages S7-based infrastructure","code":""},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/IDEAS.html","id":"causal-inference-toolchain","dir":"","previous_headings":"🔮 Long-Term Vision","what":"Causal Inference Toolchain","title":"IDEAS.md - medfit","text":"Position medfit foundation broader causal mediation ecosystem: - medfit: Infrastructure (model fitting, extraction) - probmed: Effect sizes (P_med) - RMediation: Inference (DOP, MBCO) - medrobust: Sensitivity (bounds, falsification) - Future packages: Time-varying mediation, spatial mediation, etc.","code":""},{"path":"https://data-wise.github.io/medfit/dev/IDEAS.html","id":"cross-disciplinary-applications","dir":"","previous_headings":"🔮 Long-Term Vision","what":"Cross-Disciplinary Applications","title":"IDEAS.md - medfit","text":"Expand beyond psychology/epidemiology: - Economics (instrumental variables mediation) - Machine learning (causal ML + mediation) - Climate science (pathway analysis) - Social networks (network mediation) field unique challenges → modular ecosystem can adapt.","code":""},{"path":"https://data-wise.github.io/medfit/dev/IDEAS.html","id":"id_-community-ideas","dir":"","previous_headings":"","what":"💡 Community Ideas","title":"IDEAS.md - medfit","text":"Add user-contributed ideas CRAN release: Idea Issue #XX: [Description] Feature request: [Description] Research collaboration: [Description] Last Updated: 2025-12-15 Review Cycle: Quarterly (reassess priorities)","code":""},{"path":"https://data-wise.github.io/medfit/dev/PROJECT-HUB.html","id":null,"dir":"","previous_headings":"","what":"🎯 medfit - Project Control Hub","title":"🎯 medfit - Project Control Hub","text":"Quick Status: 🔴 Blocked Implementation | Phase: 1 3 | Progress: 0% Last Updated: 2025-12-12Current Phase: Phase 1 - Core API DevelopmentNext Action: Implement fit_mediation() skeleton","code":""},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/PROJECT-HUB.html","id":"id_-overall-progress","dir":"","previous_headings":"","what":"📊 Overall Progress","title":"🎯 medfit - Project Control Hub","text":"Status: 🔴 Blocked - Need implement foundation | Priority: P0 - Blocks entire ecosystem","code":"Phase 1: Core API                ░░░░░░░░░░░░░░░░░░░░   0% 🔴 Phase 2: Bootstrap & Tests       ░░░░░░░░░░░░░░░░░░░░   0% ⏸️ Phase 3: CRAN Preparation        ░░░░░░░░░░░░░░░░░░░░   0% ⏸️ ────────────────────────────────────────────────────────── Overall Project:                  ░░░░░░░░░░░░░░░░░░░░   0% 🔴"},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/PROJECT-HUB.html","id":"package-recovery","dir":"","previous_headings":"✅ Completed Recently","what":"Package Recovery","title":"🎯 medfit - Project Control Hub","text":"✅ Recovered Google Drive trash (Dec 11) ✅ Git history preserved ✅ Package loads without errors ✅ Organized active/ directory","code":""},{"path":"https://data-wise.github.io/medfit/dev/PROJECT-HUB.html","id":"planning","dir":"","previous_headings":"✅ Completed Recently","what":"Planning","title":"🎯 medfit - Project Control Hub","text":"✅ Generic Functions Strategy documented ✅ API contracts defined ✅ S7 class structure planned","code":""},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/PROJECT-HUB.html","id":"high-priority-","dir":"","previous_headings":"🎯 Active Tasks (This Week)","what":"High Priority 🔴","title":"🎯 medfit - Project Control Hub","text":"GLM engine continuous outcomes Parameter validation Return S7 mediation_fit object mediation_fit base class Method definitions (print, summary, coef)","code":""},{"path":"https://data-wise.github.io/medfit/dev/PROJECT-HUB.html","id":"medium-priority-","dir":"","previous_headings":"🎯 Active Tasks (This Week)","what":"Medium Priority 🟡","title":"🎯 medfit - Project Control Hub","text":"Write unit tests fit_mediation() [1.5 hr] Document fit_mediation() function [1 hr]","code":""},{"path":"https://data-wise.github.io/medfit/dev/PROJECT-HUB.html","id":"quick-wins-","dir":"","previous_headings":"🎯 Active Tasks (This Week)","what":"Quick Wins ⚡","title":"🎯 medfit - Project Control Hub","text":"Update DESCRIPTION file [5 min] Create pkgdown site structure [10 min]","code":""},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/PROJECT-HUB.html","id":"development","dir":"","previous_headings":"🚀 Quick Commands","what":"Development","title":"🎯 medfit - Project Control Hub","text":"","code":"$ cd ~/projects/r-packages/active/medfit $ ccload          # Load package with devtools $ cccheck         # Run R CMD check $ cctest          # Run tests"},{"path":"https://data-wise.github.io/medfit/dev/PROJECT-HUB.html","id":"documentation","dir":"","previous_headings":"🚀 Quick Commands","what":"Documentation","title":"🎯 medfit - Project Control Hub","text":"","code":"$ ccrdoc          # Build documentation $ ccman           # View manual $ ccvignette      # Preview vignettes"},{"path":"https://data-wise.github.io/medfit/dev/PROJECT-HUB.html","id":"testing","dir":"","previous_headings":"🚀 Quick Commands","what":"Testing","title":"🎯 medfit - Project Control Hub","text":"","code":"$ ccrtest         # Run all tests $ ccrtest file    # Run specific test file $ ccrcov          # Check test coverage"},{"path":"https://data-wise.github.io/medfit/dev/PROJECT-HUB.html","id":"id_-decision-point-whats-next","dir":"","previous_headings":"","what":"🎯 Decision Point: What’s Next?","title":"🎯 medfit - Project Control Hub","text":"Choose focus:","code":""},{"path":"https://data-wise.github.io/medfit/dev/PROJECT-HUB.html","id":"option-a-start-core-implementation--recommended","dir":"","previous_headings":"🎯 Decision Point: What’s Next?","what":"Option A: Start Core Implementation ⭐ Recommended","title":"🎯 medfit - Project Control Hub","text":": Unblocks entire mediationverse ecosystem","code":"Goal: Get fit_mediation() working with GLM engine Time: 2-4 hours Tasks:   - [ ] Implement fit_mediation() skeleton   - [ ] Add GLM engine for continuous Y   - [ ] Basic parameter validation   - [ ] Return mediation_fit S7 object"},{"path":"https://data-wise.github.io/medfit/dev/PROJECT-HUB.html","id":"option-b-setup-infrastructure-first","dir":"","previous_headings":"🎯 Decision Point: What’s Next?","what":"Option B: Setup Infrastructure First","title":"🎯 medfit - Project Control Hub","text":": Makes development smoother","code":"Goal: Get testing and docs framework ready Time: 1-2 hours Tasks:   - [ ] Create S7 class definitions   - [ ] Setup test structure   - [ ] Initialize pkgdown"},{"path":"https://data-wise.github.io/medfit/dev/PROJECT-HUB.html","id":"option-c-review--plan","dir":"","previous_headings":"🎯 Decision Point: What’s Next?","what":"Option C: Review & Plan","title":"🎯 medfit - Project Control Hub","text":": Ensure design solid coding choice: ___","code":"Goal: Deep dive into Generic Functions Strategy Time: 30 min Tasks:   - [ ] Review GENERIC-FUNCTIONS-STRATEGY.md   - [ ] Validate API design decisions   - [ ] Plan implementation details"},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/PROJECT-HUB.html","id":"current-blockers","dir":"","previous_headings":"🔴 Blockers & Dependencies","what":"Current Blockers","title":"🎯 medfit - Project Control Hub","text":"🔴 fit_mediation() implemented - Blocks ecosystem development","code":""},{"path":"https://data-wise.github.io/medfit/dev/PROJECT-HUB.html","id":"dependencies-waiting-on-medfit","dir":"","previous_headings":"🔴 Blockers & Dependencies","what":"Dependencies (Waiting On medfit)","title":"🎯 medfit - Project Control Hub","text":"probmed - Needs medfit API medrobust - Needs medfit classes medsim - Needs medfit validation mediationverse - Needs packages","code":""},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/PROJECT-HUB.html","id":"phase-1-core-api-implementation--in-progress","dir":"","previous_headings":"📋 Phase Details","what":"Phase 1: Core API Implementation 🔴 IN PROGRESS","title":"🎯 medfit - Project Control Hub","text":"Goal: Working fit_mediation() basic functionalityDuration: 2-3 weeksStatus: 0% complete Critical Path Tasks: - [ ] 🔴 fit_mediation() skeleton - [ ] 🔴 GLM engine implementation - [ ] 🔴 S7 class structure - [ ] 🟡 Parameter validation - [ ] 🟡 Basic tests - [ ] 🟡 Documentation","code":""},{"path":"https://data-wise.github.io/medfit/dev/PROJECT-HUB.html","id":"phase-2-bootstrap--testing-️-planned","dir":"","previous_headings":"📋 Phase Details","what":"Phase 2: Bootstrap & Testing ⏸️ PLANNED","title":"🎯 medfit - Project Control Hub","text":"Goal: Robust bootstrap_mediation() + comprehensive testsDuration: 2-3 weeksStatus: started Tasks: - [ ] bootstrap_mediation() implementation - [ ] Comprehensive test suite - [ ] Edge case handling - [ ] Performance optimization","code":""},{"path":"https://data-wise.github.io/medfit/dev/PROJECT-HUB.html","id":"phase-3-cran-preparation-️-planned","dir":"","previous_headings":"📋 Phase Details","what":"Phase 3: CRAN Preparation ⏸️ PLANNED","title":"🎯 medfit - Project Control Hub","text":"Goal: CRAN-ready packageDuration: 1-2 weeksStatus: started Tasks: - [ ] R CMD check –-cran passes - [ ] Vignettes complete - [ ] NEWS.md updated - [ ] Submit CRAN","code":""},{"path":"https://data-wise.github.io/medfit/dev/PROJECT-HUB.html","id":"id_-celebration-checklist","dir":"","previous_headings":"","what":"🎉 Celebration Checklist","title":"🎯 medfit - Project Control Hub","text":"Package recovery complete! - [x] ✅ files recovered trash - [x] ✅ Git history intact - [x] ✅ Package structure valid - [x] ✅ Ready development Planning complete! - [x] ✅ Generic Functions Strategy documented - [x] ✅ API contracts defined - [x] ✅ Dependencies mapped ’s solid foundation work! 🎉","code":""},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/PROJECT-HUB.html","id":"package-stats","dir":"","previous_headings":"📊 Metrics & Stats","what":"Package Stats","title":"🎯 medfit - Project Control Hub","text":"R Files: ~15 estimated Functions: 8 core (fit_mediation, bootstrap_mediation, etc.) Tests: 0/50 target Documentation: 0/8 functions","code":""},{"path":"https://data-wise.github.io/medfit/dev/PROJECT-HUB.html","id":"dependencies","dir":"","previous_headings":"📊 Metrics & Stats","what":"Dependencies","title":"🎯 medfit - Project Control Hub","text":"Depends: None (Base R) Imports: rlang, cli, glue Suggests: testthat, covr","code":""},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/PROJECT-HUB.html","id":"id_2025-12-12---package-recovered","dir":"","previous_headings":"🔄 Update Log","what":"2025-12-12 - Package Recovered","title":"🎯 medfit - Project Control Hub","text":"Recovered files Google Drive trash Verified package structure Added active/ directory Ready development","code":""},{"path":"https://data-wise.github.io/medfit/dev/PROJECT-HUB.html","id":"id_2025-12-12---planning-complete","dir":"","previous_headings":"🔄 Update Log","what":"2025-12-12 - Planning Complete","title":"🎯 medfit - Project Control Hub","text":"Generic Functions Strategy documented API contracts defined Dependencies mapped","code":""},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/PROJECT-HUB.html","id":"goals","dir":"","previous_headings":"🎯 Long-Term Vision","what":"Goals","title":"🎯 medfit - Project Control Hub","text":"Foundation ecosystem - medfit powers mediation packages Modern R practices - S7 classes, tidyverse-compatible, native pipe Publication quality - Companion methodology papers","code":""},{"path":"https://data-wise.github.io/medfit/dev/PROJECT-HUB.html","id":"success-criteria","dir":"","previous_headings":"🎯 Long-Term Vision","what":"Success Criteria","title":"🎯 medfit - Project Control Hub","text":"CRAN 0 ERRORs, 0 WARNINGs Used probmed, medrobust, medsim Downloaded >1000 times/month Cited research papers Status: 🔴 Ready start - foundation place, time build!Last Updated: 2025-12-12Next Review: Phase 1 completion","code":""},{"path":"https://data-wise.github.io/medfit/dev/START-HERE.html","id":null,"dir":"","previous_headings":"","what":"START HERE: medfit Package","title":"START HERE: medfit Package","text":"Created: 2025-12-02 Status: Package skeleton ready, implementation starting","code":""},{"path":"https://data-wise.github.io/medfit/dev/START-HERE.html","id":"id_-what-is-medfit","dir":"","previous_headings":"","what":"🎯 What is medfit?","title":"START HERE: medfit Package","text":"medfit foundation package mediation analysis ecosystem. provides shared infrastructure (S7 classes, model fitting, extraction, bootstrap) eliminates redundancy across three packages: probmed - P_med (probabilistic effect size) RMediation - Confidence intervals (DOP, MBCO) medrobust - Sensitivity analysis","code":""},{"path":"https://data-wise.github.io/medfit/dev/START-HERE.html","id":"id_-package-location","dir":"","previous_headings":"","what":"📁 Package Location","title":"START HERE: medfit Package","text":"","code":"packages/ ├── medfit/           ← YOU ARE HERE (new foundation package) ├── probmed/          ← Will use medfit (phase 2 complete) ├── rmediation/       ← Will use medfit (RMediation on CRAN) └── medrobust/        ← May use medfit (in development)"},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/START-HERE.html","id":"in-this-package-medfit","dir":"","previous_headings":"📋 Key Documents","what":"In This Package (medfit/)","title":"START HERE: medfit Package","text":"CLAUDE.md ⭐ Start AI assistance Package architecture Coding standards Ecosystem context README.md - Package overview quick start planning/medfit-roadmap.md - Implementation plan (7 phases, 4-6 weeks) planning/ECOSYSTEM.md - Connections packages","code":""},{"path":"https://data-wise.github.io/medfit/dev/START-HERE.html","id":"in-parent-ecosystem-probmedplanning","dir":"","previous_headings":"📋 Key Documents","what":"In Parent Ecosystem (probmed/planning/)","title":"START HERE: medfit Package","text":"DECISIONS.md - key decisions including: medfit name choice Package ecosystem strategy Model engine decisions ROADMAP.md - Overall ecosystem status timeline three-package-ecosystem-strategy.md - Detailed strategic analysis","code":""},{"path":"https://data-wise.github.io/medfit/dev/START-HERE.html","id":"id_-implementation-roadmap-summary","dir":"","previous_headings":"","what":"🚀 Implementation Roadmap (Summary)","title":"START HERE: medfit Package","text":"Total: 4-6 weeks MVP","code":""},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/START-HERE.html","id":"id_-package-skeleton","dir":"","previous_headings":"🔧 What’s Already Set Up","what":"✅ Package Skeleton","title":"START HERE: medfit Package","text":"DESCRIPTION dependencies LICENSE (GPL-3) README.md overview CLAUDE.md full documentation NEWS.md changelog .Rbuildignore, .gitignore","code":""},{"path":"https://data-wise.github.io/medfit/dev/START-HERE.html","id":"id_-directory-structure","dir":"","previous_headings":"🔧 What’s Already Set Up","what":"✅ Directory Structure","title":"START HERE: medfit Package","text":"","code":"medfit/ ├── CLAUDE.md              ← AI assistance guide ├── DESCRIPTION            ← Package metadata ├── LICENSE                ← GPL-3 ├── README.md              ← User guide ├── NEWS.md                ← Changelog ├── NAMESPACE              ← Auto-generated ├── R/                     ← Source code │   ├── aaa-imports.R          (imports setup) │   ├── medfit-package.R       (package docs) │   ├── classes.R              (placeholder) │   ├── generics.R             (placeholder) │   ├── utils.R                (placeholder) │   └── zzz.R                  (placeholder) ├── tests/ │   └── testthat/          ← Test files go here ├── man/                   ← Auto-generated docs ├── vignettes/             ← User guides ├── planning/              ← Implementation plans │   ├── medfit-roadmap.md      (7-phase plan) │   ├── ECOSYSTEM.md           (connections) │   └── README.md              (planning guide) └── .github/workflows/     ← CI/CD (to be added)"},{"path":"https://data-wise.github.io/medfit/dev/START-HERE.html","id":"id_-planning-documents","dir":"","previous_headings":"🔧 What’s Already Set Up","what":"✅ Planning Documents","title":"START HERE: medfit Package","text":"Detailed roadmap (7 phases) Ecosystem connections documented Links parent ecosystem decisions","code":""},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/START-HERE.html","id":"immediate-starting-now","dir":"","previous_headings":"🎬 Next Steps","what":"Immediate (Starting Now)","title":"START HERE: medfit Package","text":"Read planning/medfit-roadmap.md Read planning/ECOSYSTEM.md Check ../probmed/planning/DECISIONS.md Initialize: git init Add remote: git remote add origin https://github.com/data-wise/medfit.git Initial commit Push GitHub Implement MediationData class R/classes.R Implement BootstrapResult class R/classes.R Add print/summary methods Write tests","code":""},{"path":"https://data-wise.github.io/medfit/dev/START-HERE.html","id":"this-week-phase-1-2","dir":"","previous_headings":"🎬 Next Steps","what":"This Week (Phase 1-2)","title":"START HERE: medfit Package","text":"Git repository set GitHub Actions CI/CD configured S7 classes implemented Basic tests passing R CMD check clean","code":""},{"path":"https://data-wise.github.io/medfit/dev/START-HERE.html","id":"next-week-phase-3-4","dir":"","previous_headings":"🎬 Next Steps","what":"Next Week (Phase 3-4)","title":"START HERE: medfit Package","text":"Extraction methods implemented Fitting API implemented Tests comprehensive","code":""},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/START-HERE.html","id":"probmed-will-import-medfit","dir":"","previous_headings":"🔗 Ecosystem Connections","what":"probmed (Will Import medfit)","title":"START HERE: medfit Package","text":"Location: ../probmed/ Current status: Phase 2 complete (lavaan + mediation integration) change: - Replace probmed::extract_mediation() medfit::extract_mediation() - Replace bootstrap code medfit::bootstrap_mediation() - Keep P_med computation (unique probmed) Migration: Planned Week 6-7 medfit MVP","code":""},{"path":"https://data-wise.github.io/medfit/dev/START-HERE.html","id":"rmediation-will-import-medfit","dir":"","previous_headings":"🔗 Ecosystem Connections","what":"RMediation (Will Import medfit)","title":"START HERE: medfit Package","text":"Location: ../rmediation/ Current status: Stable v1.4.0 CRAN change: - Replace extraction code medfit::extract_mediation() - Optionally use medfit::bootstrap_mediation() - Keep unique methods (DOP, MBCO, MC) Migration: Planned Week 8-9 probmed","code":""},{"path":"https://data-wise.github.io/medfit/dev/START-HERE.html","id":"medrobust-may-suggest-medfit","dir":"","previous_headings":"🔗 Ecosystem Connections","what":"medrobust (May Suggest medfit)","title":"START HERE: medfit Package","text":"Location: ../medrobust/ Current status: v0.1.0.9000 development May change: - Optionally use medfit naive estimates - Optionally use bootstrap utilities Migration: Optional, Week 10","code":""},{"path":"https://data-wise.github.io/medfit/dev/START-HERE.html","id":"id_-key-design-decisions-already-made","dir":"","previous_headings":"","what":"💡 Key Design Decisions (Already Made)","title":"START HERE: medfit Package","text":"../probmed/planning/DECISIONS.md: Package name: medfit ✅ Three-package ecosystem: Foundation + 3 dependents ✅ S7 everywhere: Type-safe OOP ✅ R >= 4.1.0: Native pipe support ✅ GLM first: Incremental engine support ✅ >90% test coverage: Quality standard ✅","code":""},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/START-HERE.html","id":"documentation","dir":"","previous_headings":"📞 Getting Help","what":"Documentation","title":"START HERE: medfit Package","text":"package: Read CLAUDE.md Ecosystem: Read ../probmed/planning/DECISIONS.md Implementation: Read planning/medfit-roadmap.md","code":""},{"path":"https://data-wise.github.io/medfit/dev/START-HERE.html","id":"questions","dir":"","previous_headings":"📞 Getting Help","what":"Questions?","title":"START HERE: medfit Package","text":"Strategic: Review ../probmed/planning/three-package-ecosystem-strategy.md Technical: Review planning/medfit-roadmap.md Connections: Review planning/ECOSYSTEM.md","code":""},{"path":"https://data-wise.github.io/medfit/dev/START-HERE.html","id":"id_-checklist-for-new-session","dir":"","previous_headings":"","what":"✅ Checklist for New Session","title":"START HERE: medfit Package","text":"starting new session medfit: Read file (START-.md) Check current phase planning/medfit-roadmap.md Review planning/ECOSYSTEM.md package connections Check ../probmed/planning/ROADMAP.md ecosystem status Review recent decisions ../probmed/planning/DECISIONS.md","code":""},{"path":"https://data-wise.github.io/medfit/dev/START-HERE.html","id":"id_-quick-reference","dir":"","previous_headings":"","what":"🎓 Quick Reference","title":"START HERE: medfit Package","text":"Status: 📦 Package skeleton complete, ready Phase 2 (S7 classes) Next session: Start directory (packages/medfit/), review CLAUDE.md, begin S7 class implementation Remember: foundation package - focus clean, efficient infrastructure. Effect size computation stays dependent packages. Created: 2025-12-02 Last Updated: 2025-12-02","code":""},{"path":"https://data-wise.github.io/medfit/dev/TODOS.html","id":null,"dir":"","previous_headings":"","what":"TODOS.md - medfit","title":"TODOS.md - medfit","text":"Active tasks, implementation plan, progress tracking.","code":""},{"path":"https://data-wise.github.io/medfit/dev/TODOS.html","id":"id_-current-focus-test-driven-development-phase","dir":"","previous_headings":"","what":"🎯 Current Focus: Test-Driven Development Phase","title":"TODOS.md - medfit","text":"Status: ✅ Test infrastructure complete Next: Implement core functions guided tests Updated: 2025-12-15","code":""},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/TODOS.html","id":"high-priority-","dir":"","previous_headings":"🔥 Active Tasks (This Sprint)","what":"High Priority 🔴","title":"TODOS.md - medfit","text":"Update project documentation [10 min] ⚡ Create IDEAS.md Create TODOS.md Update .STATUS test suite milestone Update PROJECT-HUB.md progress Commit test infrastructure [5 min] ⚡ Implement bootstrap_mediation() [3-4 hr] Location: R/bootstrap.R (create new file) Guided : tests/testthat/test-bootstrap.R (27 tests) Steps: Create R/bootstrap.R Implement parametric bootstrap (6 tests) Implement nonparametric bootstrap (5 tests) Implement plugin method (3 tests) Add parallel processing support (2 tests) Verify reproducibility (3 tests) Remove skip() calls test-bootstrap.R Run tests: devtools::test() Implement fit_mediation() [2-3 hr] Location: R/fit-glm.R (create new file) Guided : tests/testthat/test-fit-glm.R (30 tests) Steps: Create R/fit-glm.R Implement basic Gaussian GLM (6 tests) Add family support (4 tests) Validate formulas (4 tests) Handle covariates (2 tests) Add convergence detection (2 tests) Remove skip() calls test-fit-glm.R Run tests: devtools::test()","code":"git add tests/testthat/test-bootstrap.R git add tests/testthat/test-fit-glm.R git add tests/testthat/helper-test-data.R git add IDEAS.md TODOS.md PROJECT-HUB.md git commit -m \"test: add comprehensive test suite  - Add test-bootstrap.R (27 tests) - Add test-fit-glm.R (30 tests) - Add helper-test-data.R (centralized generators) - Add project management files - Total: 241 tests (184 PASS, 57 SKIP, 0 FAIL)\""},{"path":"https://data-wise.github.io/medfit/dev/TODOS.html","id":"medium-priority-","dir":"","previous_headings":"🔥 Active Tasks (This Sprint)","what":"Medium Priority 🟡","title":"TODOS.md - medfit","text":"Add roxygen2 documentation [1-2 hr] Document bootstrap_mediation() Document fit_mediation() Add examples Build docs: devtools::document() Create intro vignette [2 hr] Title: “Getting Started medfit” File: vignettes/intro-medfit.Rmd Sections: Installation Basic workflow Model fitting fit_mediation() Bootstrap inference Integration ecosystem packages Run R CMD check [10 min] Fix NOTEs, WARNINGs, ERRORs","code":"devtools::check()"},{"path":"https://data-wise.github.io/medfit/dev/TODOS.html","id":"low-priority--quick-wins-","dir":"","previous_headings":"🔥 Active Tasks (This Sprint)","what":"Low Priority / Quick Wins ⚡","title":"TODOS.md - medfit","text":"Update DESCRIPTION [5 min] Add Authors (including contributors) Update URL BugReports Review Suggests packages Setup pkgdown [15 min] Add NEWS.md entry [5 min] Document test infrastructure addition","code":"usethis::use_pkgdown() pkgdown::build_site()"},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/TODOS.html","id":"core-functionality","dir":"","previous_headings":"📋 Backlog (Future Sprints)","what":"Core Functionality","title":"TODOS.md - medfit","text":"Implement SerialMediationData extraction lavaan Add standardized coefficients option Implement interaction detection (X:M outcome model) Add four-way decomposition (VanderWeele)","code":""},{"path":"https://data-wise.github.io/medfit/dev/TODOS.html","id":"testing--quality","dir":"","previous_headings":"📋 Backlog (Future Sprints)","what":"Testing & Quality","title":"TODOS.md - medfit","text":"Increase test coverage >90% Add integration tests Setup GitHub Actions CI/CD Add code coverage reporting (codecov)","code":""},{"path":"https://data-wise.github.io/medfit/dev/TODOS.html","id":"documentation","dir":"","previous_headings":"📋 Backlog (Future Sprints)","what":"Documentation","title":"TODOS.md - medfit","text":"Write “Comparison mediation package” vignette Write “Extending medfit” vignette (developers) Create pkgdown website Add FAQ section","code":""},{"path":"https://data-wise.github.io/medfit/dev/TODOS.html","id":"ecosystem-integration","dir":"","previous_headings":"📋 Backlog (Future Sprints)","what":"Ecosystem Integration","title":"TODOS.md - medfit","text":"Coordinate probmed MediationData API Coordinate RMediation BootstrapResult Test integration medrobust Add examples package’s vignettes","code":""},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/TODOS.html","id":"id_2025-12-15-afternoon","dir":"","previous_headings":"✅ Recently Completed","what":"2025-12-15 (Afternoon)","title":"TODOS.md - medfit","text":"Summarized 8 major decisions (S7, hybrid generics, function naming, workflow, etc.) Complete API reference (custom S3 generics + standard R generics + broom) Implementation roadmap (6 phases: Core API, Bootstrap, Fit, Broom, Docs, CMAverse) Testing strategy (unit tests, integration tests, coverage targets) Documentation standards (roxygen2, vignettes, pkgdown) Strategic planning phase COMPLETE - ready implementation Analyzed three-package-ecosystem-strategy.md findings Mapped generic functions strategy (extract/fit/bootstrap) Designed CMAverse integration engine adapter pattern Recommended selective loading mediationverse (Option 2) Created integration timeline (3 phases) Documented 4 open questions needing decisions Comprehensive comparison S3, S4, S7, R6, R7 systems Performance benchmarks (S3: 2.59μs, S7: 7.29μs - negligible medfit) Mixing S7 classes + S3 generics analysis (possible loses features) Real-world adoption: ggplot2 4.0.0 migrated S7 DECISION: KEEP S7 generics (optimal foundation package) Flexibility dependent packages documented (work S7 classes) Researched base R standard generics (confint, coef, vcov, etc.) Analyzed lavaan (hybrid approach), CMAverse (custom ), broom patterns Compared 4 strategic options (standard , custom , hybrid, prefixed) DECISION: Use confint() ci() (hybrid approach recommended) Standard generics standard ops + custom S7 mediation-specific 4-phase implementation roadmap code examples Ecosystem integration benefits (broom, sandwich, car, lmtest, emmeans) Analyzed ADHD challenges (working memory, decision fatigue, flow state) Compared 6 workflow alternatives (pipe-first, single-function, builder, etc.) RECOMMENDATION: Alternative 6 (Hybrid) - short verbs + pipes + standard generics Proposed mediate() + boot() + confint() pattern (revised med()) Smart defaults minimize decisions (parametric, 1000, 95% CI) Pipeline maintains flow state (context switching) Complete examples migration strategy Clarified S7+S3 generics pattern (namespace conflicts) Detailed explanation med() function (fits + extracts) Compared 6 alternatives (mediate, fit_med, medfit, estimate, etc.) RECOMMENDATION: mediate() instead med() (clearer verb, ambiguity) Explained paths() function (mediation structure extraction) Compared coef() (params vs just paths) RECOMMENDATION: Keep paths() (short, clear, conflicts)","code":""},{"path":"https://data-wise.github.io/medfit/dev/TODOS.html","id":"id_2025-12-15-morning","dir":"","previous_headings":"✅ Recently Completed","what":"2025-12-15 (Morning)","title":"TODOS.md - medfit","text":"test-bootstrap.R (27 tests bootstrap_mediation) test-fit-glm.R (30 tests fit_mediation) helper-test-data.R (11 generators, 7 statistic functions) existing tests pass (184 PASS, 0 FAIL) Created IDEAS.md Created TODOS.md Created ECOSYSTEM-COORDINATION.md","code":""},{"path":"https://data-wise.github.io/medfit/dev/TODOS.html","id":"id_2025-12-14","dir":"","previous_headings":"✅ Recently Completed","what":"2025-12-14","title":"TODOS.md - medfit","text":"Added .STATUS file project tracking Organized test structure per CLAUDE.md guidelines Documented defensive programming patterns","code":""},{"path":"https://data-wise.github.io/medfit/dev/TODOS.html","id":"id_2025-12-12","dir":"","previous_headings":"✅ Recently Completed","what":"2025-12-12","title":"TODOS.md - medfit","text":"Created PROJECT-HUB.md task coordination Defined phases medfit-roadmap.md","code":""},{"path":"https://data-wise.github.io/medfit/dev/TODOS.html","id":"earlier","dir":"","previous_headings":"✅ Recently Completed","what":"Earlier","title":"TODOS.md - medfit","text":"MediationData class SerialMediationData class BootstrapResult class Method lm/glm Method lavaan Created comprehensive test suite classes Setup package structure Recovered package Google Drive","code":""},{"path":"https://data-wise.github.io/medfit/dev/TODOS.html","id":"id_-blocked--waiting","dir":"","previous_headings":"","what":"🚫 Blocked / Waiting","title":"TODOS.md - medfit","text":"Currently blockers! 🎉","code":""},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/TODOS.html","id":"test-coverage","dir":"","previous_headings":"📊 Progress Metrics","what":"Test Coverage","title":"TODOS.md - medfit","text":"Current: 184 tests passing Target MVP: 241 tests passing (57 currently skipped) Target CRAN: >90% code coverage","code":""},{"path":"https://data-wise.github.io/medfit/dev/TODOS.html","id":"implementation-progress","dir":"","previous_headings":"📊 Progress Metrics","what":"Implementation Progress","title":"TODOS.md - medfit","text":"S7 classes extract_mediation (lm/glm, lavaan) fit_mediation (GLM engine) bootstrap_mediation (3 methods) Test infrastructure Implementation Documentation Vignettes pkgdown site R CMD check passing Submit CRAN","code":""},{"path":"https://data-wise.github.io/medfit/dev/TODOS.html","id":"documentation-progress","dir":"","previous_headings":"📊 Progress Metrics","what":"Documentation Progress","title":"TODOS.md - medfit","text":"Function docs: 60% (classes done, generics need work) Vignettes: 0% (none written yet) pkgdown site: 0% (setup) Examples: 30% (classes examples)","code":""},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/TODOS.html","id":"current-sprint-week-of-dec-15","dir":"","previous_headings":"🎯 Sprint Planning","what":"Current Sprint (Week of Dec 15)","title":"TODOS.md - medfit","text":"Goal: Complete core implementation (fit_mediation + bootstrap_mediation) Capacity: ~10-15 hours Committed: - Commit test suite (5 min) - Implement bootstrap_mediation (3-4 hr) - Implement fit_mediation (2-3 hr) - Documentation (1-2 hr) - Testing & fixes (2-3 hr) Stretch: - Intro vignette (2 hr) - pkgdown site (15 min)","code":""},{"path":"https://data-wise.github.io/medfit/dev/TODOS.html","id":"next-sprint-week-of-dec-22","dir":"","previous_headings":"🎯 Sprint Planning","what":"Next Sprint (Week of Dec 22)","title":"TODOS.md - medfit","text":"Goal: Documentation CRAN readiness Planned: - Complete vignettes - Setup pkgdown - R CMD check –-cran (pass checks) - Integration testing ecosystem packages","code":""},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/TODOS.html","id":"code-style-reminders","dir":"","previous_headings":"💡 Notes & Reminders","what":"Code Style Reminders","title":"TODOS.md - medfit","text":"Use snake_case functions/arguments Use CamelCase S7 classes Prefix internal functions . Always use checkmate input validation Never use library() inside package functions","code":""},{"path":"https://data-wise.github.io/medfit/dev/TODOS.html","id":"git-workflow","dir":"","previous_headings":"💡 Notes & Reminders","what":"Git Workflow","title":"TODOS.md - medfit","text":"Commit frequently (small, logical chunks) Write descriptive commit messages feat: new features fix: bug fixes test: test additions/changes docs: documentation refactor: code refactoring chore: maintenance","code":""},{"path":"https://data-wise.github.io/medfit/dev/TODOS.html","id":"testing-guidelines","dir":"","previous_headings":"💡 Notes & Reminders","what":"Testing Guidelines","title":"TODOS.md - medfit","text":"Test edge cases (NULL, empty, NA) Test error conditions Use descriptive test names Group related tests comments Aim >90% coverage","code":""},{"path":"https://data-wise.github.io/medfit/dev/TODOS.html","id":"documentation-checklist","dir":"","previous_headings":"💡 Notes & Reminders","what":"Documentation Checklist","title":"TODOS.md - medfit","text":"exported functions @export parameters documented @param Return values documented @return Examples provided @examples Mathematical notation uses  References cited @references Last Updated: 2025-12-15 Next Review: implementing bootstrap_mediation() fit_mediation()","code":""},{"path":"https://data-wise.github.io/medfit/dev/articles/bootstrap.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Bootstrap Inference","text":"Bootstrap inference provides confidence intervals indirect effects without assuming normality. medfit implements three bootstrap methods: Parametric bootstrap: Sample parameter distribution (fast, assumes normality) Nonparametric bootstrap: Resample data refit models (robust, slower) Plugin estimator: Point estimate (fastest, CI) methods return BootstrapResult object consistent structure.","code":""},{"path":"https://data-wise.github.io/medfit/dev/articles/bootstrap.html","id":"why-bootstrap-for-mediation","dir":"Articles","previous_headings":"","what":"Why Bootstrap for Mediation?","title":"Bootstrap Inference","text":"sampling distribution indirect effects (\\(\\times b\\)) typically: Non-normal: Even b normal, product Skewed: Often right-skewed Complex: closed-form distribution general case Bootstrap methods: - Don’t assume normality - Provide accurate coverage (closer nominal 95%) - Handle complex indirect effects (serial mediation, moderated mediation)","code":""},{"path":"https://data-wise.github.io/medfit/dev/articles/bootstrap.html","id":"parametric-bootstrap","dir":"Articles","previous_headings":"","what":"Parametric Bootstrap","title":"Bootstrap Inference","text":"Samples estimated parameter distribution: Extract parameter estimates: \\(\\hat{\\theta} = (\\hat{}, \\hat{b}, ...)\\) Extract covariance matrix: \\(\\hat{\\Sigma}\\) Sample \\(\\theta^*_i \\sim N(\\hat{\\theta}, \\hat{\\Sigma})\\) Compute indirect effect: \\(IE^*_i = ^*_i \\times b^*_i\\) Compute percentile CI bootstrap distribution Fast: model refitting required Appropriate : Parameters approximately normal (large n) Inappropriate : Small samples, non-normal parameters fast (refitting) Reproducible seed Works extracted models (need original data) Assumes multivariate normality parameters May underestimate uncertainty small samples","code":"library(medfit)  # Fit mediation models fit_m <- lm(M ~ X, data = mydata) fit_y <- lm(Y ~ X + M, data = mydata)  # Extract mediation structure med <- extract_mediation(fit_m, model_y = fit_y, treatment = \"X\", mediator = \"M\")  # Define statistic function for indirect effect # Parameter names follow pattern: m_X (mediator model), y_M, y_X (outcome model) indirect_effect <- function(theta) {   theta[\"m_X\"] * theta[\"y_M\"] }  # Parametric bootstrap boot_result <- bootstrap_mediation(   statistic_fn = indirect_effect,   method = \"parametric\",   mediation_data = med,   n_boot = 1000,   ci_level = 0.95,   seed = 123 )  print(boot_result) summary(boot_result)"},{"path":"https://data-wise.github.io/medfit/dev/articles/bootstrap.html","id":"how-it-works","dir":"Articles","previous_headings":"","what":"How It Works","title":"Bootstrap Inference","text":"Extract parameter estimates: \\(\\hat{\\theta} = (\\hat{}, \\hat{b}, ...)\\) Extract covariance matrix: \\(\\hat{\\Sigma}\\) Sample \\(\\theta^*_i \\sim N(\\hat{\\theta}, \\hat{\\Sigma})\\) Compute indirect effect: \\(IE^*_i = ^*_i \\times b^*_i\\) Compute percentile CI bootstrap distribution","code":""},{"path":"https://data-wise.github.io/medfit/dev/articles/bootstrap.html","id":"when-to-use","dir":"Articles","previous_headings":"","what":"When to Use","title":"Bootstrap Inference","text":"Fast: model refitting required Appropriate : Parameters approximately normal (large n) Inappropriate : Small samples, non-normal parameters","code":""},{"path":"https://data-wise.github.io/medfit/dev/articles/bootstrap.html","id":"advantages","dir":"Articles","previous_headings":"","what":"Advantages","title":"Bootstrap Inference","text":"fast (refitting) Reproducible seed Works extracted models (need original data)","code":""},{"path":"https://data-wise.github.io/medfit/dev/articles/bootstrap.html","id":"disadvantages","dir":"Articles","previous_headings":"","what":"Disadvantages","title":"Bootstrap Inference","text":"Assumes multivariate normality parameters May underestimate uncertainty small samples","code":""},{"path":"https://data-wise.github.io/medfit/dev/articles/bootstrap.html","id":"nonparametric-bootstrap","dir":"Articles","previous_headings":"","what":"Nonparametric Bootstrap","title":"Bootstrap Inference","text":"Resamples data refits models: Resample data replacement: \\(D^*_i\\) Refit mediator model \\(D^*_i\\) Refit outcome model \\(D^*_i\\) Extract paths: \\(^*_i\\), \\(b^*_i\\) Compute indirect effect: \\(IE^*_i = ^*_i \\times b^*_i\\) Compute percentile CI bootstrap distribution Robust: Makes parametric assumptions Appropriate : Small samples, non-normal data, GLMs Gold standard: widely accepted method distributional assumptions Robust outliers Captures full sampling variability Computationally intensive (refits models B times) Requires original data Can slow complex models Speed parallel processing:","code":"# Statistic function that refits models on resampled data statistic_fn_refit <- function(boot_data) {   # Fit models on bootstrap sample   fit_m <- lm(M ~ X, data = boot_data)   fit_y <- lm(Y ~ X + M, data = boot_data)    # Extract and compute indirect effect   med_boot <- extract_mediation(fit_m, model_y = fit_y,                                 treatment = \"X\", mediator = \"M\")   med_boot@a_path * med_boot@b_path }  # Nonparametric bootstrap (requires original data) boot_result <- bootstrap_mediation(   statistic_fn = statistic_fn_refit,   method = \"nonparametric\",   data = mydata,   n_boot = 1000,   ci_level = 0.95,   seed = 123,   parallel = TRUE,   ncores = 4 )  print(boot_result) # Detect available cores ncores <- parallel::detectCores() - 1  # Run in parallel boot_result <- bootstrap_mediation(   statistic_fn = statistic_fn_refit,   method = \"nonparametric\",   data = mydata,   n_boot = 5000,   parallel = TRUE,   ncores = ncores,   seed = 123 )"},{"path":"https://data-wise.github.io/medfit/dev/articles/bootstrap.html","id":"how-it-works-1","dir":"Articles","previous_headings":"","what":"How It Works","title":"Bootstrap Inference","text":"Resample data replacement: \\(D^*_i\\) Refit mediator model \\(D^*_i\\) Refit outcome model \\(D^*_i\\) Extract paths: \\(^*_i\\), \\(b^*_i\\) Compute indirect effect: \\(IE^*_i = ^*_i \\times b^*_i\\) Compute percentile CI bootstrap distribution","code":""},{"path":"https://data-wise.github.io/medfit/dev/articles/bootstrap.html","id":"when-to-use-1","dir":"Articles","previous_headings":"","what":"When to Use","title":"Bootstrap Inference","text":"Robust: Makes parametric assumptions Appropriate : Small samples, non-normal data, GLMs Gold standard: widely accepted method","code":""},{"path":"https://data-wise.github.io/medfit/dev/articles/bootstrap.html","id":"advantages-1","dir":"Articles","previous_headings":"","what":"Advantages","title":"Bootstrap Inference","text":"distributional assumptions Robust outliers Captures full sampling variability","code":""},{"path":"https://data-wise.github.io/medfit/dev/articles/bootstrap.html","id":"disadvantages-1","dir":"Articles","previous_headings":"","what":"Disadvantages","title":"Bootstrap Inference","text":"Computationally intensive (refits models B times) Requires original data Can slow complex models","code":""},{"path":"https://data-wise.github.io/medfit/dev/articles/bootstrap.html","id":"parallel-processing","dir":"Articles","previous_headings":"","what":"Parallel Processing","title":"Bootstrap Inference","text":"Speed parallel processing:","code":"# Detect available cores ncores <- parallel::detectCores() - 1  # Run in parallel boot_result <- bootstrap_mediation(   statistic_fn = statistic_fn_refit,   method = \"nonparametric\",   data = mydata,   n_boot = 5000,   parallel = TRUE,   ncores = ncores,   seed = 123 )"},{"path":"https://data-wise.github.io/medfit/dev/articles/bootstrap.html","id":"plugin-estimator","dir":"Articles","previous_headings":"","what":"Plugin Estimator","title":"Bootstrap Inference","text":"Point estimate , confidence interval: Quick checks Point estimates simulation studies CI needed Simply computes \\(\\hat{} \\times \\hat{b}\\) fitted model. resampling.","code":"# Plugin estimator (fastest) plugin_result <- bootstrap_mediation(   statistic_fn = indirect_effect,   method = \"plugin\",   mediation_data = med )  print(plugin_result)"},{"path":"https://data-wise.github.io/medfit/dev/articles/bootstrap.html","id":"when-to-use-2","dir":"Articles","previous_headings":"","what":"When to Use","title":"Bootstrap Inference","text":"Quick checks Point estimates simulation studies CI needed","code":""},{"path":"https://data-wise.github.io/medfit/dev/articles/bootstrap.html","id":"how-it-works-2","dir":"Articles","previous_headings":"","what":"How It Works","title":"Bootstrap Inference","text":"Simply computes \\(\\hat{} \\times \\hat{b}\\) fitted model. resampling.","code":""},{"path":"https://data-wise.github.io/medfit/dev/articles/bootstrap.html","id":"interpreting-results","dir":"Articles","previous_headings":"","what":"Interpreting Results","title":"Bootstrap Inference","text":"bootstrap distribution shows sampling variability: percentile bootstrap CI computed : Lower bound: 2.5th percentile (95% CI) Upper bound: 97.5th percentile (95% CI) confidence interval excludes zero, indirect effect statistically significant:","code":"# Access bootstrap estimates boot_estimates <- boot_result@boot_estimates  # Histogram hist(   boot_estimates,   breaks = 50,   main = \"Bootstrap Distribution of Indirect Effect\",   xlab = \"Indirect Effect (a * b)\" )  # Add percentile CI abline(v = boot_result@ci_lower, col = \"red\", lwd = 2) abline(v = boot_result@ci_upper, col = \"red\", lwd = 2) abline(v = boot_result@estimate, col = \"blue\", lwd = 2)  # Check for normality qqnorm(boot_estimates) qqline(boot_estimates) # 95% CI c(boot_result@ci_lower, boot_result@ci_upper)  # Change confidence level boot_90 <- bootstrap_mediation(   statistic_fn = indirect_effect,   method = \"parametric\",   mediation_data = med,   n_boot = 1000,   ci_level = 0.90,   seed = 123 ) c(boot_90@ci_lower, boot_90@ci_upper) # Narrower # Check if CI excludes zero if (boot_result@ci_lower > 0 || boot_result@ci_upper < 0) {   print(\"Indirect effect is statistically significant\") } else {   print(\"Indirect effect is not statistically significant\") }"},{"path":"https://data-wise.github.io/medfit/dev/articles/bootstrap.html","id":"bootstrap-distribution","dir":"Articles","previous_headings":"","what":"Bootstrap Distribution","title":"Bootstrap Inference","text":"bootstrap distribution shows sampling variability:","code":"# Access bootstrap estimates boot_estimates <- boot_result@boot_estimates  # Histogram hist(   boot_estimates,   breaks = 50,   main = \"Bootstrap Distribution of Indirect Effect\",   xlab = \"Indirect Effect (a * b)\" )  # Add percentile CI abline(v = boot_result@ci_lower, col = \"red\", lwd = 2) abline(v = boot_result@ci_upper, col = \"red\", lwd = 2) abline(v = boot_result@estimate, col = \"blue\", lwd = 2)  # Check for normality qqnorm(boot_estimates) qqline(boot_estimates)"},{"path":"https://data-wise.github.io/medfit/dev/articles/bootstrap.html","id":"confidence-interval","dir":"Articles","previous_headings":"","what":"Confidence Interval","title":"Bootstrap Inference","text":"percentile bootstrap CI computed : Lower bound: 2.5th percentile (95% CI) Upper bound: 97.5th percentile (95% CI)","code":"# 95% CI c(boot_result@ci_lower, boot_result@ci_upper)  # Change confidence level boot_90 <- bootstrap_mediation(   statistic_fn = indirect_effect,   method = \"parametric\",   mediation_data = med,   n_boot = 1000,   ci_level = 0.90,   seed = 123 ) c(boot_90@ci_lower, boot_90@ci_upper) # Narrower"},{"path":"https://data-wise.github.io/medfit/dev/articles/bootstrap.html","id":"statistical-significance","dir":"Articles","previous_headings":"","what":"Statistical Significance","title":"Bootstrap Inference","text":"confidence interval excludes zero, indirect effect statistically significant:","code":"# Check if CI excludes zero if (boot_result@ci_lower > 0 || boot_result@ci_upper < 0) {   print(\"Indirect effect is statistically significant\") } else {   print(\"Indirect effect is not statistically significant\") }"},{"path":"https://data-wise.github.io/medfit/dev/articles/bootstrap.html","id":"serial-mediation-bootstrap","dir":"Articles","previous_headings":"","what":"Serial Mediation Bootstrap","title":"Bootstrap Inference","text":"Works serial mediation:","code":"# Serial mediation (X -> M1 -> M2 -> Y) serial_med <- extract_mediation(   fit_serial,   treatment = \"X\",   mediators = c(\"M1\", \"M2\"),   outcome = \"Y\" )  # Bootstrap the serial indirect effect (a * d * b) boot_serial <- bootstrap_mediation(   serial_med,   method = \"parametric\",   n_boot = 1000,   ci_level = 0.95 )  # Serial indirect effect print(boot_serial)  # Point estimate serial_med@a_path * serial_med@d_path * serial_med@b_path"},{"path":"https://data-wise.github.io/medfit/dev/articles/bootstrap.html","id":"reproducibility","dir":"Articles","previous_headings":"","what":"Reproducibility","title":"Bootstrap Inference","text":"Set seed reproducible results:","code":"# Same seed = same results boot1 <- bootstrap_mediation(   statistic_fn = indirect_effect,   method = \"parametric\",   mediation_data = med,   n_boot = 1000,   seed = 123 ) boot2 <- bootstrap_mediation(   statistic_fn = indirect_effect,   method = \"parametric\",   mediation_data = med,   n_boot = 1000,   seed = 123 )  # Identical results all.equal(boot1@boot_estimates, boot2@boot_estimates) # TRUE  # Different seed = different results boot3 <- bootstrap_mediation(   statistic_fn = indirect_effect,   method = \"parametric\",   mediation_data = med,   n_boot = 1000,   seed = 456 ) all.equal(boot1@boot_estimates, boot3@boot_estimates) # FALSE"},{"path":"https://data-wise.github.io/medfit/dev/articles/bootstrap.html","id":"how-many-bootstrap-samples","dir":"Articles","previous_headings":"","what":"How Many Bootstrap Samples?","title":"Bootstrap Inference","text":"General guidelines: Exploratory: 1000 samples (fast) Publication: 5000+ samples (stable CI) High stakes: 10,000+ samples (stable) Check stability varying n_boot: CIs similar, n_boot sufficient.","code":"# Compare different n_boot boot_1k <- bootstrap_mediation(   statistic_fn = indirect_effect,   method = \"parametric\",   mediation_data = med,   n_boot = 1000,   seed = 123 ) boot_5k <- bootstrap_mediation(   statistic_fn = indirect_effect,   method = \"parametric\",   mediation_data = med,   n_boot = 5000,   seed = 123 ) boot_10k <- bootstrap_mediation(   statistic_fn = indirect_effect,   method = \"parametric\",   mediation_data = med,   n_boot = 10000,   seed = 123 )  # Compare CIs rbind(   \"1K\" = c(boot_1k@ci_lower, boot_1k@ci_upper),   \"5K\" = c(boot_5k@ci_lower, boot_5k@ci_upper),   \"10K\" = c(boot_10k@ci_lower, boot_10k@ci_upper) )"},{"path":"https://data-wise.github.io/medfit/dev/articles/bootstrap.html","id":"alternative-ci-methods","dir":"Articles","previous_headings":"","what":"Alternative CI Methods","title":"Bootstrap Inference","text":"medfit currently uses percentile bootstrap (simplest, common). Future versions may add: BCa (bias-corrected accelerated): Adjusts bias skewness Studentized bootstrap: Better coverage cases Bayesian bootstrap: Posterior intervals","code":""},{"path":"https://data-wise.github.io/medfit/dev/articles/bootstrap.html","id":"comparison-with-delta-method","dir":"Articles","previous_headings":"","what":"Comparison with Delta Method","title":"Bootstrap Inference","text":"delta method provides asymptotic SE indirect effects: Bootstrap generally preferred : - Doesn’t assume normality indirect effect - Handles skewness correctly - Provides better coverage","code":"# Delta method SE a <- med@a_path b <- med@b_path var_a <- vcov(model_m)[\"X\", \"X\"] var_b <- vcov(model_y)[\"M\", \"M\"] cov_ab <- 0 # Assumed independent  se_delta <- sqrt(b^2 * var_a + a^2 * var_b)  # Delta method 95% CI (assumes normality) ci_delta <- med@a_path * med@b_path + c(-1.96, 1.96) * se_delta  # Compare with bootstrap ci_boot <- c(boot_result@ci_lower, boot_result@ci_upper)  rbind(delta = ci_delta, bootstrap = ci_boot)"},{"path":"https://data-wise.github.io/medfit/dev/articles/bootstrap.html","id":"best-practices","dir":"Articles","previous_headings":"","what":"Best Practices","title":"Bootstrap Inference","text":"Choose method appropriately: Parametric: Large samples, normal data Nonparametric: Small samples, non-normal data, GLMs Plugin: Quick checks Set seed: Always set seed reproducibility Use enough bootstraps: least 1000, preferably 5000+ Check convergence: Ensure models converged bootstrap samples Visualize distribution: Plot histogram Q-Q plot Use parallel processing: nonparametric large B","code":""},{"path":"https://data-wise.github.io/medfit/dev/articles/bootstrap.html","id":"next-steps","dir":"Articles","previous_headings":"","what":"Next Steps","title":"Bootstrap Inference","text":"See introduction S7 class details Learn model extraction Check reference documentation bootstrap_mediation()","code":""},{"path":"https://data-wise.github.io/medfit/dev/articles/bootstrap.html","id":"development-status","dir":"Articles","previous_headings":"","what":"Development Status","title":"Bootstrap Inference","text":"Currently implemented: - ✅ S7 class BootstrapResult - ✅ Parametric bootstrap - ✅ Nonparametric bootstrap - ✅ Plugin estimator - ✅ Parallel processing support - ✅ Seed-based reproducibility See NEWS.md updates.","code":""},{"path":"https://data-wise.github.io/medfit/dev/articles/extraction.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Model Extraction","text":"extract_mediation() function provides standardized interface extracting mediation structures fitted models. works : lm/glm models (base R) - implemented lavaan SEM models - implemented lmer mixed models (future) Note: OpenMx extraction planned future release. extraction methods return MediationData SerialMediationData object, ensuring consistency across modeling frameworks.","code":""},{"path":"https://data-wise.github.io/medfit/dev/articles/extraction.html","id":"extraction-pattern","dir":"Articles","previous_headings":"","what":"Extraction Pattern","title":"Model Extraction","text":"extraction methods follow pattern: Validate inputs (check variable names exist) Extract path coefficients (, b, c’ paths) Extract covariance matrix (inference) Extract residual variances (Gaussian) Retrieve data (available) Create MediationData object Return standardized structure","code":""},{"path":"https://data-wise.github.io/medfit/dev/articles/extraction.html","id":"extracting-from-lmglm-models","dir":"Articles","previous_headings":"","what":"Extracting from lm/glm Models","title":"Model Extraction","text":"simple mediation (X -> M -> Y), fit two models: extraction captures: Path coefficients: a_path: Coefficient X mediator model (X -> M) b_path: Coefficient M outcome model (M -> Y, controlling X) c_prime: Coefficient X outcome model (direct effect) Full parameter vector: coefficients models Covariance matrix: computing standard errors functions parameters Residual variances: sigma_m^2 sigma_y^2 Gaussian models Data metadata: Sample size, variable names, convergence status Works GLM family: Include covariates models:","code":"# Generate example data set.seed(123) n <- 200 X <- rnorm(n) M <- 0.5 * X + rnorm(n, sd = 0.8) Y <- 0.3 * M + 0.2 * X + rnorm(n, sd = 0.8) data <- data.frame(X = X, M = M, Y = Y)  # Fit mediation models model_m <- lm(M ~ X, data = data) model_y <- lm(Y ~ X + M, data = data)  # Extract mediation structure med <- extract_mediation(   model_m,           # Mediator model   model_y,           # Outcome model   treatment = \"X\",   mediator = \"M\" )  # View results print(med) summary(med)  # Indirect effect med@a_path * med@b_path # Binary outcome Y_binary <- rbinom(n, 1, prob = plogis(0.3 * M + 0.2 * X)) data$Y_binary <- Y_binary  model_m <- lm(M ~ X, data = data) model_y <- glm(Y_binary ~ X + M, data = data, family = binomial())  med <- extract_mediation(   model_m,   model_y,   treatment = \"X\",   mediator = \"M\" )  # Note: b_path and c_prime are on logit scale print(med) # Add covariates data$Z1 <- rnorm(n) data$Z2 <- rnorm(n)  model_m <- lm(M ~ X + Z1 + Z2, data = data) model_y <- lm(Y ~ X + M + Z1 + Z2, data = data)  med <- extract_mediation(   model_m,   model_y,   treatment = \"X\",   mediator = \"M\" )  # Path coefficients adjust for Z1 and Z2 print(med)"},{"path":"https://data-wise.github.io/medfit/dev/articles/extraction.html","id":"simple-mediation","dir":"Articles","previous_headings":"","what":"Simple Mediation","title":"Model Extraction","text":"simple mediation (X -> M -> Y), fit two models:","code":"# Generate example data set.seed(123) n <- 200 X <- rnorm(n) M <- 0.5 * X + rnorm(n, sd = 0.8) Y <- 0.3 * M + 0.2 * X + rnorm(n, sd = 0.8) data <- data.frame(X = X, M = M, Y = Y)  # Fit mediation models model_m <- lm(M ~ X, data = data) model_y <- lm(Y ~ X + M, data = data)  # Extract mediation structure med <- extract_mediation(   model_m,           # Mediator model   model_y,           # Outcome model   treatment = \"X\",   mediator = \"M\" )  # View results print(med) summary(med)  # Indirect effect med@a_path * med@b_path"},{"path":"https://data-wise.github.io/medfit/dev/articles/extraction.html","id":"what-gets-extracted","dir":"Articles","previous_headings":"","what":"What Gets Extracted?","title":"Model Extraction","text":"extraction captures: Path coefficients: a_path: Coefficient X mediator model (X -> M) b_path: Coefficient M outcome model (M -> Y, controlling X) c_prime: Coefficient X outcome model (direct effect) Full parameter vector: coefficients models Covariance matrix: computing standard errors functions parameters Residual variances: sigma_m^2 sigma_y^2 Gaussian models Data metadata: Sample size, variable names, convergence status","code":""},{"path":"https://data-wise.github.io/medfit/dev/articles/extraction.html","id":"glm-with-non-normal-outcomes","dir":"Articles","previous_headings":"","what":"GLM with Non-Normal Outcomes","title":"Model Extraction","text":"Works GLM family:","code":"# Binary outcome Y_binary <- rbinom(n, 1, prob = plogis(0.3 * M + 0.2 * X)) data$Y_binary <- Y_binary  model_m <- lm(M ~ X, data = data) model_y <- glm(Y_binary ~ X + M, data = data, family = binomial())  med <- extract_mediation(   model_m,   model_y,   treatment = \"X\",   mediator = \"M\" )  # Note: b_path and c_prime are on logit scale print(med)"},{"path":"https://data-wise.github.io/medfit/dev/articles/extraction.html","id":"controlling-for-covariates","dir":"Articles","previous_headings":"","what":"Controlling for Covariates","title":"Model Extraction","text":"Include covariates models:","code":"# Add covariates data$Z1 <- rnorm(n) data$Z2 <- rnorm(n)  model_m <- lm(M ~ X + Z1 + Z2, data = data) model_y <- lm(Y ~ X + M + Z1 + Z2, data = data)  med <- extract_mediation(   model_m,   model_y,   treatment = \"X\",   mediator = \"M\" )  # Path coefficients adjust for Z1 and Z2 print(med)"},{"path":"https://data-wise.github.io/medfit/dev/articles/extraction.html","id":"extracting-from-lavaan-models","dir":"Articles","previous_headings":"","what":"Extracting from lavaan Models","title":"Model Extraction","text":"serial mediation (X -> M1 -> M2 -> Y):","code":"library(lavaan)  # Define SEM model model_syntax <- \"   # Mediator model   M ~ a * X    # Outcome model   Y ~ b * M + c_prime * X    # Indirect effect   indirect := a * b    # Total effect   total := c_prime + a * b \"  # Fit model fit <- sem(model_syntax, data = data)  # Extract mediation structure med <- extract_mediation(   fit,   treatment = \"X\",   mediator = \"M\",   outcome = \"Y\" )  print(med) # Generate serial mediation data M1 <- 0.4 * X + rnorm(n, sd = 0.8) M2 <- 0.5 * M1 + 0.2 * X + rnorm(n, sd = 0.8) Y_serial <- 0.3 * M2 + 0.1 * M1 + 0.2 * X + rnorm(n, sd = 0.8) data_serial <- data.frame(X = X, M1 = M1, M2 = M2, Y = Y_serial)  # Define serial mediation model serial_syntax <- \"   # First mediator   M1 ~ a * X    # Second mediator   M2 ~ d * M1 + X    # Outcome   Y ~ b * M2 + M1 + c_prime * X    # Serial indirect effect (product-of-three)   serial_indirect := a * d * b \"  fit_serial <- sem(serial_syntax, data = data_serial)  # Extract as SerialMediationData med_serial <- extract_mediation(   fit_serial,   treatment = \"X\",   mediators = c(\"M1\", \"M2\"),   outcome = \"Y\" )  print(med_serial)  # Serial indirect effect med_serial@a_path * med_serial@d_path * med_serial@b_path"},{"path":"https://data-wise.github.io/medfit/dev/articles/extraction.html","id":"simple-mediation-in-sem","dir":"Articles","previous_headings":"","what":"Simple Mediation in SEM","title":"Model Extraction","text":"","code":"library(lavaan)  # Define SEM model model_syntax <- \"   # Mediator model   M ~ a * X    # Outcome model   Y ~ b * M + c_prime * X    # Indirect effect   indirect := a * b    # Total effect   total := c_prime + a * b \"  # Fit model fit <- sem(model_syntax, data = data)  # Extract mediation structure med <- extract_mediation(   fit,   treatment = \"X\",   mediator = \"M\",   outcome = \"Y\" )  print(med)"},{"path":"https://data-wise.github.io/medfit/dev/articles/extraction.html","id":"serial-mediation-in-sem","dir":"Articles","previous_headings":"","what":"Serial Mediation in SEM","title":"Model Extraction","text":"serial mediation (X -> M1 -> M2 -> Y):","code":"# Generate serial mediation data M1 <- 0.4 * X + rnorm(n, sd = 0.8) M2 <- 0.5 * M1 + 0.2 * X + rnorm(n, sd = 0.8) Y_serial <- 0.3 * M2 + 0.1 * M1 + 0.2 * X + rnorm(n, sd = 0.8) data_serial <- data.frame(X = X, M1 = M1, M2 = M2, Y = Y_serial)  # Define serial mediation model serial_syntax <- \"   # First mediator   M1 ~ a * X    # Second mediator   M2 ~ d * M1 + X    # Outcome   Y ~ b * M2 + M1 + c_prime * X    # Serial indirect effect (product-of-three)   serial_indirect := a * d * b \"  fit_serial <- sem(serial_syntax, data = data_serial)  # Extract as SerialMediationData med_serial <- extract_mediation(   fit_serial,   treatment = \"X\",   mediators = c(\"M1\", \"M2\"),   outcome = \"Y\" )  print(med_serial)  # Serial indirect effect med_serial@a_path * med_serial@d_path * med_serial@b_path"},{"path":"https://data-wise.github.io/medfit/dev/articles/extraction.html","id":"compatibility-with-rmediation","dir":"Articles","previous_headings":"","what":"Compatibility with RMediation","title":"Model Extraction","text":"extraction design compatible RMediation’s lavaan extractor:","code":"# RMediation extracts parameters for Distribution of Product method # medfit extracts the same structure but as S7 classes  # Both packages can work with the same fitted models # medfit provides infrastructure, RMediation adds DOP/MBCO methods"},{"path":"https://data-wise.github.io/medfit/dev/articles/extraction.html","id":"error-handling","dir":"Articles","previous_headings":"","what":"Error Handling","title":"Model Extraction","text":"extraction uses checkmate fail-fast input validation informative error messages: defensive programming approach catches errors early clear messages, making debugging easier.","code":"# Variable not in model extract_mediation(   model_m,   model_y,   treatment = \"NonExistent\",   mediator = \"M\" ) # Error: Assertion on 'treatment in mediator model' failed: #        Must be element of set {'(Intercept)','X'}, but is 'NonExistent'.  # Wrong type for treatment argument extract_mediation(   model_m,   model_y,   treatment = 123,  # Should be character   mediator = \"M\" ) # Error: Assertion on 'treatment' failed: Must be of type 'string', not 'double'.  # Mediator not in outcome model model_y_wrong <- lm(Y ~ X, data = data)  # Missing M extract_mediation(   model_m,   model_y_wrong,   treatment = \"X\",   mediator = \"M\" ) # Error: Assertion on 'mediator in outcome model' failed: #        Must be element of set {'(Intercept)','X'}, but is 'M'."},{"path":"https://data-wise.github.io/medfit/dev/articles/extraction.html","id":"advanced-topics","dir":"Articles","previous_headings":"","what":"Advanced Topics","title":"Model Extraction","text":"estimates property contains parameters models: Use covariance matrix computing standard errors:","code":"med <- extract_mediation(model_m, model_y, treatment = \"X\", mediator = \"M\")  # All parameters (intercepts + coefficients) med@estimates  # Access by name med@estimates[\"a\"]  # a_path med@estimates[\"b\"]  # b_path # Covariance matrix of all parameters vcov_mat <- med@vcov  # For delta method SE of indirect effect (a*b): # Var(ab) = b^2 * Var(a) + a^2 * Var(b) + 2ab*Cov(a,b)  a <- med@a_path b <- med@b_path var_a <- vcov_mat[\"a\", \"a\"] var_b <- vcov_mat[\"b\", \"b\"] cov_ab <- vcov_mat[\"a\", \"b\"]  var_indirect <- b^2 * var_a + a^2 * var_b + 2 * a * b * cov_ab se_indirect <- sqrt(var_indirect)  se_indirect"},{"path":"https://data-wise.github.io/medfit/dev/articles/extraction.html","id":"extracting-full-parameter-vector","dir":"Articles","previous_headings":"","what":"Extracting Full Parameter Vector","title":"Model Extraction","text":"estimates property contains parameters models:","code":"med <- extract_mediation(model_m, model_y, treatment = \"X\", mediator = \"M\")  # All parameters (intercepts + coefficients) med@estimates  # Access by name med@estimates[\"a\"]  # a_path med@estimates[\"b\"]  # b_path"},{"path":"https://data-wise.github.io/medfit/dev/articles/extraction.html","id":"covariance-matrix-for-delta-method","dir":"Articles","previous_headings":"","what":"Covariance Matrix for Delta Method","title":"Model Extraction","text":"Use covariance matrix computing standard errors:","code":"# Covariance matrix of all parameters vcov_mat <- med@vcov  # For delta method SE of indirect effect (a*b): # Var(ab) = b^2 * Var(a) + a^2 * Var(b) + 2ab*Cov(a,b)  a <- med@a_path b <- med@b_path var_a <- vcov_mat[\"a\", \"a\"] var_b <- vcov_mat[\"b\", \"b\"] cov_ab <- vcov_mat[\"a\", \"b\"]  var_indirect <- b^2 * var_a + a^2 * var_b + 2 * a * b * cov_ab se_indirect <- sqrt(var_indirect)  se_indirect"},{"path":"https://data-wise.github.io/medfit/dev/articles/extraction.html","id":"design-for-extensibility","dir":"Articles","previous_headings":"","what":"Design for Extensibility","title":"Model Extraction","text":"extraction system designed accommodate future extensions: New model types: Add methods lmer, brms, etc. Complex mediation: Multiple mediators, moderated mediation Multiple treatments: Comparative mediation analysis Latent variables: SEM measurement models methods return S7 class structure, ensuring consistency.","code":""},{"path":"https://data-wise.github.io/medfit/dev/articles/extraction.html","id":"next-steps","dir":"Articles","previous_headings":"","what":"Next Steps","title":"Model Extraction","text":"Learn bootstrap inference extracted models See introduction S7 class details Check reference documentation extract_mediation() methods","code":""},{"path":"https://data-wise.github.io/medfit/dev/articles/extraction.html","id":"development-status","dir":"Articles","previous_headings":"","what":"Development Status","title":"Model Extraction","text":"Phase 3 (Model Extraction) complete: ✅ S7 class definitions (MediationData, SerialMediationData) ✅ lm/glm extraction checkmate validation ✅ lavaan extraction checkmate validation 📋 lmer extraction (future) Note: OpenMx extraction postponed future release. See NEWS.md updates.","code":""},{"path":"https://data-wise.github.io/medfit/dev/articles/getting-started.html","id":"what-is-medfit","dir":"Articles","previous_headings":"","what":"What is medfit?","title":"Getting Started with medfit","text":"medfit provides unified infrastructure mediation analysis R. offers: S7-based classes standardized mediation data structures Generic functions model fitting, extraction, inference Foundation specialized mediation packages (probmed, RMediation, medrobust)","code":""},{"path":"https://data-wise.github.io/medfit/dev/articles/getting-started.html","id":"quick-start","dir":"Articles","previous_headings":"","what":"Quick Start","title":"Getting Started with medfit","text":"serial mediation (X -> M1 -> M2 -> Y):","code":"# Simple mediation: X -> M -> Y med_data <- MediationData(   a_path = 0.5,           # X -> M effect   b_path = 0.3,           # M -> Y effect (controlling for X)   c_prime = 0.2,          # X -> Y direct effect   treatment = \"X\",   mediator = \"M\",   outcome = \"Y\",   estimates = c(a = 0.5, b = 0.3, c_prime = 0.2),   vcov = diag(3) * 0.01,  # Covariance matrix   n_obs = 100L,   converged = TRUE,   source_package = \"medfit\" )  # View the object print(med_data) # Indirect effect = a * b med_data@a_path * med_data@b_path serial_data <- SerialMediationData(   a_path = 0.4,           # X -> M1   d_path = 0.5,           # M1 -> M2   b_path = 0.3,           # M2 -> Y   c_prime = 0.2,          # X -> Y direct effect   treatment = \"X\",   mediators = c(\"M1\", \"M2\"),   outcome = \"Y\",   estimates = c(a = 0.4, d = 0.5, b = 0.3, c_prime = 0.2),   vcov = diag(4) * 0.01,   mediator_predictors = list(M1 = \"X\", M2 = c(\"X\", \"M1\")),   outcome_predictors = c(\"X\", \"M1\", \"M2\"),   n_obs = 100L,   converged = TRUE,   source_package = \"medfit\" )  # Serial indirect effect = a * d * b serial_data@a_path * serial_data@d_path * serial_data@b_path"},{"path":"https://data-wise.github.io/medfit/dev/articles/getting-started.html","id":"create-a-mediation-data-object","dir":"Articles","previous_headings":"","what":"Create a Mediation Data Object","title":"Getting Started with medfit","text":"","code":"# Simple mediation: X -> M -> Y med_data <- MediationData(   a_path = 0.5,           # X -> M effect   b_path = 0.3,           # M -> Y effect (controlling for X)   c_prime = 0.2,          # X -> Y direct effect   treatment = \"X\",   mediator = \"M\",   outcome = \"Y\",   estimates = c(a = 0.5, b = 0.3, c_prime = 0.2),   vcov = diag(3) * 0.01,  # Covariance matrix   n_obs = 100L,   converged = TRUE,   source_package = \"medfit\" )  # View the object print(med_data)"},{"path":"https://data-wise.github.io/medfit/dev/articles/getting-started.html","id":"compute-indirect-effect","dir":"Articles","previous_headings":"","what":"Compute Indirect Effect","title":"Getting Started with medfit","text":"","code":"# Indirect effect = a * b med_data@a_path * med_data@b_path"},{"path":"https://data-wise.github.io/medfit/dev/articles/getting-started.html","id":"serial-mediation","dir":"Articles","previous_headings":"","what":"Serial Mediation","title":"Getting Started with medfit","text":"serial mediation (X -> M1 -> M2 -> Y):","code":"serial_data <- SerialMediationData(   a_path = 0.4,           # X -> M1   d_path = 0.5,           # M1 -> M2   b_path = 0.3,           # M2 -> Y   c_prime = 0.2,          # X -> Y direct effect   treatment = \"X\",   mediators = c(\"M1\", \"M2\"),   outcome = \"Y\",   estimates = c(a = 0.4, d = 0.5, b = 0.3, c_prime = 0.2),   vcov = diag(4) * 0.01,   mediator_predictors = list(M1 = \"X\", M2 = c(\"X\", \"M1\")),   outcome_predictors = c(\"X\", \"M1\", \"M2\"),   n_obs = 100L,   converged = TRUE,   source_package = \"medfit\" )  # Serial indirect effect = a * d * b serial_data@a_path * serial_data@d_path * serial_data@b_path"},{"path":"https://data-wise.github.io/medfit/dev/articles/getting-started.html","id":"main-functions","dir":"Articles","previous_headings":"","what":"Main Functions","title":"Getting Started with medfit","text":"medfit provides three main functions: easiest way get started: already fitted models: Compute confidence intervals:","code":"library(medfit)  # Create example data set.seed(123) n <- 200 X <- rnorm(n) M <- 0.5 * X + rnorm(n) Y <- 0.3 * X + 0.4 * M + rnorm(n) mydata <- data.frame(X = X, M = M, Y = Y)  # Fit mediation model med <- fit_mediation(   formula_y = Y ~ X + M,   formula_m = M ~ X,   data = mydata,   treatment = \"X\",   mediator = \"M\" )  # View results print(med)  # Access path coefficients med@a_path  # X -> M med@b_path  # M -> Y med@c_prime # X -> Y (direct)  # Indirect effect med@a_path * med@b_path # Fit models separately fit_m <- lm(M ~ X, data = mydata) fit_y <- lm(Y ~ X + M, data = mydata)  # Extract mediation structure med <- extract_mediation(   fit_m,   model_y = fit_y,   treatment = \"X\",   mediator = \"M\" ) # Define statistic function indirect_effect <- function(theta) {   theta[\"m_X\"] * theta[\"y_M\"] }  # Bootstrap CI boot_result <- bootstrap_mediation(   statistic_fn = indirect_effect,   method = \"parametric\",   mediation_data = med,   n_boot = 1000,   ci_level = 0.95,   seed = 123 )  print(boot_result)"},{"path":"https://data-wise.github.io/medfit/dev/articles/getting-started.html","id":"fit_mediation---fit-models-directly","dir":"Articles","previous_headings":"","what":"1. fit_mediation() - Fit Models Directly","title":"Getting Started with medfit","text":"easiest way get started:","code":"library(medfit)  # Create example data set.seed(123) n <- 200 X <- rnorm(n) M <- 0.5 * X + rnorm(n) Y <- 0.3 * X + 0.4 * M + rnorm(n) mydata <- data.frame(X = X, M = M, Y = Y)  # Fit mediation model med <- fit_mediation(   formula_y = Y ~ X + M,   formula_m = M ~ X,   data = mydata,   treatment = \"X\",   mediator = \"M\" )  # View results print(med)  # Access path coefficients med@a_path  # X -> M med@b_path  # M -> Y med@c_prime # X -> Y (direct)  # Indirect effect med@a_path * med@b_path"},{"path":"https://data-wise.github.io/medfit/dev/articles/getting-started.html","id":"extract_mediation---extract-from-fitted-models","dir":"Articles","previous_headings":"","what":"2. extract_mediation() - Extract from Fitted Models","title":"Getting Started with medfit","text":"already fitted models:","code":"# Fit models separately fit_m <- lm(M ~ X, data = mydata) fit_y <- lm(Y ~ X + M, data = mydata)  # Extract mediation structure med <- extract_mediation(   fit_m,   model_y = fit_y,   treatment = \"X\",   mediator = \"M\" )"},{"path":"https://data-wise.github.io/medfit/dev/articles/getting-started.html","id":"bootstrap_mediation---bootstrap-inference","dir":"Articles","previous_headings":"","what":"3. bootstrap_mediation() - Bootstrap Inference","title":"Getting Started with medfit","text":"Compute confidence intervals:","code":"# Define statistic function indirect_effect <- function(theta) {   theta[\"m_X\"] * theta[\"y_M\"] }  # Bootstrap CI boot_result <- bootstrap_mediation(   statistic_fn = indirect_effect,   method = \"parametric\",   mediation_data = med,   n_boot = 1000,   ci_level = 0.95,   seed = 123 )  print(boot_result)"},{"path":"https://data-wise.github.io/medfit/dev/articles/getting-started.html","id":"learn-more","dir":"Articles","previous_headings":"","what":"Learn More","title":"Getting Started with medfit","text":"Introduction medfit - Detailed S7 class documentation Model Extraction - Extract lm, glm, lavaan models Bootstrap Inference - Parametric nonparametric bootstrap","code":""},{"path":"https://data-wise.github.io/medfit/dev/articles/getting-started.html","id":"development-status","dir":"Articles","previous_headings":"","what":"Development Status","title":"Getting Started with medfit","text":"medfit active development: ✅ Phase 2 Complete: S7 class architecture ✅ Phase 3 Complete: Model extraction (lm/glm, lavaan) ✅ Phase 4 Complete: Model fitting (fit_mediation()) ✅ Phase 5 Complete: Bootstrap infrastructure (bootstrap_mediation()) See NEWS.md latest updates.","code":""},{"path":"https://data-wise.github.io/medfit/dev/articles/introduction.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Introduction to medfit","text":"medfit provides unified infrastructure mediation analysis R. offers: S7-based classes standardized mediation data structures Generic functions model fitting, extraction, inference Foundation mediation analysis ecosystem (probmed, RMediation, medrobust) package eliminates code duplication across mediation packages providing shared infrastructure allowing package focus unique methodological contributions.","code":""},{"path":"https://data-wise.github.io/medfit/dev/articles/introduction.html","id":"core-s7-classes","dir":"Articles","previous_headings":"","what":"Core S7 Classes","title":"Introduction to medfit","text":"medfit defines three main S7 classes represent mediation structures: Stores simple mediation models (X -> M -> Y): indirect effect computed * b: Stores serial mediation models (X -> M1 -> M2 -> … -> Y): two mediators, serial indirect effect * d * b: Design extensibility: 3+ mediators, d_path becomes vector: - 3 mediators: * d21 * d32 * b (product--four) - k mediators: product--(k+1) Stores bootstrap inference results:","code":"# Example: Create a MediationData object med_data <- MediationData(   a_path = 0.5,           # X -> M effect   b_path = 0.3,           # M -> Y effect (controlling for X)   c_prime = 0.2,          # X -> Y direct effect   treatment = \"X\",   mediator = \"M\",   outcome = \"Y\",   estimates = c(a = 0.5, b = 0.3, c_prime = 0.2),   vcov = diag(3) * 0.01,  # Covariance matrix   n_obs = 100L,   converged = TRUE,   source_package = \"medfit\" )  # Print method shows key information print(med_data)  # Summary method provides details summary(med_data) # Access path coefficients med_data@a_path med_data@b_path  # Indirect effect med_data@a_path * med_data@b_path # Example: Two-mediator serial mediation (X -> M1 -> M2 -> Y) serial_data <- SerialMediationData(   a_path = 0.4,           # X -> M1   d_path = 0.5,           # M1 -> M2 (scalar for 2 mediators)   b_path = 0.3,           # M2 -> Y   c_prime = 0.2,          # X -> Y direct effect   treatment = \"X\",   mediators = c(\"M1\", \"M2\"),   outcome = \"Y\",   estimates = c(a = 0.4, d = 0.5, b = 0.3, c_prime = 0.2),   vcov = diag(4) * 0.01,   mediator_predictors = list(M1 = \"X\", M2 = c(\"X\", \"M1\")),   outcome_predictors = c(\"X\", \"M1\", \"M2\"),   n_obs = 100L,   converged = TRUE,   source_package = \"medfit\" )  print(serial_data) # Serial indirect effect (product-of-three) serial_data@a_path * serial_data@d_path * serial_data@b_path # Example: Bootstrap result for indirect effect boot_result <- BootstrapResult(   estimate = 0.15,        # Point estimate (a * b)   ci_lower = 0.08,        # Lower CI bound   ci_upper = 0.25,        # Upper CI bound   ci_level = 0.95,        # Confidence level   boot_estimates = rnorm(1000, mean = 0.15, sd = 0.04),  # Bootstrap distribution   n_boot = 1000L,   method = \"parametric\",   converged = TRUE )  print(boot_result) summary(boot_result)"},{"path":"https://data-wise.github.io/medfit/dev/articles/introduction.html","id":"mediationdata","dir":"Articles","previous_headings":"","what":"MediationData","title":"Introduction to medfit","text":"Stores simple mediation models (X -> M -> Y): indirect effect computed * b:","code":"# Example: Create a MediationData object med_data <- MediationData(   a_path = 0.5,           # X -> M effect   b_path = 0.3,           # M -> Y effect (controlling for X)   c_prime = 0.2,          # X -> Y direct effect   treatment = \"X\",   mediator = \"M\",   outcome = \"Y\",   estimates = c(a = 0.5, b = 0.3, c_prime = 0.2),   vcov = diag(3) * 0.01,  # Covariance matrix   n_obs = 100L,   converged = TRUE,   source_package = \"medfit\" )  # Print method shows key information print(med_data)  # Summary method provides details summary(med_data) # Access path coefficients med_data@a_path med_data@b_path  # Indirect effect med_data@a_path * med_data@b_path"},{"path":"https://data-wise.github.io/medfit/dev/articles/introduction.html","id":"serialmediationdata","dir":"Articles","previous_headings":"","what":"SerialMediationData","title":"Introduction to medfit","text":"Stores serial mediation models (X -> M1 -> M2 -> … -> Y): two mediators, serial indirect effect * d * b: Design extensibility: 3+ mediators, d_path becomes vector: - 3 mediators: * d21 * d32 * b (product--four) - k mediators: product--(k+1)","code":"# Example: Two-mediator serial mediation (X -> M1 -> M2 -> Y) serial_data <- SerialMediationData(   a_path = 0.4,           # X -> M1   d_path = 0.5,           # M1 -> M2 (scalar for 2 mediators)   b_path = 0.3,           # M2 -> Y   c_prime = 0.2,          # X -> Y direct effect   treatment = \"X\",   mediators = c(\"M1\", \"M2\"),   outcome = \"Y\",   estimates = c(a = 0.4, d = 0.5, b = 0.3, c_prime = 0.2),   vcov = diag(4) * 0.01,   mediator_predictors = list(M1 = \"X\", M2 = c(\"X\", \"M1\")),   outcome_predictors = c(\"X\", \"M1\", \"M2\"),   n_obs = 100L,   converged = TRUE,   source_package = \"medfit\" )  print(serial_data) # Serial indirect effect (product-of-three) serial_data@a_path * serial_data@d_path * serial_data@b_path"},{"path":"https://data-wise.github.io/medfit/dev/articles/introduction.html","id":"bootstrapresult","dir":"Articles","previous_headings":"","what":"BootstrapResult","title":"Introduction to medfit","text":"Stores bootstrap inference results:","code":"# Example: Bootstrap result for indirect effect boot_result <- BootstrapResult(   estimate = 0.15,        # Point estimate (a * b)   ci_lower = 0.08,        # Lower CI bound   ci_upper = 0.25,        # Upper CI bound   ci_level = 0.95,        # Confidence level   boot_estimates = rnorm(1000, mean = 0.15, sd = 0.04),  # Bootstrap distribution   n_boot = 1000L,   method = \"parametric\",   converged = TRUE )  print(boot_result) summary(boot_result)"},{"path":"https://data-wise.github.io/medfit/dev/articles/introduction.html","id":"main-functions","dir":"Articles","previous_headings":"","what":"Main Functions","title":"Introduction to medfit","text":"medfit provides three generic functions work across different model types: Extract mediation structure fitted models: See vignette(\"extraction\") details. Fit mediation models directly: Perform bootstrap inference indirect effects: See vignette(\"bootstrap\") details.","code":"# From lm/glm models med <- extract_mediation(   model_m,           # Mediator model (M ~ X)   model_y,           # Outcome model (Y ~ X + M)   treatment = \"X\",   mediator = \"M\" )  # From lavaan SEM models med <- extract_mediation(   lavaan_fit,   treatment = \"X\",   mediator = \"M\",   outcome = \"Y\" ) # Fit using GLM engine med <- fit_mediation(   data = mydata,   treatment = \"X\",   mediator = \"M\",   outcome = \"Y\",   engine = \"glm\",   family_m = gaussian(),   family_y = gaussian() ) # Parametric bootstrap boot_result <- bootstrap_mediation(   med_data,   method = \"parametric\",   n_boot = 1000,   ci_level = 0.95,   parallel = TRUE )  # Nonparametric bootstrap (resamples data, refits models) boot_result <- bootstrap_mediation(   med_data,   method = \"nonparametric\",   n_boot = 1000 )"},{"path":"https://data-wise.github.io/medfit/dev/articles/introduction.html","id":"extract_mediation","dir":"Articles","previous_headings":"","what":"extract_mediation()","title":"Introduction to medfit","text":"Extract mediation structure fitted models: See vignette(\"extraction\") details.","code":"# From lm/glm models med <- extract_mediation(   model_m,           # Mediator model (M ~ X)   model_y,           # Outcome model (Y ~ X + M)   treatment = \"X\",   mediator = \"M\" )  # From lavaan SEM models med <- extract_mediation(   lavaan_fit,   treatment = \"X\",   mediator = \"M\",   outcome = \"Y\" )"},{"path":"https://data-wise.github.io/medfit/dev/articles/introduction.html","id":"fit_mediation","dir":"Articles","previous_headings":"","what":"fit_mediation()","title":"Introduction to medfit","text":"Fit mediation models directly:","code":"# Fit using GLM engine med <- fit_mediation(   data = mydata,   treatment = \"X\",   mediator = \"M\",   outcome = \"Y\",   engine = \"glm\",   family_m = gaussian(),   family_y = gaussian() )"},{"path":"https://data-wise.github.io/medfit/dev/articles/introduction.html","id":"bootstrap_mediation","dir":"Articles","previous_headings":"","what":"bootstrap_mediation()","title":"Introduction to medfit","text":"Perform bootstrap inference indirect effects: See vignette(\"bootstrap\") details.","code":"# Parametric bootstrap boot_result <- bootstrap_mediation(   med_data,   method = \"parametric\",   n_boot = 1000,   ci_level = 0.95,   parallel = TRUE )  # Nonparametric bootstrap (resamples data, refits models) boot_result <- bootstrap_mediation(   med_data,   method = \"nonparametric\",   n_boot = 1000 )"},{"path":"https://data-wise.github.io/medfit/dev/articles/introduction.html","id":"package-ecosystem","dir":"Articles","previous_headings":"","what":"Package Ecosystem","title":"Introduction to medfit","text":"medfit serves foundation specialized mediation packages: Uses medfit infrastructure Adds P_med computation visualization Uses medfit extraction Adds Distribution Product (DOP), MBCO tests Uses medfit baseline estimates Adds bounds computation, falsification tests","code":""},{"path":"https://data-wise.github.io/medfit/dev/articles/introduction.html","id":"design-principles","dir":"Articles","previous_headings":"","what":"Design Principles","title":"Introduction to medfit","text":"Type safety: S7 classes validators ensure data integrity Defensive programming: checkmate assertions fail-fast input validation Consistency: Standardized interfaces across model types Extensibility: Easy add new model engines methods Minimal dependencies: Core functionality minimal external dependencies Infrastructure focus: Provides tools, effect sizes","code":""},{"path":"https://data-wise.github.io/medfit/dev/articles/introduction.html","id":"next-steps","dir":"Articles","previous_headings":"","what":"Next Steps","title":"Introduction to medfit","text":"Learn model extraction different sources Explore bootstrap inference methods See reference documentation detailed API information","code":""},{"path":"https://data-wise.github.io/medfit/dev/articles/introduction.html","id":"development-status","dir":"Articles","previous_headings":"","what":"Development Status","title":"Introduction to medfit","text":"medfit active development. Current status: ✅ Phase 2 Complete: S7 class architecture ✅ Phase 3 Complete: Model extraction (lm/glm, lavaan) 🚧 Phase 4 Progress: Model fitting 📋 Planned: Bootstrap infrastructure See NEWS.md latest updates.","code":""},{"path":"https://data-wise.github.io/medfit/dev/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Davood Tofighi. Author, maintainer.","code":""},{"path":"https://data-wise.github.io/medfit/dev/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Tofighi D (2025). medfit: Infrastructure Mediation Model Fitting Extraction. R package version 0.1.0.9000, https://data-wise.github.io/medfit/.","code":"@Manual{,   title = {medfit: Infrastructure for Mediation Model Fitting and Extraction},   author = {Davood Tofighi},   year = {2025},   note = {R package version 0.1.0.9000},   url = {https://data-wise.github.io/medfit/}, }"},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/index.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"medfit: Infrastructure for Mediation Analysis in R","text":"medfit provides unified S7-based infrastructure fitting mediation models, extracting path coefficients, performing bootstrap inference. serves foundation package mediation analysis ecosystem, supporting probmed, RMediation, medrobust.","code":""},{"path":"https://data-wise.github.io/medfit/dev/index.html","id":"key-features","dir":"","previous_headings":"Overview","what":"Key Features","title":"medfit: Infrastructure for Mediation Analysis in R","text":"Unified Model Extraction: Extract mediation structure various model types (lm, glm, lavaan) Flexible Model Fitting: Fit mediation models using different engines (GLM, future support mixed models Bayesian methods) Robust Bootstrap Inference: Three bootstrap methods (parametric, nonparametric, plugin) parallel processing support Type-Safe S7 Classes: Modern object-oriented design ensuring data integrity Ecosystem Foundation: Shared infrastructure eliminating redundancy across mediation packages","code":""},{"path":"https://data-wise.github.io/medfit/dev/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"medfit: Infrastructure for Mediation Analysis in R","text":"can install development version medfit GitHub: using remotes:","code":"# install.packages(\"pak\") pak::pak(\"data-wise/medfit\") # install.packages(\"remotes\") remotes::install_github(\"data-wise/medfit\")"},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/index.html","id":"extract-mediation-structure-from-fitted-models","dir":"","previous_headings":"Quick Start","what":"Extract Mediation Structure from Fitted Models","title":"medfit: Infrastructure for Mediation Analysis in R","text":"","code":"library(medfit)  # Simulate data set.seed(123) n <- 200 X <- rnorm(n) M <- 0.5 * X + rnorm(n) Y <- 0.3 * M + 0.2 * X + rnorm(n) data <- data.frame(X = X, M = M, Y = Y)  # Fit models fit_m <- lm(M ~ X, data = data) fit_y <- lm(Y ~ X + M, data = data)  # Extract mediation structure med_data <- extract_mediation(   fit_m,   model_y = fit_y,   treatment = \"X\",   mediator = \"M\" )  print(med_data)"},{"path":"https://data-wise.github.io/medfit/dev/index.html","id":"fit-mediation-models-directly","dir":"","previous_headings":"Quick Start","what":"Fit Mediation Models Directly","title":"medfit: Infrastructure for Mediation Analysis in R","text":"","code":"med_data <- fit_mediation(   formula_y = Y ~ X + M,   formula_m = M ~ X,   data = data,   treatment = \"X\",   mediator = \"M\",   engine = \"glm\" )"},{"path":"https://data-wise.github.io/medfit/dev/index.html","id":"bootstrap-inference","dir":"","previous_headings":"Quick Start","what":"Bootstrap Inference","title":"medfit: Infrastructure for Mediation Analysis in R","text":"","code":"result <- bootstrap_mediation(   statistic_fn = function(theta) theta[\"a\"] * theta[\"b\"],   method = \"parametric\",   mediation_data = med_data,   n_boot = 5000,   ci_level = 0.95,   seed = 12345 )  print(result)"},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/index.html","id":"s7-classes","dir":"","previous_headings":"Core Components","what":"S7 Classes","title":"medfit: Infrastructure for Mediation Analysis in R","text":"Path coefficients (, b, c’) Parameter estimates variance-covariance matrix Residual variances (Gaussian models) Variable names metadata Supports product--three (2 mediators) product--k (3+ mediators) Flexible design compatible lavaan extraction patterns Extensible complex mediation structures Point estimates confidence intervals Bootstrap distribution Method metadata","code":""},{"path":"https://data-wise.github.io/medfit/dev/index.html","id":"main-functions","dir":"","previous_headings":"Core Components","what":"Main Functions","title":"medfit: Infrastructure for Mediation Analysis in R","text":"Methods : lm, glm, lavaan Engines: GLM (lmer, brms coming soon) Methods: parametric, nonparametric, plugin Parallel processing support","code":""},{"path":"https://data-wise.github.io/medfit/dev/index.html","id":"mediationverse-ecosystem","dir":"","previous_headings":"","what":"Mediationverse Ecosystem","title":"medfit: Infrastructure for Mediation Analysis in R","text":"medfit foundation mediationverse ecosystem: See Ecosystem Coordination version compatibility development guidelines.","code":""},{"path":"https://data-wise.github.io/medfit/dev/index.html","id":"documentation","dir":"","previous_headings":"","what":"Documentation","title":"medfit: Infrastructure for Mediation Analysis in R","text":"Comprehensive Quarto vignettes available: Get Started: Quick introduction medfit Introduction: Detailed S7 class documentation Model Extraction: Extract lm/glm/lavaan models Bootstrap Inference: Parametric nonparametric bootstrap methods","code":""},{"path":"https://data-wise.github.io/medfit/dev/index.html","id":"development-status","dir":"","previous_headings":"","what":"Development Status","title":"medfit: Infrastructure for Mediation Analysis in R","text":"Current Phase: MVP Development (Phase 5 Complete) Phase 1: Package setup Phase 2: S7 class architecture (SerialMediationData) Phase 2.5: Comprehensive Quarto documentation Phase 3: Model extraction (lm/glm, lavaan) Phase 4: Model fitting (GLM engine) Phase 5: Bootstrap infrastructure (parametric, nonparametric, plugin) Phase 6: Extended testing Phase 7: Polish & release","code":""},{"path":"https://data-wise.github.io/medfit/dev/index.html","id":"code-quality","dir":"","previous_headings":"Development Status","what":"Code Quality","title":"medfit: Infrastructure for Mediation Analysis in R","text":"Defensive Programming: checkmate input validation, S7 validators class integrity Testing: 184 tests testthat, code coverage tracking CI/CD: R CMD check, lintr, coverage reporting via GitHub Actions See planning/medfit-roadmap.md detailed development plan.","code":""},{"path":"https://data-wise.github.io/medfit/dev/index.html","id":"contributing","dir":"","previous_headings":"","what":"Contributing","title":"medfit: Infrastructure for Mediation Analysis in R","text":"package active development. Contributions welcome! Please: Fork repository Create feature branch dev Make changes tests Submit pull request dev","code":""},{"path":"https://data-wise.github.io/medfit/dev/index.html","id":"code-of-conduct","dir":"","previous_headings":"","what":"Code of Conduct","title":"medfit: Infrastructure for Mediation Analysis in R","text":"Please note medfit project released Contributor Code Conduct. contributing project, agree abide terms.","code":""},{"path":"https://data-wise.github.io/medfit/dev/index.html","id":"license","dir":"","previous_headings":"","what":"License","title":"medfit: Infrastructure for Mediation Analysis in R","text":"GPL (>= 3)","code":""},{"path":"https://data-wise.github.io/medfit/dev/index.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"medfit: Infrastructure for Mediation Analysis in R","text":"use medfit research, please cite:","code":"Tofighi, D. (2025). medfit: Infrastructure for mediation analysis in R. R package version 0.1.0. https://github.com/data-wise/medfit"},{"path":"https://data-wise.github.io/medfit/dev/index.html","id":"related-resources","dir":"","previous_headings":"","what":"Related Resources","title":"medfit: Infrastructure for Mediation Analysis in R","text":"Package Documentation Development Guide Roadmap Ecosystem Strategy","code":""},{"path":"https://data-wise.github.io/medfit/dev/index.html","id":"contact","dir":"","previous_headings":"","what":"Contact","title":"medfit: Infrastructure for Mediation Analysis in R","text":"Author: Davood Tofighi Email: dtofighi@gmail.com ORCID: 0000-0001-8523-7776 Issues: GitHub Issues","code":""},{"path":"https://data-wise.github.io/medfit/dev/reference/BootstrapResult.html","id":null,"dir":"Reference","previous_headings":"","what":"BootstrapResult S7 Class — BootstrapResult","title":"BootstrapResult S7 Class — BootstrapResult","text":"S7 class containing results bootstrap inference, including point estimates, confidence intervals, bootstrap distribution.","code":""},{"path":"https://data-wise.github.io/medfit/dev/reference/BootstrapResult.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"BootstrapResult S7 Class — BootstrapResult","text":"","code":"BootstrapResult(   estimate = integer(0),   ci_lower = integer(0),   ci_upper = integer(0),   ci_level = integer(0),   boot_estimates = integer(0),   n_boot = integer(0),   method = character(0),   call = quote({  }) )"},{"path":"https://data-wise.github.io/medfit/dev/reference/BootstrapResult.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"BootstrapResult S7 Class — BootstrapResult","text":"estimate Numeric scalar: point estimate statistic ci_lower Numeric scalar: lower bound confidence interval ci_upper Numeric scalar: upper bound confidence interval ci_level Numeric scalar: confidence level (e.g., 0.95 95% CI) boot_estimates Numeric vector: bootstrap distribution estimates n_boot Integer scalar: number bootstrap samples method Character scalar: bootstrap method (\"parametric\", \"nonparametric\", \"plugin\") call Call object NULL: original function call","code":""},{"path":"https://data-wise.github.io/medfit/dev/reference/BootstrapResult.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"BootstrapResult S7 Class — BootstrapResult","text":"BootstrapResult S7 object","code":""},{"path":"https://data-wise.github.io/medfit/dev/reference/BootstrapResult.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"BootstrapResult S7 Class — BootstrapResult","text":"class standardizes bootstrap inference results across different bootstrap methods (parametric, nonparametric, plugin). class includes validation ensure consistency method type required fields.","code":""},{"path":"https://data-wise.github.io/medfit/dev/reference/BootstrapResult.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"BootstrapResult S7 Class — BootstrapResult","text":"","code":"if (FALSE) { # \\dontrun{ # Parametric bootstrap result result <- BootstrapResult(   estimate = 0.15,   ci_lower = 0.10,   ci_upper = 0.20,   ci_level = 0.95,   boot_estimates = rnorm(1000, 0.15, 0.02),   n_boot = 1000L,   method = \"parametric\",   call = NULL ) } # }"},{"path":"https://data-wise.github.io/medfit/dev/reference/MediationData.html","id":null,"dir":"Reference","previous_headings":"","what":"MediationData S7 Class — MediationData","title":"MediationData S7 Class — MediationData","text":"S7 class containing standardized mediation model structure, including path coefficients, parameter estimates, variance-covariance matrix, metadata.","code":""},{"path":"https://data-wise.github.io/medfit/dev/reference/MediationData.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"MediationData S7 Class — MediationData","text":"a_path Numeric scalar: effect treatment mediator (path) b_path Numeric scalar: effect mediator outcome (b path) c_prime Numeric scalar: direct effect treatment outcome (c' path) estimates Numeric vector: parameter estimates vcov Numeric matrix: variance-covariance matrix estimates sigma_m Numeric scalar NULL: residual SD mediator model sigma_y Numeric scalar NULL: residual SD outcome model treatment Character scalar: name treatment variable mediator Character scalar: name mediator variable outcome Character scalar: name outcome variable mediator_predictors Character vector: predictor names mediator model outcome_predictors Character vector: predictor names outcome model data Data frame NULL: original data n_obs Integer scalar: number observations converged Logical scalar: whether models converged source_package Character scalar: package/engine used fitting","code":""},{"path":"https://data-wise.github.io/medfit/dev/reference/MediationData.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"MediationData S7 Class — MediationData","text":"MediationData S7 object","code":""},{"path":"https://data-wise.github.io/medfit/dev/reference/MediationData.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"MediationData S7 Class — MediationData","text":"class provides unified container mediation model information extracted various model types (lm, glm, lavaan, etc.). ensures consistency across mediation analysis ecosystem. class includes comprehensive validation ensure data integrity.","code":""},{"path":"https://data-wise.github.io/medfit/dev/reference/MediationData.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"MediationData S7 Class — MediationData","text":"","code":"if (FALSE) { # \\dontrun{ # Create a MediationData object med_data <- MediationData(   a_path = 0.5,   b_path = 0.3,   c_prime = 0.2,   estimates = c(0.5, 0.3, 0.2),   vcov = diag(3) * 0.01,   sigma_m = 1.0,   sigma_y = 1.2,   treatment = \"X\",   mediator = \"M\",   outcome = \"Y\",   mediator_predictors = \"X\",   outcome_predictors = c(\"X\", \"M\"),   data = NULL,   n_obs = 100L,   converged = TRUE,   source_package = \"stats\" ) } # }"},{"path":"https://data-wise.github.io/medfit/dev/reference/SerialMediationData.html","id":null,"dir":"Reference","previous_headings":"","what":"SerialMediationData S7 Class — SerialMediationData","title":"SerialMediationData S7 Class — SerialMediationData","text":"S7 class serial mediation models effect flows multiple mediators sequence: X -> M1 -> M2 -> ... -> Mk -> Y. class supports serial mediation chains length, simple two-mediator models (product--three: * d * b) complex chains many mediators (product--k).","code":""},{"path":"https://data-wise.github.io/medfit/dev/reference/SerialMediationData.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"SerialMediationData S7 Class — SerialMediationData","text":"a_path Numeric scalar: effect treatment first mediator (X -> M1) d_path Numeric vector: sequential mediator--mediator effects 2 mediators (X -> M1 -> M2 -> Y): scalar d21 (M1 -> M2) 3 mediators (X -> M1 -> M2 -> M3 -> Y): c(d21, d32) k mediators: vector length (k-1) b_path Numeric scalar: effect last mediator outcome (Mk -> Y) c_prime Numeric scalar: direct effect treatment outcome (X -> Y) estimates Numeric vector: parameter estimates vcov Numeric matrix: variance-covariance matrix estimates sigma_mediators Numeric vector NULL: residual SDs mediator models. Length match number mediators. First element residual SD M1 model, second element M2 model, etc. sigma_y Numeric scalar NULL: residual SD outcome model treatment Character scalar: name treatment variable mediators Character vector: names mediators sequential order. First element M1, second element M2, etc. outcome Character scalar: name outcome variable mediator_predictors List character vectors: predictor names mediator model. First list element contains predictors M1 (typically just \"X\"), second element contains predictors M2 (typically c(\"X\", \"M1\")), etc. outcome_predictors Character vector: predictor names outcome model data Data frame NULL: original data n_obs Integer scalar: number observations converged Logical scalar: whether models converged source_package Character scalar: package/engine used fitting","code":""},{"path":"https://data-wise.github.io/medfit/dev/reference/SerialMediationData.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"SerialMediationData S7 Class — SerialMediationData","text":"SerialMediationData S7 object","code":""},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/reference/SerialMediationData.html","id":"serial-mediation-structure","dir":"Reference","previous_headings":"","what":"Serial Mediation Structure","title":"SerialMediationData S7 Class — SerialMediationData","text":"Serial mediation models indirect effect flowing sequence mediators. total indirect effect product path coefficients: 2 mediators (product--three): Indirect = * d * b 3 mediators (product--four): Indirect = * d21 * d32 * b k mediators (product--k+1): Indirect = * d21 * d32 * ... * d(k,k-1) * b","code":""},{"path":"https://data-wise.github.io/medfit/dev/reference/SerialMediationData.html","id":"path-notation","dir":"Reference","previous_headings":"","what":"Path Notation","title":"SerialMediationData S7 Class — SerialMediationData","text":": Treatment -> First mediator (X -> M1) d21: First -> Second mediator (M1 -> M2) d32: Second -> Third mediator (M2 -> M3) dji: Previous mediator -> Current mediator b: Last mediator -> Outcome (Mk -> Y) c': Direct effect (X -> Y, controlling mediators)","code":""},{"path":"https://data-wise.github.io/medfit/dev/reference/SerialMediationData.html","id":"extensibility","dir":"Reference","previous_headings":"","what":"Extensibility","title":"SerialMediationData S7 Class — SerialMediationData","text":"class designed handle serial chains length: Minimal case: 2 mediators (length(d_path) = 1) upper limit chain length Validator ensures consistency mediators paths","code":""},{"path":"https://data-wise.github.io/medfit/dev/reference/SerialMediationData.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"SerialMediationData S7 Class — SerialMediationData","text":"","code":"if (FALSE) { # \\dontrun{ # Two-mediator serial mediation (X -> M1 -> M2 -> Y) # Product-of-three: a * d * b serial_data <- SerialMediationData(   a_path = 0.5,       # X -> M1   d_path = 0.4,       # M1 -> M2 (scalar for 2 mediators)   b_path = 0.3,       # M2 -> Y   c_prime = 0.1,      # X -> Y (direct)   estimates = c(0.5, 0.4, 0.3, 0.1),   vcov = diag(4) * 0.01,   sigma_mediators = c(1.0, 1.1),  # SD for M1, M2 models   sigma_y = 1.2,   treatment = \"X\",   mediators = c(\"M1\", \"M2\"),   outcome = \"Y\",   mediator_predictors = list(     c(\"X\"),           # M1 ~ X     c(\"X\", \"M1\")      # M2 ~ X + M1   ),   outcome_predictors = c(\"X\", \"M1\", \"M2\"),  # Y ~ X + M1 + M2   data = NULL,   n_obs = 100L,   converged = TRUE,   source_package = \"lavaan\" )  # Three-mediator serial mediation (X -> M1 -> M2 -> M3 -> Y) # Product-of-four: a * d21 * d32 * b serial_data_3 <- SerialMediationData(   a_path = 0.5,           # X -> M1   d_path = c(0.4, 0.35),  # M1 -> M2, M2 -> M3 (vector for 3 mediators)   b_path = 0.3,           # M3 -> Y   c_prime = 0.1,   estimates = c(0.5, 0.4, 0.35, 0.3, 0.1),   vcov = diag(5) * 0.01,   sigma_mediators = c(1.0, 1.1, 1.05),  # SD for M1, M2, M3 models   sigma_y = 1.2,   treatment = \"X\",   mediators = c(\"M1\", \"M2\", \"M3\"),   outcome = \"Y\",   mediator_predictors = list(     c(\"X\"),              # M1 ~ X     c(\"X\", \"M1\"),        # M2 ~ X + M1     c(\"X\", \"M1\", \"M2\")   # M3 ~ X + M1 + M2   ),   outcome_predictors = c(\"X\", \"M1\", \"M2\", \"M3\"),   data = NULL,   n_obs = 100L,   converged = TRUE,   source_package = \"lavaan\" ) } # }"},{"path":"https://data-wise.github.io/medfit/dev/reference/bootstrap_mediation.html","id":null,"dir":"Reference","previous_headings":"","what":"Perform Bootstrap Inference for Mediation Statistics — bootstrap_mediation","title":"Perform Bootstrap Inference for Mediation Statistics — bootstrap_mediation","text":"Conduct bootstrap inference compute confidence intervals mediation statistics. Supports parametric, nonparametric, plugin methods. Conduct bootstrap inference compute confidence intervals mediation statistics. Supports parametric, nonparametric, plugin methods.","code":""},{"path":"https://data-wise.github.io/medfit/dev/reference/bootstrap_mediation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Perform Bootstrap Inference for Mediation Statistics — bootstrap_mediation","text":"","code":"bootstrap_mediation(   statistic_fn,   method = c(\"parametric\", \"nonparametric\", \"plugin\"),   mediation_data = NULL,   data = NULL,   n_boot = 1000L,   ci_level = 0.95,   parallel = FALSE,   ncores = NULL,   seed = NULL,   ... )  bootstrap_mediation(   statistic_fn,   method = c(\"parametric\", \"nonparametric\", \"plugin\"),   mediation_data = NULL,   data = NULL,   n_boot = 1000L,   ci_level = 0.95,   parallel = FALSE,   ncores = NULL,   seed = NULL,   ... )"},{"path":"https://data-wise.github.io/medfit/dev/reference/bootstrap_mediation.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Perform Bootstrap Inference for Mediation Statistics — bootstrap_mediation","text":"statistic_fn Function computes statistic interest. parametric bootstrap: receives named parameter vector, returns scalar nonparametric bootstrap: receives data frame, returns scalar plugin: receives named parameter vector, returns scalar method Character string: bootstrap method. Options: \"parametric\": Sample multivariate normal (fast, assumes normality) \"nonparametric\": Resample data refit (robust, slower) \"plugin\": Point estimate , CI (fastest) mediation_data MediationData object (required parametric/plugin) data Data frame (required nonparametric bootstrap) n_boot Integer: number bootstrap samples (default: 1000) ci_level Numeric: confidence level 0 1 (default: 0.95) parallel Logical: use parallel processing? (default: FALSE) ncores Integer: number cores parallel processing. NULL, uses parallel::detectCores() - 1 seed Integer: random seed reproducibility (optional recommended) ... Additional arguments (reserved future use)","code":""},{"path":"https://data-wise.github.io/medfit/dev/reference/bootstrap_mediation.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Perform Bootstrap Inference for Mediation Statistics — bootstrap_mediation","text":"BootstrapResult object containing: Point estimate Confidence interval bounds Bootstrap distribution (parametric nonparametric) Method used BootstrapResult object containing: Point estimate Confidence interval bounds Bootstrap distribution (parametric nonparametric) Method used","code":""},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/reference/bootstrap_mediation.html","id":"bootstrap-methods","dir":"Reference","previous_headings":"","what":"Bootstrap Methods","title":"Perform Bootstrap Inference for Mediation Statistics — bootstrap_mediation","text":"Parametric Bootstrap (method = \"parametric\"): Samples parameter vectors \\(N(\\hat{\\theta}, \\hat{\\Sigma})\\) Fast efficient Assumes asymptotic normality parameters Recommended applications n > 50 Nonparametric Bootstrap (method = \"nonparametric\"): Resamples observations replacement Refits models bootstrap sample robust, normality assumption Computationally intensive Use normality questionable n small Plugin Estimator (method = \"plugin\"): Computes point estimate confidence interval Fastest method Use quick checks CI needed","code":""},{"path":"https://data-wise.github.io/medfit/dev/reference/bootstrap_mediation.html","id":"parallel-processing","dir":"Reference","previous_headings":"","what":"Parallel Processing","title":"Perform Bootstrap Inference for Mediation Statistics — bootstrap_mediation","text":"Set parallel = TRUE use multiple cores: Automatically detects available cores Falls back sequential parallel fails Seed handling ensures reproducibility","code":""},{"path":"https://data-wise.github.io/medfit/dev/reference/bootstrap_mediation.html","id":"reproducibility","dir":"Reference","previous_headings":"","what":"Reproducibility","title":"Perform Bootstrap Inference for Mediation Statistics — bootstrap_mediation","text":"Always set seed reproducible results:","code":"bootstrap_mediation(..., seed = 12345)"},{"path":"https://data-wise.github.io/medfit/dev/reference/bootstrap_mediation.html","id":"bootstrap-methods-1","dir":"Reference","previous_headings":"","what":"Bootstrap Methods","title":"Perform Bootstrap Inference for Mediation Statistics — bootstrap_mediation","text":"Parametric Bootstrap (method = \"parametric\"): Samples parameter vectors \\(N(\\hat{\\theta}, \\hat{\\Sigma})\\) Fast efficient Assumes asymptotic normality parameters Recommended applications n > 50 Requires mediation_data argument Nonparametric Bootstrap (method = \"nonparametric\"): Resamples observations replacement Refits models bootstrap sample robust, normality assumption Computationally intensive Use normality questionable n small Requires data argument Plugin Estimator (method = \"plugin\"): Computes point estimate confidence interval Fastest method Use quick checks CI needed Requires mediation_data argument","code":""},{"path":"https://data-wise.github.io/medfit/dev/reference/bootstrap_mediation.html","id":"statistic-function","dir":"Reference","previous_headings":"","what":"Statistic Function","title":"Perform Bootstrap Inference for Mediation Statistics — bootstrap_mediation","text":"statistic_fn function : parametric/plugin: Takes named numeric vector parameters nonparametric: Takes data frame Returns single numeric value Common statistic functions indirect effect:","code":"# Using parameter names from MediationData indirect_fn <- function(theta) {   theta[\"m_X\"] * theta[\"y_M\"] }"},{"path":"https://data-wise.github.io/medfit/dev/reference/bootstrap_mediation.html","id":"parallel-processing-1","dir":"Reference","previous_headings":"","what":"Parallel Processing","title":"Perform Bootstrap Inference for Mediation Statistics — bootstrap_mediation","text":"Set parallel = TRUE use multiple cores: Uses parallel::mclapply() Unix systems Falls back sequential Windows Automatically detects available cores","code":""},{"path":"https://data-wise.github.io/medfit/dev/reference/bootstrap_mediation.html","id":"reproducibility-1","dir":"Reference","previous_headings":"","what":"Reproducibility","title":"Perform Bootstrap Inference for Mediation Statistics — bootstrap_mediation","text":"Always set seed reproducible results:","code":"bootstrap_mediation(..., seed = 12345)"},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/reference/bootstrap_mediation.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Perform Bootstrap Inference for Mediation Statistics — bootstrap_mediation","text":"","code":"if (FALSE) { # \\dontrun{ # Parametric bootstrap for indirect effect result <- bootstrap_mediation(   statistic_fn = function(theta) theta[\"a\"] * theta[\"b\"],   method = \"parametric\",   mediation_data = med_data,   n_boot = 5000,   ci_level = 0.95,   seed = 12345 )  # Nonparametric bootstrap with parallel processing result <- bootstrap_mediation(   statistic_fn = function(data) {     # Refit models and compute statistic     # ...   },   method = \"nonparametric\",   data = mydata,   n_boot = 5000,   parallel = TRUE,   seed = 12345 )  # Plugin estimator (no CI) result <- bootstrap_mediation(   statistic_fn = function(theta) theta[\"a\"] * theta[\"b\"],   method = \"plugin\",   mediation_data = med_data ) } # }  # Generate example data set.seed(123) n <- 100 mydata <- data.frame(X = rnorm(n)) mydata$M <- 0.5 * mydata$X + rnorm(n) mydata$Y <- 0.3 * mydata$X + 0.4 * mydata$M + rnorm(n)  # Fit mediation model med_data <- fit_mediation(   formula_y = Y ~ X + M,   formula_m = M ~ X,   data = mydata,   treatment = \"X\",   mediator = \"M\" )  # Define indirect effect function indirect_fn <- function(theta) theta[\"m_X\"] * theta[\"y_M\"]  # Plugin estimator (point estimate only, fastest) result_plugin <- bootstrap_mediation(   statistic_fn = indirect_fn,   method = \"plugin\",   mediation_data = med_data ) print(result_plugin) #> BootstrapResult object #> ====================== #>  #> Method:   plugin #> Estimate:   0.1897 #>  #> (No confidence interval for plugin method)  # \\donttest{ # Parametric bootstrap (recommended for most applications) result <- bootstrap_mediation(   statistic_fn = indirect_fn,   method = \"parametric\",   mediation_data = med_data,   n_boot = 1000,   ci_level = 0.95,   seed = 12345 ) print(result) #> BootstrapResult object #> ====================== #>  #> Method:   parametric #> Estimate:   0.1897 #> N bootstrap samples: 1000 #>  #> 95% Confidence Interval: #>   Lower:   0.0792 #>   Upper:   0.3230  # Nonparametric bootstrap (slower but more robust) refit_fn <- function(boot_data) {   fit_m <- lm(M ~ X, data = boot_data)   fit_y <- lm(Y ~ X + M, data = boot_data)   unname(coef(fit_m)[\"X\"] * coef(fit_y)[\"M\"]) }  result_np <- bootstrap_mediation(   statistic_fn = refit_fn,   method = \"nonparametric\",   data = mydata,   n_boot = 500,   seed = 12345 ) print(result_np) #> BootstrapResult object #> ====================== #>  #> Method:   nonparametric #> Estimate:   0.1897 #> N bootstrap samples: 500 #>  #> 95% Confidence Interval: #>   Lower:   0.0746 #>   Upper:   0.3331 # }"},{"path":"https://data-wise.github.io/medfit/dev/reference/dot-extract_mediation_lm_impl.html","id":null,"dir":"Reference","previous_headings":"","what":"Internal Implementation for lm/glm Extraction — .extract_mediation_lm_impl","title":"Internal Implementation for lm/glm Extraction — .extract_mediation_lm_impl","text":"Internal Implementation lm/glm Extraction","code":""},{"path":"https://data-wise.github.io/medfit/dev/reference/dot-extract_mediation_lm_impl.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Internal Implementation for lm/glm Extraction — .extract_mediation_lm_impl","text":"","code":".extract_mediation_lm_impl(   model_m,   model_y,   treatment,   mediator,   outcome = NULL,   data = NULL )"},{"path":"https://data-wise.github.io/medfit/dev/reference/dot-extract_mediation_lm_impl.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Internal Implementation for lm/glm Extraction — .extract_mediation_lm_impl","text":"model_m Fitted model mediator model_y Fitted model outcome treatment Treatment variable name mediator Mediator variable name outcome Outcome variable name (auto-detected NULL) data Original data (extracted model NULL)","code":""},{"path":"https://data-wise.github.io/medfit/dev/reference/dot-extract_mediation_lm_impl.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Internal Implementation for lm/glm Extraction — .extract_mediation_lm_impl","text":"MediationData object","code":""},{"path":"https://data-wise.github.io/medfit/dev/reference/dot-extract_sigma.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract Residual Standard Deviation from Model — .extract_sigma","title":"Extract Residual Standard Deviation from Model — .extract_sigma","text":"Extract Residual Standard Deviation Model","code":""},{"path":"https://data-wise.github.io/medfit/dev/reference/dot-extract_sigma.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract Residual Standard Deviation from Model — .extract_sigma","text":"","code":".extract_sigma(model)"},{"path":"https://data-wise.github.io/medfit/dev/reference/dot-extract_sigma.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract Residual Standard Deviation from Model — .extract_sigma","text":"model Fitted model object","code":""},{"path":"https://data-wise.github.io/medfit/dev/reference/dot-extract_sigma.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract Residual Standard Deviation from Model — .extract_sigma","text":"Numeric scalar NULL","code":""},{"path":"https://data-wise.github.io/medfit/dev/reference/dot-get_response_var.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract Response Variable Name from Model — .get_response_var","title":"Extract Response Variable Name from Model — .get_response_var","text":"Extract Response Variable Name Model","code":""},{"path":"https://data-wise.github.io/medfit/dev/reference/dot-get_response_var.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract Response Variable Name from Model — .get_response_var","text":"","code":".get_response_var(model)"},{"path":"https://data-wise.github.io/medfit/dev/reference/dot-get_response_var.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract Response Variable Name from Model — .get_response_var","text":"model Fitted model object","code":""},{"path":"https://data-wise.github.io/medfit/dev/reference/dot-get_response_var.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract Response Variable Name from Model — .get_response_var","text":"Character string: response variable name","code":""},{"path":"https://data-wise.github.io/medfit/dev/reference/dot-register_lavaan_method.html","id":null,"dir":"Reference","previous_headings":"","what":"Register lavaan Method for extract_mediation — .register_lavaan_method","title":"Register lavaan Method for extract_mediation — .register_lavaan_method","text":"function called .onLoad() register S7 method lavaan objects lavaan package available.","code":""},{"path":"https://data-wise.github.io/medfit/dev/reference/dot-register_lavaan_method.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Register lavaan Method for extract_mediation — .register_lavaan_method","text":"","code":".register_lavaan_method()"},{"path":"https://data-wise.github.io/medfit/dev/reference/extract_mediation.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract Mediation Structure from Fitted Models — extract_mediation","title":"Extract Mediation Structure from Fitted Models — extract_mediation","text":"Generic function extract mediation structure (, b, c' paths variance-covariance matrices) fitted models. function provides unified interface extracting mediation information various model types (lm, glm, lavaan, lmer, brms, etc.).","code":""},{"path":"https://data-wise.github.io/medfit/dev/reference/extract_mediation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract Mediation Structure from Fitted Models — extract_mediation","text":"","code":"extract_mediation(object, ...)"},{"path":"https://data-wise.github.io/medfit/dev/reference/extract_mediation.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract Mediation Structure from Fitted Models — extract_mediation","text":"object Fitted model object (lm, glm, lavaan, etc.) ... Additional arguments passed methods. Common arguments include: treatment: Character string specifying treatment variable name mediator: Character string specifying mediator variable name Method-specific arguments (see individual method documentation)","code":""},{"path":"https://data-wise.github.io/medfit/dev/reference/extract_mediation.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract Mediation Structure from Fitted Models — extract_mediation","text":"MediationData object containing: Path coefficients (, b, c') Full parameter vector variance-covariance matrix Residual variances (Gaussian models) Variable names metadata Original data (available)","code":""},{"path":"https://data-wise.github.io/medfit/dev/reference/extract_mediation.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Extract Mediation Structure from Fitted Models — extract_mediation","text":"extract_mediation() generic provides methods different model types: lm/glm: Extract linear generalized linear models lavaan: Extract structural equation models lmerMod: Extract mixed-effects models (future) brmsfit: Extract Bayesian models (future) Note: OpenMx extraction planned future release. methods return standardized MediationData object can used medfit functions dependent packages (probmed, RMediation, medrobust).","code":""},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/reference/extract_mediation.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract Mediation Structure from Fitted Models — extract_mediation","text":"","code":"if (FALSE) { # \\dontrun{ # Extract from lm models fit_m <- lm(M ~ X + C, data = mydata) fit_y <- lm(Y ~ X + M + C, data = mydata) med_data <- extract_mediation(fit_m, model_y = fit_y,                               treatment = \"X\", mediator = \"M\")  # Extract from lavaan model library(lavaan) model <- \"   M ~ a*X   Y ~ b*M + cp*X \" fit <- sem(model, data = mydata) med_data <- extract_mediation(fit, treatment = \"X\", mediator = \"M\") } # }"},{"path":"https://data-wise.github.io/medfit/dev/reference/extract_mediation_lavaan.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract Mediation Structure from lavaan Model — extract_mediation_lavaan","title":"Extract Mediation Structure from lavaan Model — extract_mediation_lavaan","text":"Internal function extracting mediation structure lavaan models. function registered S7 method .onLoad() lavaan available.","code":""},{"path":"https://data-wise.github.io/medfit/dev/reference/extract_mediation_lavaan.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract Mediation Structure from lavaan Model — extract_mediation_lavaan","text":"","code":"extract_mediation_lavaan(   object,   treatment,   mediator,   outcome = NULL,   a_label = \"a\",   b_label = \"b\",   cp_label = \"cp\",   standardized = FALSE,   ... )"},{"path":"https://data-wise.github.io/medfit/dev/reference/extract_mediation_lavaan.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract Mediation Structure from lavaan Model — extract_mediation_lavaan","text":"object Fitted lavaan model object treatment Character: name treatment variable mediator Character: name mediator variable outcome Character: name outcome variable (optional, auto-detected) a_label Character: label path lavaan model (default: \"\") b_label Character: label b path lavaan model (default: \"b\") cp_label Character: label c' path lavaan model (default: \"cp\") standardized Logical: extract standardized coefficients? (default: FALSE) ... Additional arguments (ignored)","code":""},{"path":"https://data-wise.github.io/medfit/dev/reference/extract_mediation_lavaan.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract Mediation Structure from lavaan Model — extract_mediation_lavaan","text":"MediationData object","code":""},{"path":"https://data-wise.github.io/medfit/dev/reference/extract_mediation_lavaan.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Extract Mediation Structure from lavaan Model — extract_mediation_lavaan","text":"method extracts mediation structure fitted lavaan SEM model. lavaan model specify labeled paths mediation structure.","code":""},{"path":"https://data-wise.github.io/medfit/dev/reference/extract_mediation_lavaan.html","id":"typical-lavaan-model-specification","dir":"Reference","previous_headings":"","what":"Typical lavaan Model Specification","title":"Extract Mediation Structure from lavaan Model — extract_mediation_lavaan","text":"","code":"model <- \"   # Mediator model   M ~ a*X    # Outcome model   Y ~ b*M + cp*X    # Indirect and total effects (optional)   indirect := a*b   total := cp + a*b \""},{"path":"https://data-wise.github.io/medfit/dev/reference/extract_mediation_lavaan.html","id":"path-labels","dir":"Reference","previous_headings":"","what":"Path Labels","title":"Extract Mediation Structure from lavaan Model — extract_mediation_lavaan","text":"default, function looks paths labeled: : Treatment -> Mediator path b: Mediator -> Outcome path cp: Treatment -> Outcome (direct effect) path can customize labels using a_label, b_label, cp_label arguments.","code":""},{"path":"https://data-wise.github.io/medfit/dev/reference/extract_mediation_lavaan.html","id":"alternative-unlabeled-paths","dir":"Reference","previous_headings":"","what":"Alternative: Unlabeled Paths","title":"Extract Mediation Structure from lavaan Model — extract_mediation_lavaan","text":"paths labeled, function attempt identify variable names. requires specifying treatment, mediator, outcome arguments.","code":""},{"path":"https://data-wise.github.io/medfit/dev/reference/extract_mediation_lavaan.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract Mediation Structure from lavaan Model — extract_mediation_lavaan","text":"","code":"if (FALSE) { # \\dontrun{ library(lavaan)  # Define mediation model model <- \"   M ~ a*X   Y ~ b*M + cp*X \"  # Fit model fit <- sem(model, data = mydata)  # Extract mediation structure med_data <- extract_mediation(   fit,   treatment = \"X\",   mediator = \"M\",   outcome = \"Y\" ) } # }"},{"path":"https://data-wise.github.io/medfit/dev/reference/fit_mediation.html","id":null,"dir":"Reference","previous_headings":"","what":"Fit Mediation Models — fit_mediation","title":"Fit Mediation Models — fit_mediation","text":"Fit mediation models using specified modeling engine. function provides convenient formula-based interface fitting mediator outcome models simultaneously. Fit mediation models using specified modeling engine. function provides convenient formula-based interface fitting mediator outcome models simultaneously.","code":""},{"path":"https://data-wise.github.io/medfit/dev/reference/fit_mediation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fit Mediation Models — fit_mediation","text":"","code":"fit_mediation(   formula_y,   formula_m,   data,   treatment,   mediator,   engine = \"glm\",   family_y = stats::gaussian(),   family_m = stats::gaussian(),   ... )  fit_mediation(   formula_y,   formula_m,   data,   treatment,   mediator,   engine = \"glm\",   family_y = stats::gaussian(),   family_m = stats::gaussian(),   ... )"},{"path":"https://data-wise.github.io/medfit/dev/reference/fit_mediation.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fit Mediation Models — fit_mediation","text":"formula_y Formula outcome model (e.g., Y ~ X + M + C) formula_m Formula mediator model (e.g., M ~ X + C) data Data frame containing variables treatment Character string: name treatment variable mediator Character string: name mediator variable engine Character string: modeling engine use. Currently supports: \"glm\": Generalized linear models (default) family_y Family object outcome model (default: gaussian()) family_m Family object mediator model (default: gaussian()) ... Additional arguments passed fitting function","code":""},{"path":"https://data-wise.github.io/medfit/dev/reference/fit_mediation.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fit Mediation Models — fit_mediation","text":"MediationData object containing fitted mediation structure MediationData object containing fitted mediation structure","code":""},{"path":"https://data-wise.github.io/medfit/dev/reference/fit_mediation.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Fit Mediation Models — fit_mediation","text":"fit_mediation() function fits mediator model outcome model using specified engine, extracts mediation structure using extract_mediation().","code":""},{"path":"https://data-wise.github.io/medfit/dev/reference/fit_mediation.html","id":"supported-engines","dir":"Reference","previous_headings":"","what":"Supported Engines","title":"Fit Mediation Models — fit_mediation","text":"GLM (engine = \"glm\"): Fits models using stats::glm() Supports GLM families (gaussian, binomial, poisson, etc.) Gaussian models, extracts residual variances Future Engines: \"lmer\": Mixed-effects models via lme4 \"brms\": Bayesian models via brms","code":""},{"path":"https://data-wise.github.io/medfit/dev/reference/fit_mediation.html","id":"model-specification","dir":"Reference","previous_headings":"","what":"Model Specification","title":"Fit Mediation Models — fit_mediation","text":"formulas follow standard R formula syntax: formula_m: Mediator model (e.g., M ~ X + C1 + C2) formula_y: Outcome model (e.g., Y ~ X + M + C1 + C2) mediator must appear formula_y, treatment must appear formulas.","code":""},{"path":"https://data-wise.github.io/medfit/dev/reference/fit_mediation.html","id":"model-specification-1","dir":"Reference","previous_headings":"","what":"Model Specification","title":"Fit Mediation Models — fit_mediation","text":"function fits two models: Mediator model: formula_m (e.g., M ~ X + C1 + C2) Outcome model: formula_y (e.g., Y ~ X + M + C1 + C2) treatment variable must appear formulas. mediator variable must appear outcome formula mediator formula (response).","code":""},{"path":"https://data-wise.github.io/medfit/dev/reference/fit_mediation.html","id":"glm-engine","dir":"Reference","previous_headings":"","what":"GLM Engine","title":"Fit Mediation Models — fit_mediation","text":"engine = \"glm\" (default): Models fit using stats::glm() Supports GLM families (gaussian, binomial, poisson, etc.) Gaussian models, residual standard deviations extracted Non-Gaussian outcomes sigma_y = NULL","code":""},{"path":"https://data-wise.github.io/medfit/dev/reference/fit_mediation.html","id":"common-family-specifications","dir":"Reference","previous_headings":"","what":"Common Family Specifications","title":"Fit Mediation Models — fit_mediation","text":"gaussian(): Continuous outcomes (default) binomial(): Binary outcomes poisson(): Count outcomes Gamma(): Positive continuous outcomes","code":""},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/reference/fit_mediation.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fit Mediation Models — fit_mediation","text":"","code":"if (FALSE) { # \\dontrun{ # Fit Gaussian mediation model med_data <- fit_mediation(   formula_y = Y ~ X + M + C,   formula_m = M ~ X + C,   data = mydata,   treatment = \"X\",   mediator = \"M\",   engine = \"glm\" )  # Fit with binary outcome med_data <- fit_mediation(   formula_y = Y ~ X + M + C,   formula_m = M ~ X + C,   data = mydata,   treatment = \"X\",   mediator = \"M\",   engine = \"glm\",   family_y = binomial() ) } # }  # Generate example data set.seed(123) n <- 100 mydata <- data.frame(   X = rnorm(n),   C = rnorm(n) ) mydata$M <- 0.5 * mydata$X + 0.2 * mydata$C + rnorm(n) mydata$Y <- 0.3 * mydata$X + 0.4 * mydata$M + 0.1 * mydata$C + rnorm(n)  # Simple mediation with continuous variables med_data <- fit_mediation(   formula_y = Y ~ X + M,   formula_m = M ~ X,   data = mydata,   treatment = \"X\",   mediator = \"M\" ) print(med_data) #> MediationData object #> ==================== #>  #> Path coefficients: #>   a (X -> M):        0.3551 #>   b (M -> Y|X):      0.3779 #>   c' (X -> Y|M):     0.2524 #>   Indirect (a*b):    0.1342 #>  #> Variables: #>   Treatment: X #>   Mediator:  M #>   Outcome:   Y #>  #> Model info: #>   N observations: 100 #>   Converged:      Yes #>   Source:         stats::glm #>  #> Residual SDs: #>   Mediator model:   0.9710 #>   Outcome model:    1.0568  # With covariates med_data_cov <- fit_mediation(   formula_y = Y ~ X + M + C,   formula_m = M ~ X + C,   data = mydata,   treatment = \"X\",   mediator = \"M\" )  # \\donttest{ # Binary outcome (takes longer to fit) mydata$Y_bin <- rbinom(n, 1, plogis(0.3 * mydata$X + 0.4 * mydata$M)) med_data_bin <- fit_mediation(   formula_y = Y_bin ~ X + M,   formula_m = M ~ X,   data = mydata,   treatment = \"X\",   mediator = \"M\",   family_y = binomial() ) # }"},{"path":"https://data-wise.github.io/medfit/dev/reference/medfit-package.html","id":null,"dir":"Reference","previous_headings":"","what":"medfit: Infrastructure for Mediation Model Fitting and Extraction — medfit-package","title":"medfit: Infrastructure for Mediation Model Fitting and Extraction — medfit-package","text":"Provides S7-based infrastructure fitting mediation models, extracting path coefficients, performing bootstrap inference. Designed foundation package probmed, RMediation, medrobust.","code":""},{"path":"https://data-wise.github.io/medfit/dev/reference/medfit-package.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"medfit: Infrastructure for Mediation Model Fitting and Extraction — medfit-package","text":"Key functions: fit_mediation: Fit mediation models extract_mediation: Extract fitted models bootstrap_mediation: Bootstrap inference Key classes: MediationData: Mediation model structure BootstrapResult: Bootstrap results","code":""},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/reference/medfit-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"medfit: Infrastructure for Mediation Model Fitting and Extraction — medfit-package","text":"Maintainer: Davood Tofighi dtofighi@gmail.com (ORCID)","code":""},{"path":"https://data-wise.github.io/medfit/dev/reference/print.summary.BootstrapResult.html","id":null,"dir":"Reference","previous_headings":"","what":"Print Summary for BootstrapResult — print.summary.BootstrapResult","title":"Print Summary for BootstrapResult — print.summary.BootstrapResult","text":"Print Summary BootstrapResult","code":""},{"path":"https://data-wise.github.io/medfit/dev/reference/print.summary.BootstrapResult.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print Summary for BootstrapResult — print.summary.BootstrapResult","text":"","code":"# S3 method for class 'summary.BootstrapResult' print(x, ...)"},{"path":"https://data-wise.github.io/medfit/dev/reference/print.summary.BootstrapResult.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print Summary for BootstrapResult — print.summary.BootstrapResult","text":"x summary.BootstrapResult object ... Additional arguments (ignored)","code":""},{"path":"https://data-wise.github.io/medfit/dev/reference/print.summary.MediationData.html","id":null,"dir":"Reference","previous_headings":"","what":"Print Summary for MediationData — print.summary.MediationData","title":"Print Summary for MediationData — print.summary.MediationData","text":"Print Summary MediationData","code":""},{"path":"https://data-wise.github.io/medfit/dev/reference/print.summary.MediationData.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print Summary for MediationData — print.summary.MediationData","text":"","code":"# S3 method for class 'summary.MediationData' print(x, ...)"},{"path":"https://data-wise.github.io/medfit/dev/reference/print.summary.MediationData.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print Summary for MediationData — print.summary.MediationData","text":"x summary.MediationData object ... Additional arguments (ignored)","code":""},{"path":"https://data-wise.github.io/medfit/dev/reference/print.summary.SerialMediationData.html","id":null,"dir":"Reference","previous_headings":"","what":"Print Summary for SerialMediationData — print.summary.SerialMediationData","title":"Print Summary for SerialMediationData — print.summary.SerialMediationData","text":"Print Summary SerialMediationData","code":""},{"path":"https://data-wise.github.io/medfit/dev/reference/print.summary.SerialMediationData.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print Summary for SerialMediationData — print.summary.SerialMediationData","text":"","code":"# S3 method for class 'summary.SerialMediationData' print(x, ...)"},{"path":"https://data-wise.github.io/medfit/dev/reference/print.summary.SerialMediationData.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print Summary for SerialMediationData — print.summary.SerialMediationData","text":"x summary.SerialMediationData object ... Additional arguments (ignored)","code":""},{"path":[]},{"path":[]},{"path":"https://data-wise.github.io/medfit/dev/news/index.html","id":"new-features-development-version","dir":"Changelog","previous_headings":"medfit 0.1.0.9000 (2025-12-16)","what":"New Features","title":"medfit (development version)","text":"GLM engine linear generalized linear models Support continuous binary outcomes (family_y argument) Covariates supported mediator outcome models Full checkmate input validation Returns MediationData object downstream analysis Parametric bootstrap: Fast, samples multivariate normal Nonparametric bootstrap: Robust, resamples data refits models Plugin estimator: Point estimate , fastest method Parallel processing support (parallel = TRUE, ncores argument) Seed-based reproducibility Returns BootstrapResult object point estimate CI CI workflow fix: Updated codecov action v5 parameter names (file -> files, plugin -> plugins)","code":""},{"path":"https://data-wise.github.io/medfit/dev/news/index.html","id":"documentation-development-version","dir":"Changelog","previous_headings":"medfit 0.1.0.9000 (2025-12-16)","what":"Documentation","title":"medfit (development version)","text":"getting-started.qmd: Added complete working examples three main functions bootstrap.qmd: Updated code examples use correct API statistic_fn","code":""},{"path":"https://data-wise.github.io/medfit/dev/news/index.html","id":"medfit-development-version-2","dir":"Changelog","previous_headings":"","what":"medfit 0.1.0","title":"medfit (development version)","text":"Initial development release","code":""},{"path":"https://data-wise.github.io/medfit/dev/news/index.html","id":"major-features-development-version","dir":"Changelog","previous_headings":"medfit 0.1.0","what":"Major Features","title":"medfit (development version)","text":"Added checkmate package fail-fast input validation extraction functions now use checkmate::assert_* argument validation Provides fast (C-based), memory-efficient assertions informative error messages Complements S7 validators: checkmate function entry, S7 class integrity Added .lintr configuration static code analysis Added lint.yaml GitHub Action automated linting PRs Comprehensive CLAUDE.md section defensive programming best practices 167+ tests passing 0 errors, 0 warnings, 0 notes MediationData class simple mediation (X -> M -> Y) Supports product--three (2 mediators: * d * b) Extensible product--k (3+ mediators: * d21 * d32 * … * b) Flexible d_path design: scalar 2 mediators, vector 3+ Compatible lavaan extraction patterns BootstrapResult class bootstrap inference results Comprehensive validators ensuring data integrity Print, summary, show methods classes extract_mediation() - Extract mediation structure fitted models fit_mediation() - Fit mediation models (stub) bootstrap_mediation() - Bootstrap inference (stub)","code":""},{"path":"https://data-wise.github.io/medfit/dev/news/index.html","id":"documentation-development-version-1","dir":"Changelog","previous_headings":"medfit 0.1.0","what":"Documentation","title":"medfit (development version)","text":"Get Started (vignettes/medfit.qmd): Quick introduction examples Introduction (vignettes/articles/introduction.qmd): Detailed S7 class architecture Model Extraction (vignettes/articles/extraction.qmd): Extract lm/glm/lavaan Bootstrap Inference (vignettes/articles/bootstrap.qmd): Parametric/nonparametric methods vignettes use native Quarto format execute: options YAML Published https://data-wise.github.io/medfit/ ASCII-compliant (replaced non-ASCII arrows multiplication symbols) Explicit @param tags S7 class properties @noRd S7 methods prevent namespace export issues","code":""},{"path":"https://data-wise.github.io/medfit/dev/news/index.html","id":"infrastructure-development-version","dir":"Changelog","previous_headings":"medfit 0.1.0","what":"Infrastructure","title":"medfit (development version)","text":"Full coverage simple serial mediation S7 classes Validation tests ensure data integrity across mediation types Tests updated checkmate error message format 1 skip: test lavaan--installed path lavaan installed R-CMD-check Ubuntu (release, devel, oldrel-1), macOS, Windows lint.yaml static code analysis lintr pkgdown deployment Quarto rendering Test coverage tracking Codecov Dependabot automated GitHub Actions updates Bootstrap 5 Flatly theme Comprehensive reference documentation Four Quarto vignettes rich examples Auto-deployment push main branch","code":""},{"path":"https://data-wise.github.io/medfit/dev/news/index.html","id":"development-status-development-version","dir":"Changelog","previous_headings":"medfit 0.1.0","what":"Development Status","title":"medfit (development version)","text":"Current Phase: Phase 5 Complete Next: Phase 6 (Extended Testing), Phase 8 (Polish & Release) Phase 1: Package setup (CI/CD, documentation, Dependabot) Phase 2: S7 class architecture (MediationData, SerialMediationData, BootstrapResult) Phase 2.5: Comprehensive Quarto documentation (4 vignettes, pkgdown website) Phase 3: Model extraction (lm/glm, lavaan methods) Phase 4: Model fitting (fit_mediation() GLM engine) Phase 5: Bootstrap infrastructure (parametric, nonparametric, plugin) Phase 6: Extended testing (edge cases, integration) Phase 8: Polish & release (R CMD check, CRAN prep)","code":""},{"path":"https://data-wise.github.io/medfit/dev/news/index.html","id":"documentation-improvements-development-version","dir":"Changelog","previous_headings":"medfit 0.1.0","what":"Documentation Improvements","title":"medfit (development version)","text":"S7 Class Documentation: Added explicit @param tags class properties S7 Method Documentation: Updated use @noRd prevent namespace export issues Generic Documentation: Fixed extract_mediation() document generic parameters CLAUDE.md: Added comprehensive S7 documentation patterns section future reference","code":""},{"path":"https://data-wise.github.io/medfit/dev/news/index.html","id":"fixes-development-version","dir":"Changelog","previous_headings":"medfit 0.1.0","what":"Fixes","title":"medfit (development version)","text":"OpenMx integration postponed future release GitHub Actions workflows now passing Call S7::S4_register() class methods_register() Import full methods package (just @importFrom methods ) Per official S7 documentation: https://rconsortium.github.io/S7/articles/packages.html SerialMediationData print/summary methods now work installed package context Removed 4 previously skipped tests (now passing) LICENSE: Added + file LICENSE DESCRIPTION properly reference LICENSE file S7-generated constructor defaults whitespace formatting differences known S7/roxygen2 limitation","code":""},{"path":"https://data-wise.github.io/medfit/dev/news/index.html","id":"known-issues-development-version","dir":"Changelog","previous_headings":"medfit 0.1.0","what":"Known Issues","title":"medfit (development version)","text":"OpenMx integration postponed (compilation issues Ubuntu oldrel-1)","code":""},{"path":"https://data-wise.github.io/medfit/dev/news/index.html","id":"ecosystem-notes-development-version","dir":"Changelog","previous_headings":"medfit 0.1.0","what":"Ecosystem Notes","title":"medfit (development version)","text":"Foundation package mediationverse ecosystem probmed, RMediation, medrobust awaiting integration Tested R 4.1.0+, S7 0.1.0+ See Ecosystem Coordination cross-package guidelines","code":""},{"path":"https://data-wise.github.io/medfit/dev/news/index.html","id":"internal-development-version","dir":"Changelog","previous_headings":"medfit 0.1.0","what":"Internal","title":"medfit (development version)","text":"Package skeleton created proper structure GitHub repository initialized dev branch workflow pkgdown website configuration Comprehensive CLAUDE.md roadmap documentation development version. Breaking changes may occur.","code":""}]
