% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/generics.R
\name{fit_mediation}
\alias{fit_mediation}
\title{Fit Mediation Models}
\usage{
fit_mediation(
  formula_y,
  formula_m,
  data,
  treatment,
  mediator,
  engine = "glm",
  family_y = stats::gaussian(),
  family_m = stats::gaussian(),
  ...
)
}
\arguments{
\item{formula_y}{Formula for outcome model (e.g., \code{Y ~ X + M + C})}

\item{formula_m}{Formula for mediator model (e.g., \code{M ~ X + C})}

\item{data}{Data frame containing all variables}

\item{treatment}{Character string: name of treatment variable}

\item{mediator}{Character string: name of mediator variable}

\item{engine}{Character string: modeling engine to use. Options:
\itemize{
\item \code{"glm"}: Generalized linear models (current)
\item \code{"lmer"}: Mixed-effects models (future)
\item \code{"brms"}: Bayesian regression models (future)
}}

\item{family_y}{Family object for outcome model (default: \code{gaussian()})}

\item{family_m}{Family object for mediator model (default: \code{gaussian()})}

\item{...}{Additional arguments passed to the engine-specific function}
}
\value{
A \link{MediationData} object containing the fitted mediation structure
}
\description{
Fit mediation models using a specified modeling engine. This function
provides a convenient formula-based interface for fitting both the
mediator and outcome models simultaneously.
}
\details{
The \code{fit_mediation()} function fits both the mediator model and outcome
model using the specified engine, then extracts the mediation structure
using \code{\link[=extract_mediation]{extract_mediation()}}.
\subsection{Supported Engines}{

\strong{GLM} (\code{engine = "glm"}):
\itemize{
\item Fits models using \code{stats::glm()}
\item Supports all GLM families (gaussian, binomial, poisson, etc.)
\item For Gaussian models, extracts residual variances
}

\strong{Future Engines}:
\itemize{
\item \code{"lmer"}: Mixed-effects models via lme4
\item \code{"brms"}: Bayesian models via brms
}
}

\subsection{Model Specification}{

The formulas should follow standard R formula syntax:
\itemize{
\item \code{formula_m}: Mediator model (e.g., \code{M ~ X + C1 + C2})
\item \code{formula_y}: Outcome model (e.g., \code{Y ~ X + M + C1 + C2})
}

The mediator must appear in \code{formula_y}, and the treatment must appear
in both formulas.
}
}
\examples{
\dontrun{
# Fit Gaussian mediation model
med_data <- fit_mediation(
  formula_y = Y ~ X + M + C,
  formula_m = M ~ X + C,
  data = mydata,
  treatment = "X",
  mediator = "M",
  engine = "glm"
)

# Fit with binary outcome
med_data <- fit_mediation(
  formula_y = Y ~ X + M + C,
  formula_m = M ~ X + C,
  data = mydata,
  treatment = "X",
  mediator = "M",
  engine = "glm",
  family_y = binomial()
)
}

}
\seealso{
\link{MediationData}, \code{\link[=extract_mediation]{extract_mediation()}}, \code{\link[=bootstrap_mediation]{bootstrap_mediation()}}
}
