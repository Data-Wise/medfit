% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/extract-lavaan.R
\name{extract_mediation_lavaan}
\alias{extract_mediation_lavaan}
\title{Extract Mediation Structure from lavaan Model}
\usage{
extract_mediation_lavaan(
  object,
  treatment,
  mediator,
  outcome = NULL,
  a_label = "a",
  b_label = "b",
  cp_label = "cp",
  standardized = FALSE,
  ...
)
}
\arguments{
\item{object}{Fitted lavaan model object}

\item{treatment}{Character: name of the treatment variable}

\item{mediator}{Character: name of the mediator variable}

\item{outcome}{Character: name of the outcome variable (optional, auto-detected)}

\item{a_label}{Character: label for the a path in lavaan model (default: "a")}

\item{b_label}{Character: label for the b path in lavaan model (default: "b")}

\item{cp_label}{Character: label for the c' path in lavaan model (default: "cp")}

\item{standardized}{Logical: extract standardized coefficients? (default: FALSE)}

\item{...}{Additional arguments (ignored)}
}
\value{
A \link{MediationData} object
}
\description{
Internal function for extracting mediation structure from lavaan models.
This function is registered as an S7 method in \code{.onLoad()} when lavaan
is available.
}
\details{
This method extracts mediation structure from a fitted lavaan SEM model.
The lavaan model should specify labeled paths for the mediation structure.
\subsection{Typical lavaan Model Specification}{

\if{html}{\out{<div class="sourceCode">}}\preformatted{model <- "
  # Mediator model
  M ~ a*X

  # Outcome model
  Y ~ b*M + cp*X

  # Indirect and total effects (optional)
  indirect := a*b
  total := cp + a*b
"
}\if{html}{\out{</div>}}
}

\subsection{Path Labels}{

By default, the function looks for paths labeled:
\itemize{
\item \code{a}: Treatment -> Mediator path
\item \code{b}: Mediator -> Outcome path
\item \code{cp}: Treatment -> Outcome (direct effect) path
}

You can customize these labels using the \code{a_label}, \code{b_label}, and
\code{cp_label} arguments.
}

\subsection{Alternative: Unlabeled Paths}{

If paths are not labeled, the function will attempt to identify them
by variable names. This requires specifying \code{treatment}, \code{mediator},
and \code{outcome} arguments.
}
}
\examples{
\dontrun{
library(lavaan)

# Define mediation model
model <- "
  M ~ a*X
  Y ~ b*M + cp*X
"

# Fit model
fit <- sem(model, data = mydata)

# Extract mediation structure
med_data <- extract_mediation(
  fit,
  treatment = "X",
  mediator = "M",
  outcome = "Y"
)
}

}
\keyword{internal}
