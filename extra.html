<!-- Plan A: Enhanced Code Block Functionality -->
<script>
// Add copy buttons to code blocks
document.addEventListener('DOMContentLoaded', function() {
  // Add copy buttons to all pre elements
  document.querySelectorAll('pre').forEach(function(pre) {
    // Skip if already has a copy button
    if (pre.querySelector('.copy-button')) return;

    // Create copy button
    var button = document.createElement('button');
    button.className = 'copy-button';
    button.textContent = 'Copy';
    button.style.float = 'right';
    button.style.marginTop = '-0.5rem';

    // Add click handler
    button.addEventListener('click', function() {
      var code = pre.textContent;
      navigator.clipboard.writeText(code).then(function() {
        button.textContent = 'Copied!';
        button.style.backgroundColor = '#2D7B3F';
        setTimeout(function() {
          button.textContent = 'Copy';
          button.style.backgroundColor = '#0054AD';
        }, 2000);
      });
    });

    // Insert button
    pre.insertBefore(button, pre.firstChild);
  });
});
</script>
