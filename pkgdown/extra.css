/* ============================================================================
   medfit pkgdown Custom Styles
   Plan A: Refined Academic + ADHD-Friendly Enhancements
   ============================================================================ */

/* ----------------------------------------------------------------------------
   VISUAL HIERARCHY ENHANCEMENTS
   ---------------------------------------------------------------------------- */

/* Stronger heading differentiation for visual anchors */
h1, h2, h3, h4, h5, h6 {
  margin-top: 1.5em;
  margin-bottom: 0.75em;
}

h1 {
  font-size: 2.5rem;
  font-weight: 700;
  color: #0054AD;
  border-bottom: 3px solid #0054AD;
  padding-bottom: 0.5rem;
}

h2 {
  font-size: 2.0rem;
  font-weight: 700;
  color: #2C3E50;
  border-left: 4px solid #0054AD;
  padding-left: 1rem;
}

h3 {
  font-size: 1.5rem;
  font-weight: 600;
  color: #2C3E50;
}

/* ----------------------------------------------------------------------------
   CODE BLOCK ENHANCEMENTS
   ---------------------------------------------------------------------------- */

/* Subtle depth perception for code blocks */
.sourceCode, pre {
  background-color: #F6F8FA !important;
  border: 1px solid #DEE2E6;
  border-radius: 6px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
  padding: 1rem;
  margin: 1.5rem 0;
}

/* Differentiate R output from input */
pre.r {
  border-left: 3px solid #0054AD;
}

pre:not(.r) {
  border-left: 3px solid #5A6C7D;
}

/* Copy button styling (pkgdown built-in) */
.copy-button {
  background-color: #0054AD;
  color: white;
  border: none;
  border-radius: 4px;
  padding: 0.25rem 0.5rem;
  font-size: 0.875rem;
  cursor: pointer;
  opacity: 0.8;
  transition: opacity 0.2s;
}

.copy-button:hover {
  opacity: 1;
}

/* ----------------------------------------------------------------------------
   ADHD-FRIENDLY: VISUAL CHUNKING
   ---------------------------------------------------------------------------- */

/* Content sections with visual breathing room */
.section {
  margin-bottom: 2.5rem;
}

/* Callout boxes with colored borders for categorization */
.alert {
  border-left: 4px solid;
  border-radius: 0 6px 6px 0;
  margin: 1.5rem 0;
  padding: 1rem 1.25rem;
}

.alert-info {
  background-color: #E8F4F8;
  border-color: #17A2B8;
}

.alert-success {
  background-color: #E8F5E9;
  border-color: #2D7B3F;
}

.alert-warning {
  background-color: #FFF8E1;
  border-color: #FFC107;
}

/* ----------------------------------------------------------------------------
   NAVIGATION ENHANCEMENTS
   ---------------------------------------------------------------------------- */

/* Stronger hover states for interaction feedback */
.navbar a:hover,
.nav-link:hover {
  background-color: rgba(0, 84, 173, 0.1);
  border-radius: 4px;
  transition: background-color 0.2s;
}

/* Active navigation indicator */
.navbar .active {
  font-weight: 600;
  border-bottom: 2px solid #0054AD;
}

/* ----------------------------------------------------------------------------
   TABLE OF CONTENTS (Sticky + Enhanced)
   ---------------------------------------------------------------------------- */

/* Sticky sidebar TOC */
.sidebar {
  position: sticky;
  top: 1rem;
  max-height: calc(100vh - 2rem);
  overflow-y: auto;
}

/* TOC links with hover effect */
.sidebar nav a {
  display: block;
  padding: 0.25rem 0.75rem;
  color: #5A6C7D;
  text-decoration: none;
  border-left: 2px solid transparent;
  transition: all 0.2s;
}

.sidebar nav a:hover {
  color: #0054AD;
  border-left-color: #0054AD;
  background-color: #F6F8FA;
}

.sidebar nav a.active {
  color: #0054AD;
  font-weight: 600;
  border-left-color: #0054AD;
  background-color: #E8F4F8;
}

/* ----------------------------------------------------------------------------
   BADGES & LABELS
   ---------------------------------------------------------------------------- */

/* Enhanced badge visibility */
.badge {
  padding: 0.35em 0.65em;
  font-weight: 600;
  border-radius: 4px;
}

/* Function argument badges */
code.r .kw { color: #0054AD; font-weight: 600; }
code.r .st { color: #2D7B3F; }
code.r .co { color: #5A6C7D; font-style: italic; }

/* ----------------------------------------------------------------------------
   BUTTONS & INTERACTIVE ELEMENTS
   ---------------------------------------------------------------------------- */

/* Primary CTA buttons */
.btn-primary {
  background-color: #0054AD;
  border-color: #0054AD;
  font-weight: 600;
  padding: 0.5rem 1.25rem;
  border-radius: 6px;
  transition: all 0.2s;
}

.btn-primary:hover {
  background-color: #003D7A;
  border-color: #003D7A;
  transform: translateY(-1px);
  box-shadow: 0 4px 8px rgba(0, 84, 173, 0.2);
}

/* ----------------------------------------------------------------------------
   REFERENCE PAGE ENHANCEMENTS
   ---------------------------------------------------------------------------- */

/* Function listings with better spacing */
.ref-index .section {
  margin-bottom: 2rem;
}

.ref-index h2 {
  margin-top: 2rem;
  padding-top: 1rem;
  border-top: 2px solid #DEE2E6;
}

/* Function descriptions */
.ref-index dl {
  margin-left: 1rem;
}

.ref-index dt {
  font-family: 'Fira Code', monospace;
  font-weight: 600;
  color: #0054AD;
  margin-top: 0.75rem;
}

.ref-index dd {
  margin-left: 1.5rem;
  color: #5A6C7D;
}

/* ----------------------------------------------------------------------------
   ARTICLE/VIGNETTE ENHANCEMENTS
   ---------------------------------------------------------------------------- */

/* Better readability for long-form content */
article {
  line-height: 1.7;
  max-width: 800px;
}

/* Paragraph spacing */
article p {
  margin-bottom: 1.25rem;
}

/* Lists with better spacing */
article ul, article ol {
  margin-bottom: 1.5rem;
  padding-left: 2rem;
}

article li {
  margin-bottom: 0.5rem;
}

/* ----------------------------------------------------------------------------
   ADHD-FRIENDLY: REDUCED COGNITIVE LOAD
   ---------------------------------------------------------------------------- */

/* TL;DR boxes (use blockquote with class) */
blockquote.tldr {
  background-color: #FFF8E1;
  border-left: 4px solid #FFC107;
  padding: 1rem 1.25rem;
  margin: 1.5rem 0;
  font-size: 1.05rem;
}

blockquote.tldr::before {
  content: "TL;DR:";
  display: block;
  font-weight: 700;
  color: #F57C00;
  margin-bottom: 0.5rem;
}

/* Key takeaways boxes */
.takeaways {
  background-color: #E8F4F8;
  border: 2px solid #17A2B8;
  border-radius: 6px;
  padding: 1.25rem;
  margin: 2rem 0;
}

.takeaways h4 {
  color: #0277BD;
  margin-top: 0;
}

/* ----------------------------------------------------------------------------
   FOOTER
   ---------------------------------------------------------------------------- */

footer {
  margin-top: 3rem;
  padding-top: 2rem;
  border-top: 2px solid #DEE2E6;
  color: #5A6C7D;
}

/* ----------------------------------------------------------------------------
   ACCESSIBILITY ENHANCEMENTS
   ---------------------------------------------------------------------------- */

/* Focus indicators for keyboard navigation */
*:focus {
  outline: 2px solid #0054AD;
  outline-offset: 2px;
}

/* Skip to main content (for screen readers) */
.skip-to-main {
  position: absolute;
  left: -9999px;
  z-index: 999;
}

.skip-to-main:focus {
  left: 0;
  top: 0;
  background: #0054AD;
  color: white;
  padding: 0.5rem 1rem;
}

/* ----------------------------------------------------------------------------
   RESPONSIVE ADJUSTMENTS
   ---------------------------------------------------------------------------- */

@media (max-width: 768px) {
  h1 { font-size: 2rem; }
  h2 { font-size: 1.5rem; }
  h3 { font-size: 1.25rem; }

  article {
    max-width: 100%;
  }

  .sidebar {
    position: static;
    max-height: none;
  }
}

/* ----------------------------------------------------------------------------
   PRINT STYLES
   ---------------------------------------------------------------------------- */

@media print {
  .navbar, .sidebar, .footer {
    display: none;
  }

  h1, h2, h3 {
    page-break-after: avoid;
  }

  pre, .sourceCode {
    page-break-inside: avoid;
  }
}
